  <a target="_blank" rel="noopener" href="https://zxalive.com" class="special-link">新站点zxalive.com</a>
<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222" media="(prefers-color-scheme: light)">
<meta name="theme-color" content="#222" media="(prefers-color-scheme: dark)"><meta name="generator" content="Hexo 6.2.0">

  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" integrity="sha256-XOqroi11tY4EFQMR9ZYwZWKj5ZXiftSx36RRuC3anlA=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"zxblog.eu.org","root":"/","images":"/images","scheme":"Gemini","darkmode":true,"version":"8.20.0","exturl":false,"sidebar":{"position":"left","width_expanded":320,"width_dual_column":240,"display":"post","padding":18,"offset":12},"hljswrap":true,"copycode":{"enable":false,"style":null},"fold":{"enable":false,"height":500},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"搜索...","empty":"没有找到任何搜索结果：${query}","hits_time":"找到 ${hits} 个搜索结果（用时 ${time} 毫秒）","hits":"找到 ${hits} 个搜索结果"}}</script><script src="/js/config.js"></script>

    <meta name="description" content="【项目】瑞吉外卖">
<meta property="og:type" content="article">
<meta property="og:title" content="【项目】瑞吉外卖">
<meta property="og:url" content="https://zxblog.eu.org/posts/f19a/index.html">
<meta property="og:site_name" content="知行博客">
<meta property="og:description" content="【项目】瑞吉外卖">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916103709653.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916103707897.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916103707112.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916103709172.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916103709336.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916103709288.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916103708176.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916103710710.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916103709767.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916103712439.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916103712002.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916103710401.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_18,color_FFFFFF,t_70,g_se,x_16.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916103712556.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916103711105.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916103712323.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916103712486.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916103712318.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_14,color_FFFFFF,t_70,g_se,x_16.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916103712686.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/144edcf9ade44dcea529373285719c9c.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916103715764.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916103713045.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_14,color_FFFFFF,t_70,g_se,x_16-20220916103713151.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916103713448.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916103715414.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916103715937.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916103715781.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/4ea7f7266a3b4efba8621fc6fcd4ec4d.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916103715770.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916103715982.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_10,color_FFFFFF,t_70,g_se,x_16.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916103716488.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916103717038.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/4d59fa597b1b4ca5a5a12a1f80f88498.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916103716446.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916103716232.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/8e8a750ed8d441a081eb67ed63d5301e.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916103716617.png">
<meta property="og:image" content="https://img-blog.csdnimg.cn/b961db13ccb745ec9c9c848a2ccd7827.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_15,color_FFFFFF,t_70,g_se,x_16.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_10,color_FFFFFF,t_70,g_se,x_16-20220916103717081.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/75ce3c4fe6db43acacaf3e0363fd1986.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164023468.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_13,color_FFFFFF,t_70,g_se,x_16.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164024329.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164023722.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164026066.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_19,color_FFFFFF,t_70,g_se,x_16.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164024491.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164025536.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164024890.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164025182.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164025401.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/6dfdbf9b66f64685b75485a6e1b06050.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164025628.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/2898790d85b94608834990727925fb97.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164025898.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164025990.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164026062.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/e536272f4c2043e285048e01f252105d.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/84428afae200425a8bafc1b152e08790.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164026847.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164026332.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164026708.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164026488.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164026766.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164027045.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164026826.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164027040.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_19,color_FFFFFF,t_70,g_se,x_16-20220916164027206.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/cfc1b1ab350542ee9c34294681d04f4f.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/6fa50f08102e4d11b2eea1e219588b47.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/14872ff1b74d468eb8c4b81eb146a5d8.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/c9caf06f18f6446f80b9bafb22d666b4.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164028110.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164028073.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164028164.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164028193.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164027950.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/25c7e8234d51465abf4fd78bc6329c5e.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164028346.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164028432.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_14,color_FFFFFF,t_70,g_se,x_16-20220916164028426.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/4b5b4df2651347f2b1f411749c703508.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_18,color_FFFFFF,t_70,g_se,x_16-20220916164028605.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164029834.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/c84418e373044f5dbe6f55f8c701f9d3.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164030831.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164028920.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/b1801906a2454704bcf9347879fde242.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/d5ed3f26eed64448a3bfe45f6b438d4e.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/6a6fb5d80d5c4d71971df4ebaf0e0d97.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164029299.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/53c29acf785d4293beba461c8ced01f6.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164029742.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/63ec2d99b7244b148f6fadd1e94ef786.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_18,color_FFFFFF,t_70,g_se,x_16-20220916164029798.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164030479.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164030252.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164030547.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164030522.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164058828.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/704d5ce88dad4dc6a70ff1fce0c2cb37.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164057974.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164058372.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164058051.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164058430.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164059346.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164059832.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164058436.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_18,color_FFFFFF,t_70,g_se,x_16-20220916164059765.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164059273.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164059834.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164100166.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_18,color_FFFFFF,t_70,g_se,x_16-20220916164059701.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_18,color_FFFFFF,t_70,g_se,x_16-20220916164100153.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164100840.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164100405.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164100727.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164100672.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_16,color_FFFFFF,t_70,g_se,x_16.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164101477.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164101257.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_18,color_FFFFFF,t_70,g_se,x_16-20220916164100840.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164101888.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164102245.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164102233.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164103241.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164102380.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164102180.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_18,color_FFFFFF,t_70,g_se,x_16-20220916164101919.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_17,color_FFFFFF,t_70,g_se,x_16.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/9968500a9fe4438ea15437d01d58509b.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164102955.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164102511.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/1d90289c439f4fb2ba6ccb7cc7a18db2.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164103379.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164103447.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_16,color_FFFFFF,t_70,g_se,x_16-20220916164103033.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164103366.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164103246.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_19,color_FFFFFF,t_70,g_se,x_16-20220916164103477.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_19,color_FFFFFF,t_70,g_se,x_16-20220916164103862.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_19,color_FFFFFF,t_70,g_se,x_16-20220916164103703.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/f7bd0b3a641b4ad48bbe2da5a62af309.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164103972.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164104160.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164103805.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_18,color_FFFFFF,t_70,g_se,x_16-20220916164104080.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/d27210b8b9ff4a5d88a159fc29cee19a.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164130546.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/5393abecfb544767b95f4a92fd28dc1d.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_15,color_FFFFFF,t_70,g_se,x_16-20220916164123250.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_13,color_FFFFFF,t_70,g_se,x_16-20220916164122895.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164123029.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164122953.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164125838.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164123894.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164126616.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/6bdfafcb4df44ad89c361fd85672822b.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164127024.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_16,color_FFFFFF,t_70,g_se,x_16-20220916164127996.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164129222.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164129692.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/644dba9e42314c0caeedc23ec7ea81bb.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164128790.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164129443.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_11,color_FFFFFF,t_70,g_se,x_16.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164130102.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164132436.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/e2c59ed1f8c0419bafa345ba9602fb5f.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164131276.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164134063.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164134496.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164133525.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164134807.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164137555.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_17,color_FFFFFF,t_70,g_se,x_16-20220916164137729.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164136771.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164137303.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164137313.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164143189.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164138176.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164140004.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164140299.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164140526.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164140158.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/904531ba241e493eaf391545aa13af8c.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/b9118d29a8114c4c84fc86fe6a924391.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164143499.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164143815.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/6476e0a3b97845b68a19b612f4999599.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164143669.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164143257.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164148072.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164145617.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164145435.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/8609322928b84cfda12f72f8c5a07170.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164145659.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164146018.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164147635.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164149919.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164150108.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164148493.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/afd035aa26bd42508773d25d3ccfadec.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164147681.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/44aa1a3938194deca9e3c5b6d27abe6a.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916165109531.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916165111294.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_16,color_FFFFFF,t_70,g_se,x_16-20220916165111334.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916165110274.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916165111832.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916165114780.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916165111986.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916165110280.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916165111909.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916165111824.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916165111715.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916165113367.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916165112280.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916165113479.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/962f00773cf94ccbb23c30497aa039dc.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916165113298.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/41aac8b1fed44ee8ad90595db68c57a4.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/8f72203cce52485d9daa061190d5dc21.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916165113615.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916165114324.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916165113883.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916165113943.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/28c1fe9332114bcfad93c003f9e07faf.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916165114268.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/553b34861a9f4cfe845b1d09555f4649.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/9ccdea282c2247609be1ad9c5b782a63.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/b0fd9d301b97483daba2163f707f7e57.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916165114717.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916165115024.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/f9cd3a9280b94019b8264a94660fc0e5.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_12,color_FFFFFF,t_70,g_se,x_16.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_11,color_FFFFFF,t_70,g_se,x_16-20220916165118031.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916165118094.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916165118227.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916165118687.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916165118368.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916165120993.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916165118042.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916165121114.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916165124448.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_13,color_FFFFFF,t_70,g_se,x_16-20220916165118632.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916165119005.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916165119437.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916165119529.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916165120437.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916165119854.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916165120432.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916165120811.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916165126620.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916165123201.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_13,color_FFFFFF,t_70,g_se,x_16-20220916165123146.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916165124565.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_16,color_FFFFFF,t_70,g_se,x_16-20220916165122756.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916165124955.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916165127736.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_17,color_FFFFFF,t_70,g_se,x_16-20220916165128322.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916165127807.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916165128963.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/0f775d4f99d64cdaba8c4c6d469502ae.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916165128940.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_14,color_FFFFFF,t_70,g_se,x_16-20220916165130675.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916165130620.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_14,color_FFFFFF,t_70,g_se,x_16-20220916165129442.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916165130659.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916165130786.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/5a5a86f2c14d4e16b9b431b5b37f762c.png">
<meta property="og:image" content="https://img-blog.csdnimg.cn/fefcf7406bcb4c7390600facfee86c9e.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_15,color_FFFFFF,t_70,g_se,x_16">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916165131099.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/0769ed373f8a4f8287de1492977471c5.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_15,color_FFFFFF,t_70,g_se,x_16-20220916165130867.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916165131712.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_16,color_FFFFFF,t_70,g_se,x_16-20220916165130986.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_15,color_FFFFFF,t_70,g_se,x_16-20220916165131090.png">
<meta property="og:image" content="https://img-blog.csdnimg.cn/650dac4ccd3b46c8ab647fe1bef9f0dc.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_15,color_FFFFFF,t_70,g_se,x_16-20220916165131328.png">
<meta property="og:image" content="https://img-blog.csdnimg.cn/ebf17a47ddd34823b37693637f55dfa7.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_15,color_FFFFFF,t_70,g_se,x_16">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916165131772.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164214522.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164214565.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164213999.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_15,color_FFFFFF,t_70,g_se,x_16-20220916164218050.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_16,color_FFFFFF,t_70,g_se,x_16-20220916164214787.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164229904.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_15,color_FFFFFF,t_70,g_se,x_16-20220916164214684.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164218244.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_15,color_FFFFFF,t_70,g_se,x_16-20220916164214684.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_16,color_FFFFFF,t_70,g_se,x_16-20220916164217602.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_15,color_FFFFFF,t_70,g_se,x_16-20220916164218404.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164218455.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_15,color_FFFFFF,t_70,g_se,x_16-20220916164218887.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_16,color_FFFFFF,t_70,g_se,x_16-20220916164218518.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/65387e5a86794b9bb8445f84eb875931.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164222931.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164224197.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164225420.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164222630.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164221314.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164225152.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164224120.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164225042.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_15,color_FFFFFF,t_70,g_se,x_16-20220916164229011.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_15,color_FFFFFF,t_70,g_se,x_16-20220916164229698.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164226573.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_16,color_FFFFFF,t_70,g_se,x_16-20220916164229477.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164232144.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164228967.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164233571.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164231677.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164230004.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_13,color_FFFFFF,t_70,g_se,x_16-20220916164231616.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164231936.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_13,color_FFFFFF,t_70,g_se,x_16-20220916164233700.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/8dc9d1db46f24a78aa49d157e2041562.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_14,color_FFFFFF,t_70,g_se,x_16-20220916164233804.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/62d244023c6e489c9a6db416ca6a4528.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/349d2348410f469cb69aae8c01a99a13.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_13,color_FFFFFF,t_70,g_se,x_16-20220916164233810.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164234111.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_13,color_FFFFFF,t_70,g_se,x_16-20220916164234360.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164236889.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_14,color_FFFFFF,t_70,g_se,x_16-20220916164236840.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164236790.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/00eb8f5c596540768b225ef99f7860e5.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/f50de08b6f4148ea99dc2d0dcb2ff2d7.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/3f0f7b113ec645f7a962d5721676679a.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/16883d70b587482cbecfcbbf1815287e.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/0fd1211e841745869f58e10c78b6e9a0.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/48bf465de55846ba9e1c5f7f045d2b1a.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/d5497d30dfac4d9b808ca60a0c795eb7.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/ccb81254f1134b90bf0fcb6c46583318.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/d7d0088c462143a1bcd2ac4c67376648.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/2df9c9360071482cbcf92ea8b2244853.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/1fada2bdd50742bc80c199f0046cce6e.png">
<meta property="og:image" content="https://zxblog.eu.org/assets/08951d06b10c418bb1c8fce70903d12d.png">
<meta property="article:published_time" content="2022-01-02T08:10:32.000Z">
<meta property="article:modified_time" content="2024-08-18T10:14:29.242Z">
<meta property="article:author" content="zhangxin">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://zxblog.eu.org/assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916103709653.png">


<link rel="canonical" href="https://zxblog.eu.org/posts/f19a/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":false,"isPost":true,"lang":"zh-CN","comments":true,"permalink":"https://zxblog.eu.org/posts/f19a/","path":"posts/f19a/","title":"【项目】瑞吉外卖"}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>【项目】瑞吉外卖 | 知行博客</title>
  








  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
<style>.darkmode--activated{--body-bg-color:#282828;--content-bg-color:#333;--card-bg-color:#555;--text-color:#ccc;--blockquote-color:#bbb;--link-color:#ccc;--link-hover-color:#eee;--brand-color:#ddd;--brand-hover-color:#ddd;--table-row-odd-bg-color:#282828;--table-row-hover-bg-color:#363636;--menu-item-bg-color:#555;--btn-default-bg:#222;--btn-default-color:#ccc;--btn-default-border-color:#555;--btn-default-hover-bg:#666;--btn-default-hover-color:#ccc;--btn-default-hover-border-color:#666;--highlight-background:#282b2e;--highlight-foreground:#a9b7c6;--highlight-gutter-background:#34393d;--highlight-gutter-foreground:#9ca9b6}.darkmode--activated img{opacity:.75}.darkmode--activated img:hover{opacity:.9}.darkmode--activated code{color:#69dbdc;background:0 0}button.darkmode-toggle{z-index:9999}.darkmode-ignore,img{display:flex!important}.beian img{display:inline-block!important}</style></head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <div class="column">
      <header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏" role="button">
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <p class="site-title">知行博客</p>
      <i class="logo-line"></i>
    </a>
      <p class="site-subtitle" itemprop="description">新站点：zxalive.com</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger" aria-label="搜索" role="button">
    </div>
  </div>
</div>







</header>
        
  
  <aside class="sidebar">

    <div class="sidebar-inner sidebar-nav-active sidebar-toc-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
            <div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#%E4%B8%9A%E5%8A%A1%E5%BC%80%E5%8F%91Day1"><span class="nav-number">1.</span> <span class="nav-text">业务开发Day1</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#01-%E6%9C%AC%E7%AB%A0%E5%86%85%E5%AE%B9%E4%BB%8B%E7%BB%8D"><span class="nav-number">1.1.</span> <span class="nav-text">01-本章内容介绍</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%A1%B9%E7%9B%AE%E6%95%88%E6%9E%9C%E5%B1%95%E7%A4%BA"><span class="nav-number">1.1.1.</span> <span class="nav-text">项目效果展示</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%AE%A1%E7%90%86%E7%95%8C%E9%9D%A2%E5%B1%95%E7%A4%BA"><span class="nav-number">1.1.2.</span> <span class="nav-text">管理界面展示</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91%E4%BD%BF%E7%94%A8HTML5%E6%8A%80%E6%9C%AF%EF%BC%88%E8%87%AA%E9%80%82%E5%BA%94%E5%B1%8F%E5%B9%95%E5%A4%A7%E5%B0%8F%E5%8A%9F%E8%83%BD%EF%BC%89"><span class="nav-number">1.1.3.</span> <span class="nav-text">前端开发使用HTML5技术（自适应屏幕大小功能）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9B%AE%E5%BD%95"><span class="nav-number">1.1.4.</span> <span class="nav-text">目录</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#02-%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91%E6%95%B4%E4%BD%93%E4%BB%8B%E7%BB%8D"><span class="nav-number">1.2.</span> <span class="nav-text">02-软件开发整体介绍</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91%E6%B5%81%E7%A8%8B"><span class="nav-number">1.2.1.</span> <span class="nav-text">软件开发流程</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%A7%92%E8%89%B2%E5%88%86%E5%B7%A5"><span class="nav-number">1.2.2.</span> <span class="nav-text">角色分工</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%BD%AF%E4%BB%B6%E7%8E%AF%E5%A2%83"><span class="nav-number">1.2.3.</span> <span class="nav-text">软件环境</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#03-%E7%91%9E%E5%90%89%E5%A4%96%E5%8D%96%E9%A1%B9%E7%9B%AE%E6%95%B4%E4%BD%93%E4%BB%8B%E7%BB%8D"><span class="nav-number">1.3.</span> <span class="nav-text">03-瑞吉外卖项目整体介绍</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9B%AE%E5%BD%95-1"><span class="nav-number">1.3.1.</span> <span class="nav-text">目录</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%A1%B9%E7%9B%AE%E4%BB%8B%E7%BB%8D"><span class="nav-number">1.3.2.</span> <span class="nav-text">项目介绍</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BA%A7%E5%93%81%E5%8E%9F%E5%9E%8B%E5%B1%95%E7%A4%BA"><span class="nav-number">1.3.3.</span> <span class="nav-text">产品原型展示</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%8A%80%E6%9C%AF%E9%80%89%E5%9E%8B"><span class="nav-number">1.3.4.</span> <span class="nav-text">技术选型</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%8A%9F%E8%83%BD%E6%9E%B6%E6%9E%84"><span class="nav-number">1.3.5.</span> <span class="nav-text">功能架构</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%A7%92%E8%89%B2"><span class="nav-number">1.3.6.</span> <span class="nav-text">角色</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#04-%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA-%E6%95%B0%E6%8D%AE%E5%BA%93%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA"><span class="nav-number">1.4.</span> <span class="nav-text">04-开发环境搭建-数据库环境搭建</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#05-%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA-maven%E9%A1%B9%E7%9B%AE%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA"><span class="nav-number">1.5.</span> <span class="nav-text">05-开发环境搭建-maven项目环境搭建</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%88%9B%E5%BB%BAmaven%E9%A1%B9%E7%9B%AE"><span class="nav-number">1.5.1.</span> <span class="nav-text">创建maven项目</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%94%B9pom%E6%96%87%E4%BB%B6"><span class="nav-number">1.5.2.</span> <span class="nav-text">改pom文件</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%86%99YML"><span class="nav-number">1.5.3.</span> <span class="nav-text">写YML</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%B8%BB%E5%90%AF%E5%8A%A8"><span class="nav-number">1.5.4.</span> <span class="nav-text">主启动</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%B0%86%E5%89%8D%E7%AB%AF%E8%B5%84%E6%BA%90%E6%94%BE%E5%85%A5resources%E4%B8%8B"><span class="nav-number">1.5.5.</span> <span class="nav-text">将前端资源放入resources下</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%90%AF%E5%8A%A8%E5%B7%A5%E7%A8%8B"><span class="nav-number">1.5.6.</span> <span class="nav-text">启动工程</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%85%8D%E7%BD%AE%E7%B1%BB%E8%AE%BE%E7%BD%AE%E9%9D%99%E6%80%81%E8%B5%84%E6%BA%90%E6%98%A0%E5%B0%84"><span class="nav-number">1.5.7.</span> <span class="nav-text">配置类设置静态资源映射</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#06-%E5%90%8E%E5%8F%B0%E7%B3%BB%E7%BB%9F%E7%99%BB%E5%BD%95%E5%8A%9F%E8%83%BD-%E9%9C%80%E6%B1%82%E5%88%86%E6%9E%90"><span class="nav-number">1.6.</span> <span class="nav-text">06-后台系统登录功能-需求分析</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%9C%80%E6%B1%82%E5%88%86%E6%9E%90"><span class="nav-number">1.6.1.</span> <span class="nav-text">需求分析</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#07-%E5%90%8E%E5%8F%B0%E7%B3%BB%E7%BB%9F%E7%99%BB%E5%BD%95%E5%8A%9F%E8%83%BD-%E4%BB%A3%E7%A0%81%E5%BC%80%E5%8F%91%EF%BC%88%E5%88%9B%E5%BB%BAcontroller%EF%BC%8Cservice%EF%BC%8Cmapper%EF%BC%8C%E5%AE%9E%E4%BD%93%E7%B1%BB%EF%BC%89"><span class="nav-number">1.7.</span> <span class="nav-text">07-后台系统登录功能-代码开发（创建controller，service，mapper，实体类）</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BB%A3%E7%A0%81%E5%BC%80%E5%8F%91"><span class="nav-number">1.7.1.</span> <span class="nav-text">代码开发</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#08-%E5%90%8E%E5%8F%B0%E7%B3%BB%E7%BB%9F%E7%99%BB%E5%BD%95%E5%8A%9F%E8%83%BD-%E4%BB%A3%E7%A0%81%E5%BC%80%E5%8F%91%EF%BC%88%E5%AF%BC%E5%85%A5%E9%80%9A%E7%94%A8%E8%BF%94%E5%9B%9E%E7%BB%93%E6%9E%9C%E7%B1%BB%EF%BC%89"><span class="nav-number">1.8.</span> <span class="nav-text">08-后台系统登录功能-代码开发（导入通用返回结果类）</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%AF%BC%E5%85%A5%E9%80%9A%E7%94%A8%E7%BB%93%E6%9E%9C%E7%B1%BB"><span class="nav-number">1.8.1.</span> <span class="nav-text">导入通用结果类</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#09-%E5%90%8E%E5%8F%B0%E7%B3%BB%E7%BB%9F%E7%99%BB%E5%BD%95%E5%8A%9F%E8%83%BD-%E4%BB%A3%E7%A0%81%E5%BC%80%E5%8F%91%EF%BC%88%E6%A2%B3%E7%90%86%E7%99%BB%E5%BD%95%E6%96%B9%E6%B3%95%E5%A4%84%E7%90%86%E9%80%BB%E8%BE%91%EF%BC%89"><span class="nav-number">1.9.</span> <span class="nav-text">09-后台系统登录功能-代码开发（梳理登录方法处理逻辑）</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BB%A3%E7%A0%81%E5%BC%80%E5%8F%91%E4%BB%A5%E5%8F%8A%E6%A2%B3%E7%90%86"><span class="nav-number">1.9.1.</span> <span class="nav-text">代码开发以及梳理</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#10-%E5%90%8E%E5%8F%B0%E7%B3%BB%E7%BB%9F%E7%99%BB%E5%BD%95%E5%8A%9F%E8%83%BD-%E4%BB%A3%E7%A0%81%E5%BC%80%E5%8F%91%EF%BC%88%E5%AE%9E%E7%8E%B0%E7%99%BB%E5%BD%95%E5%A4%84%E7%90%86%E9%80%BB%E8%BE%91%EF%BC%89"><span class="nav-number">1.10.</span> <span class="nav-text">10-后台系统登录功能-代码开发（实现登录处理逻辑）</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%BC%96%E5%86%99%E4%BB%A3%E7%A0%81%E5%AE%9E%E7%8E%B0%E9%80%BB%E8%BE%91"><span class="nav-number">1.10.1.</span> <span class="nav-text">编写代码实现逻辑</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#11-%E5%90%8E%E5%8F%B0%E7%B3%BB%E7%BB%9F%E7%99%BB%E5%BD%95%E5%8A%9F%E8%83%BD-%E4%BB%A3%E7%A0%81%E5%BC%80%E5%8F%91%EF%BC%88%E5%8A%9F%E8%83%BD%E6%B5%8B%E8%AF%95%EF%BC%89"><span class="nav-number">1.11.</span> <span class="nav-text">11-后台系统登录功能-代码开发（功能测试）</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%B5%8B%E8%AF%95"><span class="nav-number">1.11.1.</span> <span class="nav-text">测试</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#12-%E5%90%8E%E5%8F%B0%E7%B3%BB%E7%BB%9F%E9%80%80%E5%87%BA%E5%8A%9F%E8%83%BD-%E9%9C%80%E6%B1%82%E5%88%86%E6%9E%90-amp-%E4%BB%A3%E7%A0%81%E5%BC%80%E5%8F%91-amp-%E5%8A%9F%E8%83%BD%E6%B5%8B%E8%AF%95"><span class="nav-number">1.12.</span> <span class="nav-text">12-后台系统退出功能_需求分析&amp;代码开发&amp;功能测试</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%8A%9F%E8%83%BD%E6%B5%8B%E8%AF%95"><span class="nav-number">1.12.1.</span> <span class="nav-text">功能测试</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#13-%E5%88%86%E6%9E%90%E5%90%8E%E5%8F%B0%E7%B3%BB%E7%BB%9F%E9%A6%96%E9%A1%B5%E6%9E%84%E6%88%90%E5%92%8C%E6%95%88%E6%9E%9C%E5%B1%95%E7%A4%BA%E6%96%B9%E5%BC%8F"><span class="nav-number">1.13.</span> <span class="nav-text">13-分析后台系统首页构成和效果展示方式</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%B1%95%E7%A4%BA%E6%95%88%E6%9E%9C%E4%BB%A5%E5%8F%8A%E5%88%86%E6%9E%90"><span class="nav-number">1.13.1.</span> <span class="nav-text">展示效果以及分析</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E4%B8%9A%E5%8A%A1%E5%BC%80%E5%8F%91Day2"><span class="nav-number">2.</span> <span class="nav-text">业务开发Day2</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#01-%E6%9C%AC%E7%AB%A0%E5%86%85%E5%AE%B9%E4%BB%8B%E7%BB%8D-1"><span class="nav-number">2.1.</span> <span class="nav-text">01-本章内容介绍</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9B%AE%E5%BD%95-2"><span class="nav-number">2.1.1.</span> <span class="nav-text">目录</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#02-%E5%AE%8C%E5%96%84%E7%99%BB%E5%BD%95%E5%8A%9F%E8%83%BD-%E9%97%AE%E9%A2%98%E5%88%86%E6%9E%90%E5%B9%B6%E5%88%9B%E5%BB%BA%E8%BF%87%E6%BB%A4%E5%99%A8"><span class="nav-number">2.2.</span> <span class="nav-text">02-完善登录功能_问题分析并创建过滤器</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%97%AE%E9%A2%98%E5%88%86%E6%9E%90"><span class="nav-number">2.2.1.</span> <span class="nav-text">问题分析</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BB%A3%E7%A0%81%E5%AE%9E%E7%8E%B0"><span class="nav-number">2.2.2.</span> <span class="nav-text">代码实现</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%B5%8B%E8%AF%95-1"><span class="nav-number">2.2.3.</span> <span class="nav-text">测试</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#03-%E5%AE%8C%E5%96%84%E7%99%BB%E5%BD%95%E5%8A%9F%E8%83%BD-%E4%BB%A3%E7%A0%81%E5%BC%80%E5%8F%91"><span class="nav-number">2.3.</span> <span class="nav-text">03-完善登录功能_代码开发</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%A4%84%E7%90%86%E9%80%BB%E8%BE%91"><span class="nav-number">2.3.1.</span> <span class="nav-text">处理逻辑</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%AE%8C%E5%96%84LoginCheckFilter%E8%BF%87%E6%BB%A4%E5%99%A8%E4%BB%A3%E7%A0%81"><span class="nav-number">2.3.2.</span> <span class="nav-text">完善LoginCheckFilter过滤器代码</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#04-%E5%AE%8C%E5%96%84%E7%99%BB%E5%BD%95%E5%8A%9F%E8%83%BD-%E5%8A%9F%E8%83%BD%E6%B5%8B%E8%AF%95"><span class="nav-number">2.4.</span> <span class="nav-text">04-完善登录功能_功能测试</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%9C%A8LoginCheckFilter%E7%B1%BB%E4%B8%AD%E5%8A%A0%E5%85%A5%E6%97%A5%E5%BF%97"><span class="nav-number">2.4.1.</span> <span class="nav-text">在LoginCheckFilter类中加入日志</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%B5%8B%E8%AF%95-2"><span class="nav-number">2.4.2.</span> <span class="nav-text">测试</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#05-%E6%96%B0%E5%A2%9E%E5%91%98%E5%B7%A5-%E9%9C%80%E6%B1%82%E5%88%86%E6%9E%90%E5%92%8C%E6%95%B0%E6%8D%AE%E6%A8%A1%E5%9E%8B"><span class="nav-number">2.5.</span> <span class="nav-text">05-新增员工_需求分析和数据模型</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%9C%80%E6%B1%82%E5%88%86%E6%9E%90-1"><span class="nav-number">2.5.1.</span> <span class="nav-text">需求分析</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#06-%E6%96%B0%E5%A2%9E%E5%91%98%E5%B7%A5-%E6%A2%B3%E7%90%86%E7%A8%8B%E5%BA%8F%E6%89%A7%E8%A1%8C%E6%B5%81%E7%A8%8B"><span class="nav-number">2.6.</span> <span class="nav-text">06-新增员工_梳理程序执行流程</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%9C%A8%E5%BC%80%E5%8F%91%E4%BB%A3%E7%A0%81%E4%B9%8B%E5%89%8D%EF%BC%8C%E9%9C%80%E8%A6%81%E6%A2%B3%E7%90%86%E4%B8%80%E4%B8%8B%E6%95%B4%E4%B8%AA%E7%A8%8B%E5%BA%8F%E7%9A%84%E6%89%A7%E8%A1%8C%E8%BF%87%E7%A8%8B"><span class="nav-number">2.6.1.</span> <span class="nav-text">在开发代码之前，需要梳理一下整个程序的执行过程:</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#07-%E6%96%B0%E5%A2%9E%E5%91%98%E5%B7%A5-%E4%BB%A3%E7%A0%81%E5%BC%80%E5%8F%91%E5%92%8C%E5%8A%9F%E8%83%BD%E6%B5%8B%E8%AF%95"><span class="nav-number">2.7.</span> <span class="nav-text">07-新增员工_代码开发和功能测试</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BB%A3%E7%A0%81%E5%BC%80%E5%8F%91%E5%92%8C%E5%8A%9F%E8%83%BD%E6%B5%8B%E8%AF%95"><span class="nav-number">2.7.1.</span> <span class="nav-text">代码开发和功能测试</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#08-%E6%96%B0%E5%A2%9E%E5%91%98%E5%B7%A5-%E7%BC%96%E5%86%99%E5%85%A8%E5%B1%80%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86%E5%99%A8"><span class="nav-number">2.8.</span> <span class="nav-text">08-新增员工_编写全局异常处理器</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%85%A8%E5%B1%80%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86%E5%99%A8"><span class="nav-number">2.8.1.</span> <span class="nav-text">全局异常处理器</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#09-%E6%96%B0%E5%A2%9E%E5%91%98%E5%B7%A5-%E5%AE%8C%E5%96%84%E5%85%A8%E5%B1%80%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86%E5%99%A8%E5%B9%B6%E6%B5%8B%E8%AF%95"><span class="nav-number">2.9.</span> <span class="nav-text">09-新增员工_完善全局异常处理器并测试</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%AE%8C%E5%96%84%E5%85%A8%E5%B1%80%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86%E5%99%A8%E5%B9%B6%E6%B5%8B%E8%AF%95"><span class="nav-number">2.9.1.</span> <span class="nav-text">完善全局异常处理器并测试</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#10-%E6%96%B0%E5%A2%9E%E5%91%98%E5%B7%A5-%E5%B0%8F%E8%8A%82"><span class="nav-number">2.10.</span> <span class="nav-text">10-新增员工_小节</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%80%BB%E7%BB%93"><span class="nav-number">2.10.1.</span> <span class="nav-text">总结</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#11-%E5%91%98%E5%B7%A5%E4%BF%A1%E6%81%AF%E5%88%86%E9%A1%B5%E6%9F%A5%E8%AF%A2-%E9%9C%80%E6%B1%82%E5%88%86%E6%9E%90"><span class="nav-number">2.11.</span> <span class="nav-text">11-员工信息分页查询_需求分析</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%9C%80%E6%B1%82%E5%88%86%E6%9E%90-2"><span class="nav-number">2.11.1.</span> <span class="nav-text">需求分析</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#12-%E5%91%98%E5%B7%A5%E4%BF%A1%E6%81%AF%E5%88%86%E9%A1%B5%E6%9F%A5%E8%AF%A2-%E6%A2%B3%E7%90%86%E7%A8%8B%E5%BA%8F%E6%89%A7%E8%A1%8C%E6%B5%81%E7%A8%8B"><span class="nav-number">2.12.</span> <span class="nav-text">12-员工信息分页查询_梳理程序执行流程</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%A8%8B%E5%BA%8F%E6%89%A7%E8%A1%8C%E6%B5%81%E7%A8%8B"><span class="nav-number">2.12.1.</span> <span class="nav-text">程序执行流程</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#13-%E5%91%98%E5%B7%A5%E4%BF%A1%E6%81%AF%E5%88%86%E9%A1%B5%E6%9F%A5%E8%AF%A2-%E4%BB%A3%E7%A0%81%E5%BC%80%E5%8F%911"><span class="nav-number">2.13.</span> <span class="nav-text">13-员工信息分页查询_代码开发1</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%85%8D%E7%BD%AEMP%E5%88%86%E9%A1%B5%E6%8F%92%E4%BB%B6"><span class="nav-number">2.13.1.</span> <span class="nav-text">配置MP分页插件</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%88%86%E6%9E%90%E5%89%8D%E7%AB%AF%E4%BB%A3%E7%A0%81"><span class="nav-number">2.13.2.</span> <span class="nav-text">分析前端代码</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9B%B8%E5%85%B3%E4%BB%A3%E7%A0%81"><span class="nav-number">2.13.3.</span> <span class="nav-text">相关代码</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#14-%E5%91%98%E5%B7%A5%E4%BF%A1%E6%81%AF%E5%88%86%E9%A1%B5%E6%9F%A5%E8%AF%A2-%E4%BB%A3%E7%A0%81%E5%BC%80%E5%8F%912"><span class="nav-number">2.14.</span> <span class="nav-text">14-员工信息分页查询_代码开发2</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BB%A3%E7%A0%81%E4%B8%AD%E6%B7%BB%E5%8A%A0%E5%8A%9F%E8%83%BD"><span class="nav-number">2.14.1.</span> <span class="nav-text">代码中添加功能</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#15-%E5%91%98%E5%B7%A5%E4%BF%A1%E6%81%AF%E5%88%86%E9%A1%B5%E6%9F%A5%E8%AF%A2-%E5%8A%9F%E8%83%BD%E6%B5%8B%E8%AF%95"><span class="nav-number">2.15.</span> <span class="nav-text">15-员工信息分页查询_功能测试</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%B5%8B%E8%AF%95-3"><span class="nav-number">2.15.1.</span> <span class="nav-text">测试</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#16-%E5%91%98%E5%B7%A5%E4%BF%A1%E6%81%AF%E5%88%86%E9%A1%B5%E6%9F%A5%E8%AF%A2-%E8%A1%A5%E5%85%85%E8%AF%B4%E6%98%8E"><span class="nav-number">2.16.</span> <span class="nav-text">16-员工信息分页查询_补充说明</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%AF%B4%E6%98%8E"><span class="nav-number">2.16.1.</span> <span class="nav-text">说明</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#17-%E5%90%AF%E7%94%A8%E3%80%81%E7%A6%81%E7%94%A8%E5%91%98%E5%B7%A5%E8%B4%A6%E5%8F%B7-%E9%9C%80%E6%B1%82%E5%88%86%E6%9E%90"><span class="nav-number">2.17.</span> <span class="nav-text">17-启用、禁用员工账号_需求分析</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%9C%80%E6%B1%82%E5%88%86%E6%9E%90-3"><span class="nav-number">2.17.1.</span> <span class="nav-text">需求分析</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#18-%E5%90%AF%E7%94%A8%E3%80%81%E7%A6%81%E7%94%A8%E5%91%98%E5%B7%A5%E8%B4%A6%E5%8F%B7-%E5%88%86%E6%9E%90%E9%A1%B5%E9%9D%A2%E6%8C%89%E9%92%AE%E5%8A%A8%E6%80%81%E6%98%BE%E7%A4%BA%E6%95%88%E6%9E%9C"><span class="nav-number">2.18.</span> <span class="nav-text">18-启用、禁用员工账号_分析页面按钮动态显示效果</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%88%86%E6%9E%90"><span class="nav-number">2.18.1.</span> <span class="nav-text">分析</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#19-%E5%90%AF%E7%94%A8%E3%80%81%E7%A6%81%E7%94%A8%E5%91%98%E5%B7%A5%E8%B4%A6%E5%8F%B7-%E5%88%86%E6%9E%90%E9%A1%B5%E9%9D%A2ajax%E8%AF%B7%E6%B1%82%E5%8F%91%E9%80%81%E8%BF%87%E7%A8%8B"><span class="nav-number">2.19.</span> <span class="nav-text">19-启用、禁用员工账号_分析页面ajax请求发送过程</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%88%86%E6%9E%90-1"><span class="nav-number">2.19.1.</span> <span class="nav-text">分析</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#20-%E5%90%AF%E7%94%A8%E3%80%81%E7%A6%81%E7%94%A8%E5%91%98%E5%B7%A5%E8%B4%A6%E5%8F%B7-%E4%BB%A3%E7%A0%81%E5%BC%80%E5%8F%91%E5%92%8C%E5%8A%9F%E8%83%BD%E6%B5%8B%E8%AF%95"><span class="nav-number">2.20.</span> <span class="nav-text">20-启用、禁用员工账号_代码开发和功能测试</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BB%A3%E7%A0%81%E5%BC%80%E5%8F%91%E5%92%8C%E5%8A%9F%E8%83%BD%E6%B5%8B%E8%AF%95-1"><span class="nav-number">2.20.1.</span> <span class="nav-text">代码开发和功能测试</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#21-%E5%90%AF%E7%94%A8%E3%80%81%E7%A6%81%E7%94%A8%E5%91%98%E5%B7%A5%E8%B4%A6%E5%8F%B7-%E4%BB%A3%E7%A0%81%E4%BF%AE%E5%A4%8D%E9%85%8D%E7%BD%AE%E7%8A%B6%E6%80%81%E8%BD%AC%E6%8D%A2%E5%99%A8"><span class="nav-number">2.21.</span> <span class="nav-text">21-启用、禁用员工账号_代码修复配置状态转换器</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%85%8D%E7%BD%AE%E7%8A%B6%E6%80%81%E8%BD%AC%E6%8D%A2%E5%99%A8"><span class="nav-number">2.21.1.</span> <span class="nav-text">配置状态转换器</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#22-%E5%90%AF%E7%94%A8%E3%80%81%E7%A6%81%E7%94%A8%E5%91%98%E5%B7%A5%E8%B4%A6%E5%8F%B7-%E5%86%8D%E6%AC%A1%E6%B5%8B%E8%AF%95"><span class="nav-number">2.22.</span> <span class="nav-text">22-启用、禁用员工账号_再次测试</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%B5%8B%E8%AF%95-4"><span class="nav-number">2.22.1.</span> <span class="nav-text">测试</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#23-%E7%BC%96%E8%BE%91%E5%91%98%E5%B7%A5%E4%BF%A1%E6%81%AF-%E9%9C%80%E6%B1%82%E5%88%86%E6%9E%90%E5%92%8C%E6%A2%B3%E7%90%86%E7%A8%8B%E5%BA%8F%E6%89%A7%E8%A1%8C%E6%B5%81%E7%A8%8B"><span class="nav-number">2.23.</span> <span class="nav-text">23-编辑员工信息_需求分析和梳理程序执行流程</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%9C%80%E6%B1%82%E5%88%86%E6%9E%90-4"><span class="nav-number">2.23.1.</span> <span class="nav-text">需求分析</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%B5%81%E7%A8%8B"><span class="nav-number">2.23.2.</span> <span class="nav-text">流程</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#24-%E7%BC%96%E8%BE%91%E5%91%98%E5%B7%A5%E4%BF%A1%E6%81%AF-%E9%A1%B5%E9%9D%A2%E6%95%88%E6%9E%9C%E5%88%86%E6%9E%90%E5%92%8C%E4%BB%A3%E7%A0%81%E5%BC%80%E5%8F%91"><span class="nav-number">2.24.</span> <span class="nav-text">24-编辑员工信息_页面效果分析和代码开发</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%A1%B5%E9%9D%A2%E5%88%86%E6%9E%90"><span class="nav-number">2.24.1.</span> <span class="nav-text">页面分析</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BB%A3%E7%A0%81%E5%BC%80%E5%8F%91-1"><span class="nav-number">2.24.2.</span> <span class="nav-text">代码开发</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#25-%E7%BC%96%E8%BE%91%E5%91%98%E5%B7%A5%E4%BF%A1%E6%81%AF-%E5%8A%9F%E8%83%BD%E6%B5%8B%E8%AF%95"><span class="nav-number">2.25.</span> <span class="nav-text">25-编辑员工信息_功能测试</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%B5%8B%E8%AF%95-5"><span class="nav-number">2.25.1.</span> <span class="nav-text">测试</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E4%B8%9A%E5%8A%A1%E5%BC%80%E5%8F%91Day3"><span class="nav-number">3.</span> <span class="nav-text">业务开发Day3</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#01-%E6%9C%AC%E7%AB%A0%E5%86%85%E5%AE%B9%E4%BB%8B%E7%BB%8D-2"><span class="nav-number">3.1.</span> <span class="nav-text">01-本章内容介绍</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%86%85%E5%AE%B9"><span class="nav-number">3.1.1.</span> <span class="nav-text">内容</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#02-%E5%85%AC%E5%85%B1%E5%AD%97%E6%AE%B5%E8%87%AA%E5%8A%A8%E5%A1%AB%E5%85%85-%E5%86%85%E5%AE%B9%E5%88%86%E6%9E%90"><span class="nav-number">3.2.</span> <span class="nav-text">02-公共字段自动填充-内容分析</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%97%AE%E9%A2%98%E5%88%86%E6%9E%90-1"><span class="nav-number">3.2.1.</span> <span class="nav-text">问题分析</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#03-%E5%85%AC%E5%85%B1%E5%AD%97%E6%AE%B5%E8%87%AA%E5%8A%A8%E5%A1%AB%E5%85%85-%E4%BB%A3%E7%A0%81%E5%AE%9E%E7%8E%B0%E5%B9%B6%E6%B5%8B%E8%AF%95"><span class="nav-number">3.3.</span> <span class="nav-text">03-公共字段自动填充-代码实现并测试</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BB%A3%E7%A0%81%E5%AE%9E%E7%8E%B0-1"><span class="nav-number">3.3.1.</span> <span class="nav-text">代码实现</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#04-%E5%85%AC%E5%85%B1%E5%AD%97%E6%AE%B5%E8%87%AA%E5%8A%A8%E5%A1%AB%E5%85%85-%E5%8A%9F%E8%83%BD%E5%AE%8C%E5%96%84"><span class="nav-number">3.4.</span> <span class="nav-text">04-公共字段自动填充-功能完善</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%8A%9F%E8%83%BD%E5%AE%8C%E5%96%84"><span class="nav-number">3.4.1.</span> <span class="nav-text">功能完善</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#05-%E6%96%B0%E5%A2%9E%E5%88%86%E7%B1%BB-%E9%9C%80%E6%B1%82%E5%88%86%E6%9E%90-amp-%E6%95%B0%E6%8D%AE%E6%A8%A1%E5%9E%8B-amp-%E4%BB%A3%E7%A0%81%E5%BC%80%E5%8F%91-amp-%E5%8A%9F%E8%83%BD%E6%B5%8B%E8%AF%95"><span class="nav-number">3.5.</span> <span class="nav-text">05-新增分类-需求分析&amp;数据模型&amp;代码开发&amp;功能测试</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%9C%80%E6%B1%82%E5%88%86%E6%9E%90-5"><span class="nav-number">3.5.1.</span> <span class="nav-text">需求分析</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%95%B0%E6%8D%AE%E6%A8%A1%E5%9E%8B"><span class="nav-number">3.5.2.</span> <span class="nav-text">数据模型</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BB%A3%E7%A0%81%E5%88%86%E6%9E%90"><span class="nav-number">3.5.3.</span> <span class="nav-text">代码分析</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%8A%9F%E8%83%BD%E6%B5%8B%E8%AF%95-1"><span class="nav-number">3.5.4.</span> <span class="nav-text">功能测试</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#06-%E5%88%86%E7%B1%BB%E4%BF%A1%E6%81%AF%E5%88%86%E9%A1%B5%E6%9F%A5%E8%AF%A2-%E9%9C%80%E6%B1%82%E5%88%86%E6%9E%90-amp-%E4%BB%A3%E7%A0%81%E5%BC%80%E5%8F%91-amp-%E5%8A%9F%E8%83%BD%E6%B5%8B%E8%AF%95"><span class="nav-number">3.6.</span> <span class="nav-text">06-分类信息分页查询-需求分析&amp;代码开发&amp;功能测试</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%9C%80%E6%B1%82%E5%88%86%E6%9E%90-6"><span class="nav-number">3.6.1.</span> <span class="nav-text">需求分析</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BB%A3%E7%A0%81%E5%BC%80%E5%8F%91-2"><span class="nav-number">3.6.2.</span> <span class="nav-text">代码开发</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%8A%9F%E8%83%BD%E6%B5%8B%E8%AF%95-2"><span class="nav-number">3.6.3.</span> <span class="nav-text">功能测试</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#07-%E5%88%A0%E9%99%A4%E5%88%86%E7%B1%BB-%E9%9C%80%E6%B1%82%E5%88%86%E6%9E%90-amp-%E4%BB%A3%E7%A0%81%E5%BC%80%E5%8F%91-amp-%E5%8A%9F%E8%83%BD%E6%B5%8B%E8%AF%95"><span class="nav-number">3.7.</span> <span class="nav-text">07-删除分类-需求分析&amp;代码开发&amp;功能测试</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%9C%80%E6%B1%82%E5%88%86%E6%9E%90-7"><span class="nav-number">3.7.1.</span> <span class="nav-text">需求分析</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BB%A3%E7%A0%81%E5%BC%80%E5%8F%91-3"><span class="nav-number">3.7.2.</span> <span class="nav-text">代码开发</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%8A%9F%E8%83%BD%E6%B5%8B%E8%AF%95-3"><span class="nav-number">3.7.3.</span> <span class="nav-text">功能测试</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#08-%E5%88%A0%E9%99%A4%E5%88%86%E7%B1%BB-%E5%8A%9F%E8%83%BD%E5%AE%8C%E5%96%84"><span class="nav-number">3.8.</span> <span class="nav-text">08-删除分类-功能完善</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%8A%9F%E8%83%BD%E5%AE%8C%E5%96%84-1"><span class="nav-number">3.8.1.</span> <span class="nav-text">功能完善</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#09-%E4%BF%AE%E6%94%B9%E5%88%86%E7%B1%BB-%E9%9C%80%E6%B1%82%E5%88%86%E6%9E%90-amp-%E5%88%86%E6%9E%90%E9%A1%B5%E9%9D%A2%E5%9B%9E%E6%98%BE%E6%95%88%E6%9E%9C-amp-%E4%BB%A3%E7%A0%81%E5%BC%80%E5%8F%91-amp-%E5%8A%9F%E8%83%BD%E6%B5%8B%E8%AF%95"><span class="nav-number">3.9.</span> <span class="nav-text">09-修改分类-需求分析&amp;分析页面回显效果&amp;代码开发&amp;功能测试</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%9C%80%E6%B1%82%E5%88%86%E6%9E%90-8"><span class="nav-number">3.9.1.</span> <span class="nav-text">需求分析</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%88%86%E6%9E%90%E9%A1%B5%E9%9D%A2%E5%9B%9E%E6%98%BE%E6%95%88%E6%9E%9C"><span class="nav-number">3.9.2.</span> <span class="nav-text">分析页面回显效果</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BB%A3%E7%A0%81%E5%BC%80%E5%8F%91-4"><span class="nav-number">3.9.3.</span> <span class="nav-text">代码开发</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%8A%9F%E8%83%BD%E6%B5%8B%E8%AF%95-4"><span class="nav-number">3.9.4.</span> <span class="nav-text">功能测试</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E4%B8%9A%E5%8A%A1%E5%BC%80%E5%8F%91Day4"><span class="nav-number">4.</span> <span class="nav-text">业务开发Day4</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#01-%E6%9C%AC%E7%AB%A0%E5%86%85%E5%AE%B9%E4%BB%8B%E7%BB%8D-3"><span class="nav-number">4.1.</span> <span class="nav-text">01-本章内容介绍</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9B%AE%E5%BD%95-3"><span class="nav-number">4.1.1.</span> <span class="nav-text">目录</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#02-%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0%E4%B8%8B%E8%BD%BD-%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0%E4%B8%8B%E8%BD%BD%E4%BB%8B%E7%BB%8D"><span class="nav-number">4.2.</span> <span class="nav-text">02-文件上传下载_文件上传下载介绍</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%86%85%E5%AE%B9-1"><span class="nav-number">4.2.1.</span> <span class="nav-text">内容</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0%E4%BB%8B%E7%BB%8D"><span class="nav-number">4.2.2.</span> <span class="nav-text">文件上传介绍</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%96%87%E4%BB%B6%E4%B8%8B%E8%BD%BD%E4%BB%8B%E7%BB%8D"><span class="nav-number">4.2.3.</span> <span class="nav-text">文件下载介绍</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#03-%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0%E4%B8%8B%E8%BD%BD-%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0%E4%BB%A3%E7%A0%81%E5%AE%9E%E7%8E%B01"><span class="nav-number">4.3.</span> <span class="nav-text">03-文件上传下载_文件上传代码实现1</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0%E4%BB%A3%E7%A0%81%E5%AE%9E%E7%8E%B01"><span class="nav-number">4.3.1.</span> <span class="nav-text">文件上传代码实现1</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#04-%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0%E4%B8%8B%E8%BD%BD-%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0%E4%BB%A3%E7%A0%81%E5%AE%9E%E7%8E%B02"><span class="nav-number">4.4.</span> <span class="nav-text">04-文件上传下载_文件上传代码实现2</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0%E4%BB%A3%E7%A0%81%E5%AE%9E%E7%8E%B02"><span class="nav-number">4.4.1.</span> <span class="nav-text">文件上传代码实现2</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#05-%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0%E4%B8%8B%E8%BD%BD-%E6%96%87%E4%BB%B6%E4%B8%8B%E8%BD%BD%E4%BB%A3%E7%A0%81%E5%AE%9E%E7%8E%B0-amp-%E6%B5%8B%E8%AF%95"><span class="nav-number">4.5.</span> <span class="nav-text">05-文件上传下载_文件下载代码实现&amp;测试</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%96%87%E4%BB%B6%E4%B8%8B%E8%BD%BD%E4%BB%A3%E7%A0%81%E5%AE%9E%E7%8E%B0"><span class="nav-number">4.5.1.</span> <span class="nav-text">文件下载代码实现</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%B5%8B%E8%AF%95-6"><span class="nav-number">4.5.2.</span> <span class="nav-text">测试</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#06-%E6%96%B0%E5%A2%9E%E8%8F%9C%E5%93%81-%E9%9C%80%E6%B1%82%E5%88%86%E6%9E%90-amp-%E6%95%B0%E6%8D%AE%E6%A8%A1%E5%9E%8B"><span class="nav-number">4.6.</span> <span class="nav-text">06-新增菜品_需求分析&amp;数据模型</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%9C%80%E6%B1%82%E5%88%86%E6%9E%90-9"><span class="nav-number">4.6.1.</span> <span class="nav-text">需求分析</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%95%B0%E6%8D%AE%E6%A8%A1%E5%9E%8B-1"><span class="nav-number">4.6.2.</span> <span class="nav-text">数据模型</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#07-%E6%96%B0%E5%A2%9E%E8%8F%9C%E5%93%81-%E4%BB%A3%E7%A0%81%E5%BC%80%E5%8F%91-%E6%9F%A5%E8%AF%A2%E5%88%86%E7%B1%BB%E6%95%B0%E6%8D%AE"><span class="nav-number">4.7.</span> <span class="nav-text">07-新增菜品_代码开发_查询分类数据</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BB%A3%E7%A0%81%E5%BC%80%E5%8F%91-%E5%87%86%E5%A4%87%E5%B7%A5%E4%BD%9C"><span class="nav-number">4.7.1.</span> <span class="nav-text">代码开发-准备工作</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BB%A3%E7%A0%81%E5%BC%80%E5%8F%91-%E6%A2%B3%E7%90%86%E4%BA%A4%E4%BA%92%E8%BF%87%E7%A8%8B"><span class="nav-number">4.7.2.</span> <span class="nav-text">代码开发-梳理交互过程</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#08-%E6%96%B0%E5%A2%9E%E8%8F%9C%E5%93%81-%E4%BB%A3%E7%A0%81%E5%BC%80%E5%8F%91-%E6%9F%A5%E8%AF%A2%E5%88%86%E7%B1%BB%E6%95%B0%E6%8D%AE"><span class="nav-number">4.8.</span> <span class="nav-text">08-新增菜品_代码开发_查询分类数据</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%89%8D%E7%AB%AF%E5%88%86%E6%9E%90"><span class="nav-number">4.8.1.</span> <span class="nav-text">前端分析</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#09-%E6%96%B0%E5%A2%9E%E8%8F%9C%E5%93%81-%E4%BB%A3%E7%A0%81%E5%BC%80%E5%8F%91-%E6%8E%A5%E6%94%B6%E9%A1%B5%E9%9D%A2%E6%8F%90%E4%BA%A4%E7%9A%84%E6%95%B0%E6%8D%AE"><span class="nav-number">4.9.</span> <span class="nav-text">09-新增菜品_代码开发_接收页面提交的数据</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%8E%A5%E6%94%B6%E5%9B%BE%E7%89%87%E6%96%87%E4%BB%B6"><span class="nav-number">4.9.1.</span> <span class="nav-text">接收图片文件</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9"><span class="nav-number">4.9.2.</span> <span class="nav-text">注意事项</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BB%A3%E7%A0%81%E5%BC%80%E5%8F%91-5"><span class="nav-number">4.9.3.</span> <span class="nav-text">代码开发</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%B5%8B%E8%AF%95-7"><span class="nav-number">4.9.4.</span> <span class="nav-text">测试</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#10-%E6%96%B0%E5%A2%9E%E8%8F%9C%E5%93%81-%E4%BB%A3%E7%A0%81%E5%BC%80%E5%8F%91-%E4%BF%9D%E5%AD%98%E6%95%B0%E6%8D%AE%E5%88%B0%E8%8F%9C%E5%93%81%E8%A1%A8%E5%92%8C%E8%8F%9C%E5%93%81%E5%8F%A3%E5%91%B3%E8%A1%A8"><span class="nav-number">4.10.</span> <span class="nav-text">10-新增菜品_代码开发_保存数据到菜品表和菜品口味表</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%88%86%E6%9E%90-2"><span class="nav-number">4.10.1.</span> <span class="nav-text">分析</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BB%A3%E7%A0%81%E5%BC%80%E5%8F%91-6"><span class="nav-number">4.10.2.</span> <span class="nav-text">代码开发</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#11-%E6%96%B0%E5%A2%9E%E8%8F%9C%E5%93%81-%E4%BB%A3%E7%A0%81%E5%BC%80%E5%8F%91-%E5%8A%9F%E8%83%BD%E6%B5%8B%E8%AF%95"><span class="nav-number">4.11.</span> <span class="nav-text">11-新增菜品_代码开发_功能测试</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%8A%9F%E8%83%BD%E6%B5%8B%E8%AF%95-5"><span class="nav-number">4.11.1.</span> <span class="nav-text">功能测试</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#12-%E8%8F%9C%E5%93%81%E4%BF%A1%E6%81%AF%E5%88%86%E9%A1%B5%E6%9F%A5%E8%AF%A2-%E9%9C%80%E6%B1%82%E5%88%86%E6%9E%90"><span class="nav-number">4.12.</span> <span class="nav-text">12-菜品信息分页查询_需求分析</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%9C%80%E6%B1%82%E5%88%86%E6%9E%90-10"><span class="nav-number">4.12.1.</span> <span class="nav-text">需求分析</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#13-%E8%8F%9C%E5%93%81%E4%BF%A1%E6%81%AF%E5%88%86%E9%A1%B5%E6%9F%A5%E8%AF%A2-%E4%BB%A3%E7%A0%81%E5%BC%80%E5%8F%911"><span class="nav-number">4.13.</span> <span class="nav-text">13-菜品信息分页查询_代码开发1</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BB%A3%E7%A0%81%E5%BC%80%E5%8F%91-%E6%A2%B3%E7%90%86%E4%BA%A4%E4%BA%92%E8%BF%87%E7%A8%8B-1"><span class="nav-number">4.13.1.</span> <span class="nav-text">代码开发-梳理交互过程</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BB%A3%E7%A0%81"><span class="nav-number">4.13.2.</span> <span class="nav-text">代码</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%B5%8B%E8%AF%95-8"><span class="nav-number">4.13.3.</span> <span class="nav-text">测试</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#14-%E8%8F%9C%E5%93%81%E4%BF%A1%E6%81%AF%E5%88%86%E9%A1%B5%E6%9F%A5%E8%AF%A2-%E4%BB%A3%E7%A0%81%E5%BC%80%E5%8F%912"><span class="nav-number">4.14.</span> <span class="nav-text">14-菜品信息分页查询_代码开发2</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%88%86%E6%9E%90-3"><span class="nav-number">4.14.1.</span> <span class="nav-text">分析</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BB%A3%E7%A0%81-1"><span class="nav-number">4.14.2.</span> <span class="nav-text">代码</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#15-%E8%8F%9C%E5%93%81%E4%BF%A1%E6%81%AF%E5%88%86%E9%A1%B5%E6%9F%A5%E8%AF%A2-%E5%8A%9F%E8%83%BD%E6%B5%8B%E8%AF%95"><span class="nav-number">4.15.</span> <span class="nav-text">15-菜品信息分页查询_功能测试</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%8A%9F%E8%83%BD%E6%B5%8B%E8%AF%95-6"><span class="nav-number">4.15.1.</span> <span class="nav-text">功能测试</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#16-%E4%BF%AE%E6%94%B9%E8%8F%9C%E5%93%81-%E9%9C%80%E6%B1%82%E5%88%86%E6%9E%90-amp-%E6%A2%B3%E7%90%86%E4%BA%A4%E4%BA%92%E8%BF%87%E7%A8%8B"><span class="nav-number">4.16.</span> <span class="nav-text">16-修改菜品_需求分析&amp;梳理交互过程</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%9C%80%E6%B1%82%E5%88%86%E6%9E%90-11"><span class="nav-number">4.16.1.</span> <span class="nav-text">需求分析</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BB%A3%E7%A0%81%E5%BC%80%E5%8F%91-%E6%A2%B3%E7%90%86%E4%BA%A4%E4%BA%92%E8%BF%87%E7%A8%8B-2"><span class="nav-number">4.16.2.</span> <span class="nav-text">代码开发-梳理交互过程</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#17-%E4%BF%AE%E6%94%B9%E8%8F%9C%E5%93%81-%E4%BB%A3%E7%A0%81%E5%BC%80%E5%8F%91-%E6%A0%B9%E6%8D%AEid%E6%9F%A5%E8%AF%A2%E5%AF%B9%E5%BA%94%E7%9A%84%E8%8F%9C%E5%93%81%E5%92%8C%E5%8F%A3%E5%91%B3%E4%BF%A1%E6%81%AF"><span class="nav-number">4.17.</span> <span class="nav-text">17-修改菜品_代码开发_根据id查询对应的菜品和口味信息</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BB%A3%E7%A0%81-2"><span class="nav-number">4.17.1.</span> <span class="nav-text">代码</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#18-%E4%BF%AE%E6%94%B9%E8%8F%9C%E5%93%81-%E4%BB%A3%E7%A0%81%E5%BC%80%E5%8F%91-%E6%B5%8B%E8%AF%95%E6%95%B0%E6%8D%AE%E5%9B%9E%E6%98%BE"><span class="nav-number">4.18.</span> <span class="nav-text">18-修改菜品_代码开发_测试数据回显</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%B5%8B%E8%AF%95%E6%95%B0%E6%8D%AE%E5%9B%9E%E6%98%BE"><span class="nav-number">4.18.1.</span> <span class="nav-text">测试数据回显</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#19-%E4%BF%AE%E6%94%B9%E8%8F%9C%E5%93%81-%E4%BB%A3%E7%A0%81%E5%BC%80%E5%8F%91-%E4%BF%AE%E6%94%B9%E8%8F%9C%E5%93%81%E4%BF%A1%E6%81%AF%E5%92%8C%E5%8F%A3%E5%91%B3%E4%BF%A1%E6%81%AF"><span class="nav-number">4.19.</span> <span class="nav-text">19-修改菜品_代码开发_修改菜品信息和口味信息</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%88%86%E6%9E%90%E5%89%8D%E7%AB%AF%E9%A1%B5%E9%9D%A2%E5%8F%91%E9%80%81%E7%9A%84%E8%AF%B7%E6%B1%82"><span class="nav-number">4.19.1.</span> <span class="nav-text">分析前端页面发送的请求</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BB%A3%E7%A0%81-3"><span class="nav-number">4.19.2.</span> <span class="nav-text">代码</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#20-%E4%BF%AE%E6%94%B9%E8%8F%9C%E5%93%81-%E5%8A%9F%E8%83%BD%E6%B5%8B%E8%AF%95"><span class="nav-number">4.20.</span> <span class="nav-text">20-修改菜品_功能测试</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%8A%9F%E8%83%BD%E6%B5%8B%E8%AF%95-7"><span class="nav-number">4.20.1.</span> <span class="nav-text">功能测试</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E4%B8%9A%E5%8A%A1%E5%BC%80%E5%8F%91Day5"><span class="nav-number">5.</span> <span class="nav-text">业务开发Day5</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#01-%E6%9C%AC%E7%AB%A0%E5%86%85%E5%AE%B9%E4%BB%8B%E7%BB%8D-4"><span class="nav-number">5.1.</span> <span class="nav-text">01-本章内容介绍</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%95%88%E6%9E%9C%E5%B1%95%E7%A4%BA"><span class="nav-number">5.1.1.</span> <span class="nav-text">效果展示</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9B%AE%E5%BD%95-4"><span class="nav-number">5.1.2.</span> <span class="nav-text">目录</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#02-%E6%96%B0%E5%A2%9E%E5%A5%97%E9%A4%90-%E9%9C%80%E6%B1%82%E5%88%86%E6%9E%90-amp-%E6%95%B0%E6%8D%AE%E6%A8%A1%E5%9E%8B"><span class="nav-number">5.2.</span> <span class="nav-text">02-新增套餐_需求分析&amp;数据模型</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%9C%80%E6%B1%82%E5%88%86%E6%9E%90-12"><span class="nav-number">5.2.1.</span> <span class="nav-text">需求分析</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%95%B0%E6%8D%AE%E6%A8%A1%E5%9E%8B-2"><span class="nav-number">5.2.2.</span> <span class="nav-text">数据模型</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#03-%E6%96%B0%E5%A2%9E%E5%A5%97%E9%A4%90-%E4%BB%A3%E7%A0%81%E5%BC%80%E5%8F%91-%E5%87%86%E5%A4%87%E5%B7%A5%E4%BD%9C-amp-%E6%A2%B3%E7%90%86%E4%BA%A4%E4%BA%92%E8%BF%87%E7%A8%8B"><span class="nav-number">5.3.</span> <span class="nav-text">03-新增套餐_代码开发_准备工作&amp;梳理交互过程</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BB%A3%E7%A0%81%E5%BC%80%E5%8F%91-%E5%87%86%E5%A4%87%E5%B7%A5%E4%BD%9C-1"><span class="nav-number">5.3.1.</span> <span class="nav-text">代码开发-准备工作</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BB%A3%E7%A0%81%E5%BC%80%E5%8F%91-%E6%A2%B3%E7%90%86%E4%BA%A4%E4%BA%92%E8%BF%87%E7%A8%8B-3"><span class="nav-number">5.3.2.</span> <span class="nav-text">代码开发-梳理交互过程</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#04-%E6%96%B0%E5%A2%9E%E5%A5%97%E9%A4%90-%E4%BB%A3%E7%A0%81%E5%BC%80%E5%8F%91-%E6%A0%B9%E6%8D%AE%E5%88%86%E7%B1%BB%E6%9F%A5%E8%AF%A2%E8%8F%9C%E5%93%81"><span class="nav-number">5.4.</span> <span class="nav-text">04-新增套餐_代码开发_根据分类查询菜品</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%89%8D%E7%AB%AF%E5%88%86%E6%9E%90-1"><span class="nav-number">5.4.1.</span> <span class="nav-text">前端分析</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9B%B8%E5%85%B3%E4%BB%A3%E7%A0%81-1"><span class="nav-number">5.4.2.</span> <span class="nav-text">相关代码</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#05-%E6%96%B0%E5%A2%9E%E5%A5%97%E9%A4%90-%E4%BB%A3%E7%A0%81%E5%BC%80%E5%8F%91-%E6%9C%8D%E5%8A%A1%E7%AB%AF%E6%8E%A5%E6%94%B6%E9%A1%B5%E9%9D%A2%E6%8F%90%E4%BA%A4%E7%9A%84%E6%95%B0%E6%8D%AE"><span class="nav-number">5.5.</span> <span class="nav-text">05-新增套餐_代码开发_服务端接收页面提交的数据</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%89%8D%E7%AB%AF%E5%88%86%E6%9E%90-2"><span class="nav-number">5.5.1.</span> <span class="nav-text">前端分析</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9B%B8%E5%85%B3%E4%BB%A3%E7%A0%81%EF%BC%88%E6%B5%8B%E8%AF%95%E7%89%88%EF%BC%89"><span class="nav-number">5.5.2.</span> <span class="nav-text">相关代码（测试版）</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#06-%E6%96%B0%E5%A2%9E%E5%A5%97%E9%A4%90-%E4%BB%A3%E7%A0%81%E5%BC%80%E5%8F%91-%E4%BF%9D%E5%AD%98%E6%95%B0%E6%8D%AE%E5%88%B0%E5%AF%B9%E5%BA%94%E8%A1%A8"><span class="nav-number">5.6.</span> <span class="nav-text">06-新增套餐_代码开发_保存数据到对应表</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9B%B8%E5%85%B3%E4%BB%A3%E7%A0%81-2"><span class="nav-number">5.6.1.</span> <span class="nav-text">相关代码</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#07-%E6%96%B0%E5%A2%9E%E5%A5%97%E9%A4%90-%E4%BB%A3%E7%A0%81%E5%BC%80%E5%8F%91-%E5%8A%9F%E8%83%BD%E6%B5%8B%E8%AF%95"><span class="nav-number">5.7.</span> <span class="nav-text">07-新增套餐_代码开发_功能测试</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%8A%9F%E8%83%BD%E6%B5%8B%E8%AF%95-8"><span class="nav-number">5.7.1.</span> <span class="nav-text">功能测试</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#08-%E5%A5%97%E9%A4%90%E4%BF%A1%E6%81%AF%E5%88%86%E9%A1%B5%E6%9F%A5%E8%AF%A2-%E9%9C%80%E6%B1%82%E5%88%86%E6%9E%90-amp-%E6%A2%B3%E7%90%86%E4%BA%A4%E4%BA%92%E8%BF%87%E7%A8%8B"><span class="nav-number">5.8.</span> <span class="nav-text">08-套餐信息分页查询_需求分析&amp;梳理交互过程</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%9C%80%E6%B1%82%E5%88%86%E6%9E%90-13"><span class="nav-number">5.8.1.</span> <span class="nav-text">需求分析</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%A2%B3%E7%90%86%E4%BA%A4%E4%BA%92%E8%BF%87%E7%A8%8B"><span class="nav-number">5.8.2.</span> <span class="nav-text">梳理交互过程</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#09-%E5%A5%97%E9%A4%90%E4%BF%A1%E6%81%AF%E5%88%86%E9%A1%B5%E6%9F%A5%E8%AF%A2-%E4%BB%A3%E7%A0%81%E5%BC%80%E5%8F%91-amp-%E5%8A%9F%E8%83%BD%E6%B5%8B%E8%AF%95"><span class="nav-number">5.9.</span> <span class="nav-text">09-套餐信息分页查询_代码开发&amp;功能测试</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%89%8D%E7%AB%AF%E5%88%86%E6%9E%90-3"><span class="nav-number">5.9.1.</span> <span class="nav-text">前端分析</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BB%A3%E7%A0%81%E5%BC%80%E5%8F%91-7"><span class="nav-number">5.9.2.</span> <span class="nav-text">代码开发</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%8A%9F%E8%83%BD%E6%B5%8B%E8%AF%95-9"><span class="nav-number">5.9.3.</span> <span class="nav-text">功能测试</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#10-%E5%88%A0%E9%99%A4%E5%A5%97%E9%A4%90-%E9%9C%80%E6%B1%82%E5%88%86%E6%9E%90-amp-%E6%A2%B3%E7%90%86%E4%BA%A4%E4%BA%92%E8%BF%87%E7%A8%8B"><span class="nav-number">5.10.</span> <span class="nav-text">10-删除套餐_需求分析&amp;梳理交互过程</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%9C%80%E6%B1%82%E5%88%86%E6%9E%90-14"><span class="nav-number">5.10.1.</span> <span class="nav-text">需求分析</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%A2%B3%E7%90%86%E4%BA%A4%E4%BA%92%E8%BF%87%E7%A8%8B-1"><span class="nav-number">5.10.2.</span> <span class="nav-text">梳理交互过程</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#11-%E5%88%A0%E9%99%A4%E5%A5%97%E9%A4%90-%E4%BB%A3%E7%A0%81%E5%BC%80%E5%8F%91-amp-%E5%8A%9F%E8%83%BD%E6%B5%8B%E8%AF%95"><span class="nav-number">5.11.</span> <span class="nav-text">11-删除套餐_代码开发&amp;功能测试</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BB%A3%E7%A0%81%E5%BC%80%E5%8F%91%EF%BC%88%E6%B5%8B%E8%AF%95%EF%BC%89"><span class="nav-number">5.11.1.</span> <span class="nav-text">代码开发（测试）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BB%A3%E7%A0%81%E5%BC%80%E5%8F%91%EF%BC%88%E5%AE%8C%E5%96%84%EF%BC%89"><span class="nav-number">5.11.2.</span> <span class="nav-text">代码开发（完善）</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#12-%E6%9C%AC%E7%AB%A0%E5%86%85%E5%AE%B9%E4%BB%8B%E7%BB%8D"><span class="nav-number">5.12.</span> <span class="nav-text">12-本章内容介绍</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%89%8B%E6%9C%BA%E9%AA%8C%E8%AF%81%E7%A0%81%E7%99%BB%E5%BD%95"><span class="nav-number">5.12.1.</span> <span class="nav-text">手机验证码登录</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%9C%AC%E7%AB%A0%E5%86%85%E5%AE%B9%E4%BB%8B%E7%BB%8D"><span class="nav-number">5.12.2.</span> <span class="nav-text">本章内容介绍</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#13-%E7%9F%AD%E4%BF%A1%E5%8F%91%E9%80%81-%E7%9F%AD%E4%BF%A1%E6%9C%8D%E5%8A%A1%E4%BB%8B%E7%BB%8D%E5%92%8C%E9%98%BF%E9%87%8C%E4%BA%91%E7%9F%AD%E4%BF%A1%E6%9C%8D%E5%8A%A1%E4%BB%8B%E7%BB%8D"><span class="nav-number">5.13.</span> <span class="nav-text">13-短信发送_短信服务介绍和阿里云短信服务介绍</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%AD%E4%BF%A1%E6%9C%8D%E5%8A%A1%E4%BB%8B%E7%BB%8D"><span class="nav-number">5.13.1.</span> <span class="nav-text">短信服务介绍</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%98%BF%E9%87%8C%E4%BA%91%E7%9F%AD%E4%BF%A1%E6%9C%8D%E5%8A%A1%E4%BB%8B%E7%BB%8D"><span class="nav-number">5.13.2.</span> <span class="nav-text">阿里云短信服务介绍</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#14-%E7%9F%AD%E4%BF%A1%E5%8F%91%E9%80%81-%E9%98%BF%E9%87%8C%E4%BA%91%E7%9F%AD%E4%BF%A1%E6%9C%8D%E5%8A%A1"><span class="nav-number">5.14.</span> <span class="nav-text">14-短信发送_阿里云短信服务</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%AE%BE%E7%BD%AE%E7%9F%AD%E4%BF%A1%E7%AD%BE%E5%90%8D"><span class="nav-number">5.14.1.</span> <span class="nav-text">设置短信签名</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%AE%BE%E7%BD%AE%E7%9F%AD%E4%BF%A1%E6%A8%A1%E6%9D%BF"><span class="nav-number">5.14.2.</span> <span class="nav-text">设置短信模板</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%AE%BE%E7%BD%AEAccessKey"><span class="nav-number">5.14.3.</span> <span class="nav-text">设置AccessKey</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%9D%83%E9%99%90%E7%AE%A1%E7%90%86"><span class="nav-number">5.14.4.</span> <span class="nav-text">权限管理</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#15-%E7%9F%AD%E4%BF%A1%E5%8F%91%E9%80%81-%E4%BB%A3%E7%A0%81%E5%BC%80%E5%8F%91-%E5%8F%82%E7%85%A7%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3%E5%B0%81%E8%A3%85%E5%8F%91%E9%80%81%E7%9F%AD%E4%BF%A1%E5%B7%A5%E5%85%B7%E7%B1%BB"><span class="nav-number">5.15.</span> <span class="nav-text">15-短信发送_代码开发_参照官方文档封装发送短信工具类</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%8F%82%E7%85%A7%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3"><span class="nav-number">5.15.1.</span> <span class="nav-text">参照官方文档</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#16-%E6%89%8B%E6%9C%BA%E9%AA%8C%E8%AF%81%E7%A0%81%E7%99%BB%E5%BD%95-%E9%9C%80%E6%B1%82%E5%88%86%E6%9E%90-%E6%95%B0%E6%8D%AE%E6%A8%A1%E5%9E%8B"><span class="nav-number">5.16.</span> <span class="nav-text">16-手机验证码登录_需求分析_数据模型</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%9C%80%E6%B1%82%E5%88%86%E6%9E%90-15"><span class="nav-number">5.16.1.</span> <span class="nav-text">需求分析</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%95%B0%E6%8D%AE%E6%A8%A1%E5%9E%8B-3"><span class="nav-number">5.16.2.</span> <span class="nav-text">数据模型</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#17-%E6%89%8B%E6%9C%BA%E9%AA%8C%E8%AF%81%E7%A0%81%E7%99%BB%E5%BD%95-%E4%BB%A3%E7%A0%81%E5%BC%80%E5%8F%91-%E6%A2%B3%E7%90%86%E4%BA%A4%E4%BA%92%E8%BF%87%E7%A8%8B-amp-%E4%BF%AE%E6%94%B9LoginCheckFilter"><span class="nav-number">5.17.</span> <span class="nav-text">17-手机验证码登录_代码开发_梳理交互过程&amp;修改LoginCheckFilter</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%A2%B3%E7%90%86%E4%BA%A4%E4%BA%92%E8%BF%87%E7%A8%8B-2"><span class="nav-number">5.17.1.</span> <span class="nav-text">梳理交互过程</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BB%A3%E7%A0%81%E5%BC%80%E5%8F%91-%E5%87%86%E5%A4%87%E5%B7%A5%E4%BD%9C-2"><span class="nav-number">5.17.2.</span> <span class="nav-text">代码开发-准备工作</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BF%AE%E6%94%B9LoginCheckFilter"><span class="nav-number">5.17.3.</span> <span class="nav-text">修改LoginCheckFilter</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#18-%E6%89%8B%E6%9C%BA%E9%AA%8C%E8%AF%81%E7%A0%81%E7%99%BB%E5%BD%95-%E4%BB%A3%E7%A0%81%E5%BC%80%E5%8F%91-%E5%8F%91%E9%80%81%E9%AA%8C%E8%AF%81%E7%A0%81%E7%9F%AD%E4%BF%A1"><span class="nav-number">5.18.</span> <span class="nav-text">18-手机验证码登录_代码开发_发送验证码短信</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%B3%A8%E6%84%8F"><span class="nav-number">5.18.1.</span> <span class="nav-text">注意</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%89%8D%E7%AB%AF%E5%88%86%E6%9E%90-4"><span class="nav-number">5.18.2.</span> <span class="nav-text">前端分析</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BB%A3%E7%A0%81%E5%BC%80%E5%8F%91-8"><span class="nav-number">5.18.3.</span> <span class="nav-text">代码开发</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%B5%8B%E8%AF%95-9"><span class="nav-number">5.18.4.</span> <span class="nav-text">测试</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#19-%E6%89%8B%E6%9C%BA%E9%AA%8C%E8%AF%81%E7%A0%81%E7%99%BB%E5%BD%95-%E4%BB%A3%E7%A0%81%E5%BC%80%E5%8F%91-%E7%99%BB%E5%BD%95%E6%95%88%E9%AA%8C"><span class="nav-number">5.19.</span> <span class="nav-text">19-手机验证码登录_代码开发_登录效验</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%89%8D%E7%AB%AF%E5%88%86%E6%9E%90-5"><span class="nav-number">5.19.1.</span> <span class="nav-text">前端分析</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BB%A3%E7%A0%81%E5%BC%80%E5%8F%91-9"><span class="nav-number">5.19.2.</span> <span class="nav-text">代码开发</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#20-%E6%89%8B%E6%9C%BA%E9%AA%8C%E8%AF%81%E7%A0%81%E7%99%BB%E5%BD%95-%E5%8A%9F%E8%83%BD%E6%B5%8B%E8%AF%95"><span class="nav-number">5.20.</span> <span class="nav-text">20-手机验证码登录_功能测试</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%B5%8B%E8%AF%95-10"><span class="nav-number">5.20.1.</span> <span class="nav-text">测试</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E4%B8%9A%E5%8A%A1%E5%BC%80%E5%8F%91Day6"><span class="nav-number">6.</span> <span class="nav-text">业务开发Day6</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#01-%E6%9C%AC%E7%AB%A0%E5%86%85%E5%AE%B9%E4%BB%8B%E7%BB%8D-5"><span class="nav-number">6.1.</span> <span class="nav-text">01-本章内容介绍</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9B%AE%E5%BD%95-5"><span class="nav-number">6.1.1.</span> <span class="nav-text">目录</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%95%88%E6%9E%9C%E5%B1%95%E7%A4%BA-1"><span class="nav-number">6.1.2.</span> <span class="nav-text">效果展示</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#02-%E5%AF%BC%E5%85%A5%E7%94%A8%E6%88%B7%E5%9C%B0%E5%9D%80%E7%B0%BF%E7%9B%B8%E5%85%B3%E4%BB%A3%E7%A0%81"><span class="nav-number">6.2.</span> <span class="nav-text">02-导入用户地址簿相关代码</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%9C%80%E6%B1%82%E5%88%86%E6%9E%90-16"><span class="nav-number">6.2.1.</span> <span class="nav-text">需求分析</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%95%B0%E6%8D%AE%E6%A8%A1%E5%9E%8B-4"><span class="nav-number">6.2.2.</span> <span class="nav-text">数据模型</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%AF%BC%E5%85%A5%E5%8A%9F%E8%83%BD%E4%BB%A3%E7%A0%81"><span class="nav-number">6.2.3.</span> <span class="nav-text">导入功能代码</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%AE%8C%E5%96%84%E5%9C%B0%E5%9D%80%E7%AE%A1%E7%90%86%E9%A1%B5%E9%9D%A2"><span class="nav-number">6.2.4.</span> <span class="nav-text">完善地址管理页面</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%89%8D%E7%AB%AF%E5%88%86%E6%9E%90-6"><span class="nav-number">6.2.4.1.</span> <span class="nav-text">前端分析</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%96%B0%E5%A2%9E%E4%BB%A3%E7%A0%81"><span class="nav-number">6.2.4.2.</span> <span class="nav-text">新增代码</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%96%B0%E5%A2%9E%E6%94%B6%E8%B4%A7%E5%9C%B0%E5%9D%80%E9%A1%B5%E9%9D%A2"><span class="nav-number">6.2.5.</span> <span class="nav-text">新增收货地址页面</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%89%8D%E7%AB%AF%E5%88%86%E6%9E%90-7"><span class="nav-number">6.2.5.1.</span> <span class="nav-text">前端分析</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%96%B0%E5%A2%9E%E4%BB%A3%E7%A0%81-1"><span class="nav-number">6.2.5.2.</span> <span class="nav-text">新增代码</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%B5%8B%E8%AF%95-1"><span class="nav-number">6.2.6.</span> <span class="nav-text">测试-1</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%B5%8B%E8%AF%95%E6%88%90%E5%8A%9F"><span class="nav-number">6.2.6.1.</span> <span class="nav-text">测试成功</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%AE%BE%E7%BD%AE%E9%BB%98%E8%AE%A4%E5%9C%B0%E5%9D%80"><span class="nav-number">6.2.7.</span> <span class="nav-text">设置默认地址</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%89%8D%E7%AB%AF%E5%88%86%E6%9E%90-8"><span class="nav-number">6.2.7.1.</span> <span class="nav-text">前端分析</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%96%B0%E5%A2%9E%E4%BB%A3%E7%A0%81-2"><span class="nav-number">6.2.7.2.</span> <span class="nav-text">新增代码</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%B5%8B%E8%AF%95-2"><span class="nav-number">6.2.8.</span> <span class="nav-text">测试-2</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%B5%8B%E8%AF%95%E6%88%90%E5%8A%9F-1"><span class="nav-number">6.2.8.1.</span> <span class="nav-text">测试成功</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#03-%E8%8F%9C%E5%93%81%E5%B1%95%E7%A4%BA-%E9%9C%80%E6%B1%82%E5%88%86%E6%9E%90"><span class="nav-number">6.3.</span> <span class="nav-text">03-菜品展示_需求分析</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%9C%80%E6%B1%82%E5%88%86%E6%9E%90-17"><span class="nav-number">6.3.1.</span> <span class="nav-text">需求分析</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#04-%E8%8F%9C%E5%93%81%E5%B1%95%E7%A4%BA-%E4%BB%A3%E7%A0%81%E5%BC%80%E5%8F%91-%E6%A2%B3%E7%90%86%E4%BA%A4%E4%BA%92%E8%BF%87%E7%A8%8B"><span class="nav-number">6.4.</span> <span class="nav-text">04-菜品展示_代码开发_梳理交互过程</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%A2%B3%E7%90%86%E4%BA%A4%E4%BA%92%E8%BF%87%E7%A8%8B-3"><span class="nav-number">6.4.1.</span> <span class="nav-text">梳理交互过程</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%89%8D%E7%AB%AF%E5%88%86%E6%9E%90-9"><span class="nav-number">6.4.2.</span> <span class="nav-text">前端分析</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%B5%8B%E8%AF%95-11"><span class="nav-number">6.4.3.</span> <span class="nav-text">测试</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#05-%E8%8F%9C%E5%93%81%E5%B1%95%E7%A4%BA-%E4%BB%A3%E7%A0%81%E5%BC%80%E5%8F%91-%E4%BF%AE%E6%94%B9DishController%E7%9A%84list%E6%96%B9%E6%B3%95%E5%B9%B6%E6%B5%8B%E8%AF%95"><span class="nav-number">6.5.</span> <span class="nav-text">05-菜品展示_代码开发_修改DishController的list方法并测试</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BF%AE%E6%94%B9DishController%E7%9A%84list%E6%96%B9%E6%B3%95"><span class="nav-number">6.5.1.</span> <span class="nav-text">修改DishController的list方法</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%B5%8B%E8%AF%95-12"><span class="nav-number">6.5.2.</span> <span class="nav-text">测试</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#06-%E8%8F%9C%E5%93%81%E5%B1%95%E7%A4%BA-%E4%BB%A3%E7%A0%81%E5%BC%80%E5%8F%91-%E5%88%9B%E5%BB%BASetmealController%E7%9A%84list%E6%96%B9%E6%B3%95%E5%B9%B6%E6%B5%8B%E8%AF%95"><span class="nav-number">6.6.</span> <span class="nav-text">06-菜品展示_代码开发_创建SetmealController的list方法并测试</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%89%8D%E7%AB%AF%E5%88%86%E6%9E%90-10"><span class="nav-number">6.6.1.</span> <span class="nav-text">前端分析</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%88%9B%E5%BB%BASetmealController%E7%9A%84list%E6%96%B9%E6%B3%95"><span class="nav-number">6.6.2.</span> <span class="nav-text">创建SetmealController的list方法</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%B5%8B%E8%AF%95-13"><span class="nav-number">6.6.3.</span> <span class="nav-text">测试</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#07-%E8%B4%AD%E7%89%A9%E8%BD%A6-%E9%9C%80%E6%B1%82%E5%88%86%E6%9E%90-amp-%E6%95%B0%E6%8D%AE%E6%A8%A1%E5%9E%8B-amp-%E6%A2%B3%E7%90%86%E4%BA%A4%E4%BA%92%E8%BF%87%E7%A8%8B-amp-%E5%87%86%E5%A4%87%E5%B7%A5%E4%BD%9C"><span class="nav-number">6.7.</span> <span class="nav-text">07-购物车_需求分析&amp;数据模型&amp;梳理交互过程&amp;准备工作</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%9C%80%E6%B1%82%E5%88%86%E6%9E%90-18"><span class="nav-number">6.7.1.</span> <span class="nav-text">需求分析</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%95%B0%E6%8D%AE%E6%A8%A1%E5%9E%8B-5"><span class="nav-number">6.7.2.</span> <span class="nav-text">数据模型</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%A2%B3%E7%90%86%E4%BA%A4%E4%BA%92%E8%BF%87%E7%A8%8B-4"><span class="nav-number">6.7.3.</span> <span class="nav-text">梳理交互过程</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%87%86%E5%A4%87%E5%B7%A5%E4%BD%9C"><span class="nav-number">6.7.4.</span> <span class="nav-text">准备工作</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#08-%E8%B4%AD%E7%89%A9%E8%BD%A6-%E4%BB%A3%E7%A0%81%E5%BC%80%E5%8F%91-%E6%B7%BB%E5%8A%A0%E8%B4%AD%E7%89%A9%E8%BD%A6"><span class="nav-number">6.8.</span> <span class="nav-text">08-购物车_代码开发_添加购物车</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%89%8D%E7%AB%AF%E5%88%86%E6%9E%90-11"><span class="nav-number">6.8.1.</span> <span class="nav-text">前端分析</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BB%A3%E7%A0%81-4"><span class="nav-number">6.8.2.</span> <span class="nav-text">代码</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%B5%8B%E8%AF%95%E6%9C%8D%E5%8A%A1%E7%AB%AF%E6%98%AF%E5%90%A6%E8%83%BD%E5%A4%9F%E6%8E%A5%E6%94%B6%E5%89%8D%E7%AB%AF%E9%A1%B5%E9%9D%A2%E6%8F%90%E4%BA%A4%E7%9A%84%E6%95%B0%E6%8D%AE"><span class="nav-number">6.8.2.1.</span> <span class="nav-text">测试服务端是否能够接收前端页面提交的数据</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%AE%8C%E5%96%84%E4%BB%A3%E7%A0%81"><span class="nav-number">6.8.2.2.</span> <span class="nav-text">完善代码</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%B5%8B%E8%AF%95-14"><span class="nav-number">6.8.3.</span> <span class="nav-text">测试</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#09-%E8%B4%AD%E7%89%A9%E8%BD%A6-%E4%BB%A3%E7%A0%81%E5%BC%80%E5%8F%91-%E6%9F%A5%E7%9C%8B%E8%B4%AD%E7%89%A9%E8%BD%A6-amp-%E6%B8%85%E7%A9%BA%E8%B4%AD%E7%89%A9%E8%BD%A6"><span class="nav-number">6.9.</span> <span class="nav-text">09-购物车_代码开发_查看购物车&amp;清空购物车</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%9F%A5%E7%9C%8B%E8%B4%AD%E7%89%A9%E8%BD%A6"><span class="nav-number">6.9.1.</span> <span class="nav-text">查看购物车</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%89%8D%E7%AB%AF%E5%88%86%E6%9E%90-12"><span class="nav-number">6.9.1.1.</span> <span class="nav-text">前端分析</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%BB%A3%E7%A0%81%E5%BC%80%E5%8F%91-10"><span class="nav-number">6.9.1.2.</span> <span class="nav-text">代码开发</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%B5%8B%E8%AF%95-15"><span class="nav-number">6.9.1.3.</span> <span class="nav-text">测试</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%B8%85%E7%A9%BA%E8%B4%AD%E7%89%A9%E8%BD%A6"><span class="nav-number">6.9.2.</span> <span class="nav-text">清空购物车</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%89%8D%E7%AB%AF%E5%88%86%E6%9E%90-13"><span class="nav-number">6.9.2.1.</span> <span class="nav-text">前端分析</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%BB%A3%E7%A0%81%E5%BC%80%E5%8F%91-11"><span class="nav-number">6.9.2.2.</span> <span class="nav-text">代码开发</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%B5%8B%E8%AF%95-16"><span class="nav-number">6.9.2.3.</span> <span class="nav-text">测试</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#10-%E7%94%A8%E6%88%B7%E4%B8%8B%E5%8D%95-%E9%9C%80%E6%B1%82%E5%88%86%E6%9E%90-amp-%E6%95%B0%E6%8D%AE%E6%A8%A1%E5%9E%8B"><span class="nav-number">6.10.</span> <span class="nav-text">10-用户下单_需求分析&amp;数据模型</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%9C%80%E6%B1%82%E5%88%86%E6%9E%90-19"><span class="nav-number">6.10.1.</span> <span class="nav-text">需求分析</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%95%B0%E6%8D%AE%E6%A8%A1%E5%9E%8B-6"><span class="nav-number">6.10.2.</span> <span class="nav-text">数据模型</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#11-%E7%94%A8%E6%88%B7%E4%B8%8B%E5%8D%95-%E6%A2%B3%E7%90%86%E4%BA%A4%E4%BA%92%E8%BF%87%E7%A8%8B-amp-%E5%87%86%E5%A4%87%E5%B7%A5%E4%BD%9C"><span class="nav-number">6.11.</span> <span class="nav-text">11-用户下单_梳理交互过程&amp;准备工作</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%A2%B3%E7%90%86%E4%BA%A4%E4%BA%92%E8%BF%87%E7%A8%8B-5"><span class="nav-number">6.11.1.</span> <span class="nav-text">梳理交互过程</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%87%86%E5%A4%87%E5%B7%A5%E4%BD%9C-1"><span class="nav-number">6.11.2.</span> <span class="nav-text">准备工作</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#12-%E7%94%A8%E6%88%B7%E4%B8%8B%E5%8D%95-%E4%BB%A3%E7%A0%81%E5%BC%80%E5%8F%911"><span class="nav-number">6.12.</span> <span class="nav-text">12-用户下单_代码开发1</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%89%8D%E7%AB%AF%E5%88%86%E6%9E%90-14"><span class="nav-number">6.12.1.</span> <span class="nav-text">前端分析</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BB%A3%E7%A0%81%E5%BC%80%E5%8F%911"><span class="nav-number">6.12.2.</span> <span class="nav-text">代码开发1</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#13-%E7%94%A8%E6%88%B7%E4%B8%8B%E5%8D%95-%E4%BB%A3%E7%A0%81%E5%BC%80%E5%8F%912"><span class="nav-number">6.13.</span> <span class="nav-text">13-用户下单_代码开发2</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BB%A3%E7%A0%81%E5%BC%80%E5%8F%912"><span class="nav-number">6.13.1.</span> <span class="nav-text">代码开发2</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#14-%E7%94%A8%E6%88%B7%E4%B8%8B%E5%8D%95-%E4%BB%A3%E7%A0%81%E5%BC%80%E5%8F%913"><span class="nav-number">6.14.</span> <span class="nav-text">14-用户下单_代码开发3</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BB%A3%E7%A0%81%E5%BC%80%E5%8F%913"><span class="nav-number">6.14.1.</span> <span class="nav-text">代码开发3</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#15-%E7%94%A8%E6%88%B7%E4%B8%8B%E5%8D%95-%E5%8A%9F%E8%83%BD%E6%B5%8B%E8%AF%95"><span class="nav-number">6.15.</span> <span class="nav-text">15-用户下单_功能测试</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%8A%9F%E8%83%BD%E6%B5%8B%E8%AF%95-10"><span class="nav-number">6.15.1.</span> <span class="nav-text">功能测试</span></a></li></ol></li></ol></li></ol></div>
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">zhangxin</p>
  <div class="site-description" itemprop="description">新站点：zxalive.com</div>
</div>
<div class="site-state-wrap animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">267</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
          <a href="/categories/">
        <span class="site-state-item-count">5</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
          <a href="/tags/">
        <span class="site-state-item-count">35</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>

        </div>
      </div>
    </div>

    
  </aside>


  <a target="_blank" rel="noopener" href="https://zxalive.com" class="special-link">新站点zxalive.com</a>


    </div>

    <div class="main-inner post posts-expand">

  <a target="_blank" rel="noopener" href="https://zxalive.com" class="special-link">新站点zxalive.com</a>

  


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://zxblog.eu.org/posts/f19a/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="zhangxin">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="知行博客">
      <meta itemprop="description" content="新站点：zxalive.com">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="【项目】瑞吉外卖 | 知行博客">
      <meta itemprop="description" content="【项目】瑞吉外卖">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          【项目】瑞吉外卖
        </h1>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2022-01-02 16:10:32" itemprop="dateCreated datePublished" datetime="2022-01-02T16:10:32+08:00">2022-01-02</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2024-08-18 18:14:29" itemprop="dateModified" datetime="2024-08-18T18:14:29+08:00">2024-08-18</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Java%E5%BC%80%E5%8F%91/" itemprop="url" rel="index"><span itemprop="name">Java开发</span></a>
        </span>
    </span>

  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>116k</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>1:46</span>
    </span>
</div>

            <div class="post-description">【项目】瑞吉外卖</div>
        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody"><p><strong>目录</strong></p>
<p><a href="#%E4%B8%9A%E5%8A%A1%E5%BC%80%E5%8F%91Day1">业务开发Day1</a><br><a href="#%E4%B8%9A%E5%8A%A1%E5%BC%80%E5%8F%91Day2">业务开发Day2</a><br><a href="#%E4%B8%9A%E5%8A%A1%E5%BC%80%E5%8F%91Day3">业务开发Day3</a><br><a href="#%E4%B8%9A%E5%8A%A1%E5%BC%80%E5%8F%91Day4">业务开发Day4</a><br><a href="#%E4%B8%9A%E5%8A%A1%E5%BC%80%E5%8F%91Day5">业务开发Day5</a><br><a href="#%E4%B8%9A%E5%8A%A1%E5%BC%80%E5%8F%91Day6">业务开发Day6</a></p>
<h1 id="业务开发Day1"><a href="#业务开发Day1" class="headerlink" title="业务开发Day1"></a>业务开发Day1</h1><h2 id="01-本章内容介绍"><a href="#01-本章内容介绍" class="headerlink" title="01-本章内容介绍"></a>01-本章内容介绍</h2><h3 id="项目效果展示"><a href="#项目效果展示" class="headerlink" title="项目效果展示"></a>项目效果展示</h3><p><strong>登录界面</strong><br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916103709653.png" alt="请添加图片描述"></p>
<p><strong>登录成功界面</strong><br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916103707897.png" alt="请添加图片描述"></p>
<h3 id="管理界面展示"><a href="#管理界面展示" class="headerlink" title="管理界面展示"></a>管理界面展示</h3><ul>
<li>员工管理</li>
<li>分类管理</li>
<li>菜品管理</li>
<li>套餐管理</li>
<li>订单明细</li>
</ul>
<p><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16.png" alt="请添加图片描述"></p>
<h3 id="前端开发使用HTML5技术（自适应屏幕大小功能）"><a href="#前端开发使用HTML5技术（自适应屏幕大小功能）" class="headerlink" title="前端开发使用HTML5技术（自适应屏幕大小功能）"></a>前端开发使用HTML5技术（自适应屏幕大小功能）</h3><p><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916103707112.png" alt="请添加图片描述"></p>
<h3 id="目录"><a href="#目录" class="headerlink" title="目录"></a>目录</h3><ul>
<li>软件开发整体介绍</li>
<li>瑞吉外卖项目介绍</li>
<li>开发环境搭建</li>
</ul>
<h2 id="02-软件开发整体介绍"><a href="#02-软件开发整体介绍" class="headerlink" title="02-软件开发整体介绍"></a>02-软件开发整体介绍</h2><ul>
<li>软件开发流程</li>
<li>角色分工</li>
<li>软件环境</li>
</ul>
<h3 id="软件开发流程"><a href="#软件开发流程" class="headerlink" title="软件开发流程"></a>软件开发流程</h3><p><strong>需求分析-&gt;设计-&gt;编码-&gt;测试-&gt;上线运维</strong><br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916103709172.png" alt="请添加图片描述"></p>
<h3 id="角色分工"><a href="#角色分工" class="headerlink" title="角色分工"></a>角色分工</h3><ul>
<li>项目经理</li>
<li>产品经理</li>
<li>UI设计师</li>
<li>架构师</li>
<li>开发工程师</li>
<li>测试工程师</li>
<li>运维工程师<br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916103709336.png" alt="请添加图片描述"></li>
</ul>
<h3 id="软件环境"><a href="#软件环境" class="headerlink" title="软件环境"></a>软件环境</h3><ul>
<li>开发环境</li>
<li>测试环境</li>
<li>生产环境</li>
</ul>
<p><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916103709288.png" alt="请添加图片描述"></p>
<h2 id="03-瑞吉外卖项目整体介绍"><a href="#03-瑞吉外卖项目整体介绍" class="headerlink" title="03-瑞吉外卖项目整体介绍"></a>03-瑞吉外卖项目整体介绍</h2><h3 id="目录-1"><a href="#目录-1" class="headerlink" title="目录"></a>目录</h3><ul>
<li>项目介绍</li>
<li>产品原型展示</li>
<li>技术选型</li>
<li>功能架构</li>
<li>角色<br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916103708176.png" alt="请添加图片描述"></li>
</ul>
<h3 id="项目介绍"><a href="#项目介绍" class="headerlink" title="项目介绍"></a>项目介绍</h3><p><strong>本项目是专门为餐饮企业（餐厅、饭店）定制的一款软件产品，包括系统管理后台和移动端应用两部分。</strong></p>
<ul>
<li>系统管理后台主要提功给餐饮企业内部员工使用（功能：对餐厅的菜品、套餐、订单等进行管理维护等）</li>
<li>移动端应用主要提供给消费者使用（功能：在线浏览菜品、添加购物车、下单等）</li>
</ul>
<p><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916103710710.png" alt="请添加图片描述"></p>
<h3 id="产品原型展示"><a href="#产品原型展示" class="headerlink" title="产品原型展示"></a>产品原型展示</h3><p><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916103709767.png" alt="在这里插入图片描述"></p>
<h3 id="技术选型"><a href="#技术选型" class="headerlink" title="技术选型"></a>技术选型</h3><ul>
<li>用户层</li>
<li>网关层</li>
<li>应用层</li>
<li>数据层</li>
<li>以及使用到的工具<br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916103712439.png" alt="在这里插入图片描述"></li>
</ul>
<h3 id="功能架构"><a href="#功能架构" class="headerlink" title="功能架构"></a>功能架构</h3><ul>
<li>移动端前台</li>
<li>系统管理后台<br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916103712002.png" alt="请添加图片描述"></li>
</ul>
<h3 id="角色"><a href="#角色" class="headerlink" title="角色"></a>角色</h3><ul>
<li>后台系统管理员</li>
<li>后台系统普通员工</li>
<li>C端用户<br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916103710401.png" alt="在这里插入图片描述"></li>
</ul>
<h2 id="04-开发环境搭建-数据库环境搭建"><a href="#04-开发环境搭建-数据库环境搭建" class="headerlink" title="04-开发环境搭建-数据库环境搭建"></a>04-开发环境搭建-数据库环境搭建</h2><ol>
<li><strong>使用navicat（数据库可视化界面）创建对应的数据库，数据库名：reggie，字符集：utf8mb4</strong><br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_18,color_FFFFFF,t_70,g_se,x_16.png" alt="在这里插入图片描述"></li>
<li><strong>操作步骤</strong></li>
</ol>
<ul>
<li>第一步：右键点击数据库再点击运行sql文件</li>
<li>第二步：选择资料下载的位置，我的资料存储在D:\瑞吉外卖\资料\数据模型\db_reggie.sql，点击开始即可</li>
<li>第三步：打开表，即可查看数据库中执行完sql文件的所有信息<br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916103712556.png" alt="在这里插入图片描述"></li>
</ul>
<p><strong>执行完sql文件对应的对象信息</strong><br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916103711105.png" alt="在这里插入图片描述"></p>
<h2 id="05-开发环境搭建-maven项目环境搭建"><a href="#05-开发环境搭建-maven项目环境搭建" class="headerlink" title="05-开发环境搭建-maven项目环境搭建"></a>05-开发环境搭建-maven项目环境搭建</h2><h3 id="创建maven项目"><a href="#创建maven项目" class="headerlink" title="创建maven项目"></a>创建maven项目</h3><p><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916103712323.png" alt="在这里插入图片描述"></p>
<ul>
<li><strong>点击next</strong><br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916103712486.png" alt="在这里插入图片描述"></li>
<li><strong>填写好项目相关信息后，点击finish</strong><br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916103712318.png" alt="在这里插入图片描述"></li>
</ul>
<h3 id="改pom文件"><a href="#改pom文件" class="headerlink" title="改pom文件"></a>改pom文件</h3><figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">project</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://maven.apache.org/POM/4.0.0&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">modelVersion</span>&gt;</span>4.0.0<span class="tag">&lt;/<span class="name">modelVersion</span>&gt;</span></span><br><span class="line">  </span><br><span class="line">  <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.itzq<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>reggie_take_out<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.0-SNAPSHOT<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!--  lookup parent from repository  --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">parent</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-parent<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.4.5<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">relativePath</span>/&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">parent</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">properties</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">maven.compiler.source</span>&gt;</span>8<span class="tag">&lt;/<span class="name">maven.compiler.source</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">maven.compiler.target</span>&gt;</span>8<span class="tag">&lt;/<span class="name">maven.compiler.target</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">properties</span>&gt;</span></span><br><span class="line">  </span><br><span class="line">  <span class="comment">&lt;!--  注入依赖  --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-test<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">scope</span>&gt;</span>test<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-web<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">scope</span>&gt;</span>compile<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--   mybatis依赖     --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.baomidou<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis-plus-boot-starter<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.4.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--   lombok     --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.projectlombok<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>lombok<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.18.20<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--    将数据转为json对象    --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.alibaba<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>fastjson<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.2.76<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--    common-lang    --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>commons-lang<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>commons-lang<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.6<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--    连接数据库依赖    --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>mysql<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mysql-connector-java<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">scope</span>&gt;</span>runtime<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--    druid数据库连接池    --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.alibaba<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>druid-spring-boot-starter<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.1.23<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">build</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">plugins</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-maven-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.4.5<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">plugins</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">build</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">project</span>&gt;</span></span><br><span class="line">123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384</span><br></pre></td></tr></table></figure>

<h3 id="写YML"><a href="#写YML" class="headerlink" title="写YML"></a>写YML</h3><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment">##端口号</span></span><br><span class="line"><span class="attr">server:</span></span><br><span class="line">  <span class="attr">port:</span> <span class="number">8080</span></span><br><span class="line"><span class="attr">spring:</span></span><br><span class="line">  <span class="attr">application:</span></span><br><span class="line">    <span class="comment">##服务名称</span></span><br><span class="line">    <span class="attr">name:</span> <span class="string">reggie_take_out</span></span><br><span class="line">  <span class="attr">datasource:</span></span><br><span class="line">    <span class="attr">druid:</span></span><br><span class="line">      <span class="attr">driver-class-name:</span> <span class="string">com.mysql.cj.jdbc.Driver</span></span><br><span class="line">      <span class="attr">url:</span> <span class="string">jdbc:mysql://localhost:3306/reggie?serverTimezone=Asia/Shanghai&amp;useUnicode=true&amp;characterEncoding=utf-8&amp;zeroDateTimeBehavior=convertToNull&amp;useSSL=false&amp;allowPublicKeyRetrieval=true</span></span><br><span class="line">      <span class="attr">username:</span> <span class="string">root</span></span><br><span class="line">      <span class="attr">password:</span> <span class="string">root</span></span><br><span class="line"><span class="attr">mybatis-plus:</span></span><br><span class="line">  <span class="attr">configuration:</span></span><br><span class="line">    <span class="comment">##在映射实体或者属性时，将数据库中表名和字段名中的下划线去掉，按照驼峰命名法映射</span></span><br><span class="line">    <span class="attr">map-underscore-to-camel-case:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">log-impl:</span> <span class="string">org.apache.ibatis.logging.stdout.StdOutImpl</span></span><br><span class="line">  <span class="attr">global-config:</span></span><br><span class="line">    <span class="attr">db-config:</span></span><br><span class="line">      <span class="comment">##主键策略：ASSIGN_ID（雪花算法）</span></span><br><span class="line">      <span class="attr">id-type:</span> <span class="string">ASSIGN_ID</span></span><br><span class="line"><span class="number">12345678910111213141516171819202122</span></span><br></pre></td></tr></table></figure>

<h3 id="主启动"><a href="#主启动" class="headerlink" title="主启动"></a>主启动</h3><p><strong>在java下新建主启动类，带上包名</strong><br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_14,color_FFFFFF,t_70,g_se,x_16.png" alt="在这里插入图片描述"></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.itzq.reggie;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> lombok.extern.slf4j.Slf4j;</span><br><span class="line"><span class="keyword">import</span> org.springframework.boot.SpringApplication;</span><br><span class="line"><span class="keyword">import</span> org.springframework.boot.autoconfigure.SpringBootApplication;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Slf4j</span></span><br><span class="line"><span class="meta">@SpringBootApplication</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ReggieApplication</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        SpringApplication.run(ReggieApplication.class,args);</span><br><span class="line">        log.info(<span class="string">&quot;项目启动成功。。。&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="number">1234567891011121314</span></span><br></pre></td></tr></table></figure>

<h3 id="将前端资源放入resources下"><a href="#将前端资源放入resources下" class="headerlink" title="将前端资源放入resources下"></a>将前端资源放入resources下</h3><p><strong>在磁盘中找到前端资源下的目录</strong><br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916103712686.png" alt="在这里插入图片描述"></p>
<p><strong>将目录放入resources下</strong><br><img src="/../../assets/144edcf9ade44dcea529373285719c9c.png" alt="在这里插入图片描述"></p>
<h3 id="启动工程"><a href="#启动工程" class="headerlink" title="启动工程"></a>启动工程</h3><p><strong>项目启动成功</strong><br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916103715764.png" alt="在这里插入图片描述"></p>
<p><strong>访问路径 <a target="_blank" rel="noopener" href="http://localhost:8080/backend/index.html">http://localhost:8080/backend/index.html</a> ，出现无法访问，默认情况下我们只能访问static、template静态目录下的静态资源，此时我们可以通过配置类的方式来设置静态资源映射</strong><br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916103713045.png" alt="在这里插入图片描述"></p>
<h3 id="配置类设置静态资源映射"><a href="#配置类设置静态资源映射" class="headerlink" title="配置类设置静态资源映射"></a>配置类设置静态资源映射</h3><p><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_14,color_FFFFFF,t_70,g_se,x_16-20220916103713151.png" alt="在这里插入图片描述"></p>
<p><strong>通过继承WebMvcConfigurationSupport，重写addResourceHandlers方法来实现我们想要的功能</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.itzq.reggie.config;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> lombok.extern.slf4j.Slf4j;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Configuration;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.servlet.config.annotation.ResourceHandlerRegistry;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.servlet.config.annotation.WebMvcConfigurationSupport;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Slf4j</span></span><br><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">WebMvcConfig</span> <span class="keyword">extends</span> <span class="title class_">WebMvcConfigurationSupport</span> &#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 设置静态资源映射</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> registry</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">addResourceHandlers</span><span class="params">(ResourceHandlerRegistry registry)</span> &#123;</span><br><span class="line">        log.info(<span class="string">&quot;开始进行静态资源映射。。。&quot;</span>);</span><br><span class="line">        <span class="comment">//访问路径</span></span><br><span class="line">        registry.addResourceHandler(<span class="string">&quot;/backend/**&quot;</span>)</span><br><span class="line">                <span class="comment">//映射到真实的路径（映射的真实路径末尾必须添加斜杠`/`）</span></span><br><span class="line">                .addResourceLocations(<span class="string">&quot;classpath:/backend/&quot;</span>);</span><br><span class="line">        registry.addResourceHandler(<span class="string">&quot;/front/**&quot;</span>)</span><br><span class="line">                .addResourceLocations(<span class="string">&quot;classpath:/front/&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="number">12345678910111213141516171819202122232425</span></span><br></pre></td></tr></table></figure>

<p><strong>重新启动工程！</strong></p>
<p>浏览器访问地址：<a target="_blank" rel="noopener" href="http://localhost:8080/backend/index.html%EF%BC%8C%E5%87%BA%E7%8E%B0%E4%BB%A5%E4%B8%8B%E7%95%8C%E9%9D%A2%E5%8D%B3%E9%85%8D%E7%BD%AE%E6%88%90%E5%8A%9F%EF%BC%8C%E9%A1%B5%E9%9D%A2%E4%B8%AD%E8%AF%B7%E6%B1%82%E5%87%BA%E9%94%99%E6%98%AF%E5%9B%A0%E4%B8%BA%E5%89%8D%E7%AB%AF%E5%8F%91%E9%80%81%E4%BA%86%E4%B8%80%E4%B8%AAajax%E8%AF%B7%E6%B1%82%EF%BC%8C%E8%80%8C%E5%90%8E%E7%AB%AF%E8%BF%98%E6%B2%A1%E6%9C%89%E5%86%99%E4%B8%9C%E8%A5%BF%E6%89%80%E4%BB%A5%E9%A1%B5%E9%9D%A2%E6%8F%90%E7%A4%BA%E8%AF%B7%E6%B1%82%E5%87%BA%E9%94%99">http://localhost:8080/backend/index.html，出现以下界面即配置成功，页面中请求出错是因为前端发送了一个ajax请求，而后端还没有写东西所以页面提示请求出错</a><br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916103713448.png" alt="在这里插入图片描述"></p>
<h2 id="06-后台系统登录功能-需求分析"><a href="#06-后台系统登录功能-需求分析" class="headerlink" title="06-后台系统登录功能-需求分析"></a>06-后台系统登录功能-需求分析</h2><h3 id="需求分析"><a href="#需求分析" class="headerlink" title="需求分析"></a>需求分析</h3><p><strong>登录页面展示</strong></p>
<p>访问路径：<a target="_blank" rel="noopener" href="http://localhost:8080/backend/page/login/login.html">http://localhost:8080/backend/page/login/login.html</a><br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916103715414.png" alt="在这里插入图片描述"></p>
<p><strong>数据库的密码通过MD5加密了，它的明文密码为123456</strong><br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916103715937.png" alt="在这里插入图片描述"></p>
<p><strong>输入正确的用户名和密码点击登录，按住f12，寻找到以下页面，可以看到请求路径跳转到地址为：localhost:8080&#x2F;employee&#x2F;login的页面，报404错误，因为后台系统还没有响应此请求的处理器，我们需要创建相关类来处理登录请求</strong><br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916103715781.png" alt="在这里插入图片描述"></p>
<h2 id="07-后台系统登录功能-代码开发（创建controller，service，mapper，实体类）"><a href="#07-后台系统登录功能-代码开发（创建controller，service，mapper，实体类）" class="headerlink" title="07-后台系统登录功能-代码开发（创建controller，service，mapper，实体类）"></a>07-后台系统登录功能-代码开发（<strong>创建controller，service，mapper，实体类</strong>）</h2><h3 id="代码开发"><a href="#代码开发" class="headerlink" title="代码开发"></a>代码开发</h3><p><strong>创建controller，service，mapper，实体类</strong></p>
<ol>
<li>在reggie包下分别创建controller，service（在此包下再创建一个impl包），mapper，entity包</li>
<li>在entity包下创建Employee类</li>
</ol>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.itzq.reggie.entity;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.annotation.FieldFill;</span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.annotation.TableField;</span><br><span class="line"><span class="keyword">import</span> lombok.Data;</span><br><span class="line"><span class="keyword">import</span> java.io.Serializable;</span><br><span class="line"><span class="keyword">import</span> java.time.LocalDateTime;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Employee</span> <span class="keyword">implements</span> <span class="title class_">Serializable</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">long</span> <span class="variable">serialVersionUID</span> <span class="operator">=</span> <span class="number">1L</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> Long id;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> String username;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> String password;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> String phone;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> String sex;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> String idNumber;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> Integer status;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> LocalDateTime createTime;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> LocalDateTime updateTime;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@TableField(fill = FieldFill.INSERT)</span></span><br><span class="line">    <span class="keyword">private</span> Long createUser;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@TableField(fill = FieldFill.INSERT_UPDATE)</span></span><br><span class="line">    <span class="keyword">private</span> Long updateUser;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="number">12345678910111213141516171819202122232425262728293031323334353637383940</span></span><br></pre></td></tr></table></figure>

<ol>
<li>在mapper包下创建EmployeeMapper接口，并继承BaseMapper，添加@Mapper注解在该接口上</li>
</ol>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.itzq.reggie.mapper;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.core.mapper.BaseMapper;</span><br><span class="line"><span class="keyword">import</span> com.itzq.reggie.entity.Employee;</span><br><span class="line"><span class="keyword">import</span> org.apache.ibatis.annotations.Mapper;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Mapper</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">EmployeeMapper</span> <span class="keyword">extends</span> <span class="title class_">BaseMapper</span>&lt;Employee&gt; &#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="number">12345678910</span></span><br></pre></td></tr></table></figure>

<ol>
<li>在service包下编写EmployeeService接口，并继承IService</li>
</ol>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.itzq.reggie.service;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.extension.service.IService;</span><br><span class="line"><span class="keyword">import</span> com.itzq.reggie.entity.Employee;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">EmployeeService</span> <span class="keyword">extends</span> <span class="title class_">IService</span>&lt;Employee&gt; &#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="number">12345678</span></span><br></pre></td></tr></table></figure>

<ol>
<li>在Impl包下编写EmployeeServiceImpl类，并继承ServiceImpl类，实现EmployeeService接口</li>
</ol>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.itzq.reggie.service.Impl;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.extension.service.impl.ServiceImpl;</span><br><span class="line"><span class="keyword">import</span> com.itzq.reggie.entity.Employee;</span><br><span class="line"><span class="keyword">import</span> com.itzq.reggie.mapper.EmployeeMapper;</span><br><span class="line"><span class="keyword">import</span> com.itzq.reggie.service.EmployeeService;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Service;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">EmployeeServiceImpl</span> <span class="keyword">extends</span> <span class="title class_">ServiceImpl</span>&lt;EmployeeMapper, Employee&gt; <span class="keyword">implements</span> <span class="title class_">EmployeeService</span> &#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="number">123456789101112</span></span><br></pre></td></tr></table></figure>

<ol>
<li>在controller包下编写EmployeeController类</li>
</ol>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.itzq.reggie.controller;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> lombok.extern.slf4j.Slf4j;</span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Autowired;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RequestMapping;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RestController;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Slf4j</span></span><br><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="meta">@RequestMapping(&quot;/employee&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">EmployeeController</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> EmployeeService employeeService;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="number">1234567891011121314151617</span></span><br></pre></td></tr></table></figure>

<h2 id="08-后台系统登录功能-代码开发（导入通用返回结果类）"><a href="#08-后台系统登录功能-代码开发（导入通用返回结果类）" class="headerlink" title="08-后台系统登录功能-代码开发（导入通用返回结果类）"></a>08-后台系统登录功能-代码开发（<strong>导入通用返回结果类</strong>）</h2><h3 id="导入通用结果类"><a href="#导入通用结果类" class="headerlink" title="导入通用结果类"></a>导入通用结果类</h3><p><img src="/../../assets/4ea7f7266a3b4efba8621fc6fcd4ec4d.png" alt="在这里插入图片描述"></p>
<p><strong>在reggie包下创建一个子包为common，再在common包下创建一个R类</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.itzq.reggie.common;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> lombok.Data;</span><br><span class="line"><span class="keyword">import</span> java.util.HashMap;</span><br><span class="line"><span class="keyword">import</span> java.util.Map;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 通用返回结果，服务器响应的数据最终都会封装成此对象</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &lt;T&gt;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">R</span>&lt;T&gt; &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> Integer code; <span class="comment">//编码：1成功，0和其它数字为失败</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> String msg; <span class="comment">//错误信息</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> T data; <span class="comment">//数据</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="type">Map</span> <span class="variable">map</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">HashMap</span>(); <span class="comment">//动态数据</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> &lt;T&gt; R&lt;T&gt; <span class="title function_">success</span><span class="params">(T object)</span> &#123;</span><br><span class="line">        R&lt;T&gt; r = <span class="keyword">new</span> <span class="title class_">R</span>&lt;T&gt;();</span><br><span class="line">        r.data = object;</span><br><span class="line">        r.code = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">return</span> r;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> &lt;T&gt; R&lt;T&gt; <span class="title function_">error</span><span class="params">(String msg)</span> &#123;</span><br><span class="line">        <span class="type">R</span> <span class="variable">r</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">R</span>();</span><br><span class="line">        r.msg = msg;</span><br><span class="line">        r.code = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">return</span> r;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> R&lt;T&gt; <span class="title function_">add</span><span class="params">(String key, Object value)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.map.put(key, value);</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">this</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="number">123456789101112131415161718192021222324252627282930313233343536373839404142</span></span><br></pre></td></tr></table></figure>

<h2 id="09-后台系统登录功能-代码开发（梳理登录方法处理逻辑）"><a href="#09-后台系统登录功能-代码开发（梳理登录方法处理逻辑）" class="headerlink" title="09-后台系统登录功能-代码开发（梳理登录方法处理逻辑）"></a>09-后台系统登录功能-代码开发（<strong>梳理登录方法处理逻辑</strong>）</h2><h3 id="代码开发以及梳理"><a href="#代码开发以及梳理" class="headerlink" title="代码开发以及梳理"></a>代码开发以及梳理</h3><p><strong>给EmployeeController类添加一个login方法</strong></p>
<ul>
<li>@RequestBody 主要用于接收前端传递给后端的json字符串（请求体中的数据）</li>
<li>HttpServletRequest request作用：如果登录成功，将员工对应的id存到session一份，这样想获取一份登录用户的信息就可以随时获取出来</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.itzq.reggie.controller;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.core.conditions.query.LambdaQueryWrapper;</span><br><span class="line"><span class="keyword">import</span> com.itzq.reggie.common.R;</span><br><span class="line"><span class="keyword">import</span> com.itzq.reggie.entity.Employee;</span><br><span class="line"><span class="keyword">import</span> com.itzq.reggie.service.EmployeeService;</span><br><span class="line"><span class="keyword">import</span> lombok.extern.slf4j.Slf4j;</span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Autowired;</span><br><span class="line"><span class="keyword">import</span> org.springframework.util.DigestUtils;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.PostMapping;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RequestBody;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RequestMapping;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RestController;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Slf4j</span></span><br><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="meta">@RequestMapping(&quot;/employee&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">EmployeeController</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> EmployeeService employeeService;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 员工登录</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> request</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> employee</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="comment">//@RequestBody 主要用于接收前端传递给后端的json字符串（请求体中的数据）</span></span><br><span class="line">    <span class="comment">//HttpServletRequest request作用：如果登录成功，将员工对应的id存到session一份，这样想获取一份登录用户的信息就可以随时获取出来</span></span><br><span class="line">    <span class="meta">@PostMapping(&quot;/login&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> R&lt;Employee&gt; <span class="title function_">login</span><span class="params">(HttpServletRequest request, <span class="meta">@RequestBody</span> Employee employee)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="number">123456789101112131415161718192021222324252627282930313233343536373839</span></span><br></pre></td></tr></table></figure>

<p><strong>在controller中创建登录方法</strong></p>
<ol>
<li>将页面提交的密码进行MD5加密处理</li>
<li>根据页面提交的用户名username查询数据库</li>
<li>如果没有查询到则返回登录失败结果</li>
<li>密码比对，如果不一致则返回登录结果</li>
<li>查看员工状态，如果已为禁用状态，则返回员工已禁用结果</li>
<li>登录成功，将员工id存入session并返回登录成功结果<br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916103715770.png" alt="在这里插入图片描述"></li>
</ol>
<h2 id="10-后台系统登录功能-代码开发（实现登录处理逻辑）"><a href="#10-后台系统登录功能-代码开发（实现登录处理逻辑）" class="headerlink" title="10-后台系统登录功能-代码开发（实现登录处理逻辑）"></a>10-后台系统登录功能-代码开发（<strong>实现登录处理逻辑</strong>）</h2><h3 id="编写代码实现逻辑"><a href="#编写代码实现逻辑" class="headerlink" title="编写代码实现逻辑"></a>编写代码实现逻辑</h3><p><strong>在EmployeeController类的login方法中添加代码实现登录处理逻辑</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.itzq.reggie.controller;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.core.conditions.query.LambdaQueryWrapper;</span><br><span class="line"><span class="keyword">import</span> com.itzq.reggie.common.R;</span><br><span class="line"><span class="keyword">import</span> com.itzq.reggie.entity.Employee;</span><br><span class="line"><span class="keyword">import</span> com.itzq.reggie.service.EmployeeService;</span><br><span class="line"><span class="keyword">import</span> lombok.extern.slf4j.Slf4j;</span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Autowired;</span><br><span class="line"><span class="keyword">import</span> org.springframework.util.DigestUtils;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.PostMapping;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RequestBody;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RequestMapping;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RestController;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Slf4j</span></span><br><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="meta">@RequestMapping(&quot;/employee&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">EmployeeController</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> EmployeeService employeeService;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 员工登录</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> request</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> employee</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="comment">//@RequestBody 主要用于接收前端传递给后端的json字符串（请求体中的数据）</span></span><br><span class="line">    <span class="comment">//HttpServletRequest request作用：如果登录成功，将员工对应的id存到session一份，这样想获取一份登录用户的信息就可以随时获取出来</span></span><br><span class="line">    <span class="meta">@PostMapping(&quot;/login&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> R&lt;Employee&gt; <span class="title function_">login</span><span class="params">(HttpServletRequest request, <span class="meta">@RequestBody</span> Employee employee)</span>&#123;</span><br><span class="line">        <span class="comment">//1.将页面提交的密码进行MD5加密处理</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">password</span> <span class="operator">=</span> employee.getPassword();</span><br><span class="line">        password= DigestUtils.md5DigestAsHex(password.getBytes());</span><br><span class="line"></span><br><span class="line">        <span class="comment">//2.根据页面提交的用户名username查询数据库</span></span><br><span class="line">        LambdaQueryWrapper&lt;Employee&gt; queryWrapper = <span class="keyword">new</span> <span class="title class_">LambdaQueryWrapper</span>&lt;&gt;();</span><br><span class="line">        queryWrapper.eq(Employee::getUsername,employee.getUsername());</span><br><span class="line">        <span class="type">Employee</span> <span class="variable">emp</span> <span class="operator">=</span> employeeService.getOne(queryWrapper);  <span class="comment">//使用getOne：因为user_name字段有unique唯一约束，不会出现查询出多个结果</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//3.如果没有查询到则返回登录失败结果</span></span><br><span class="line">        <span class="keyword">if</span> (emp == <span class="literal">null</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> R.error(<span class="string">&quot;登录失败&quot;</span>);  <span class="comment">//因为error为静态方法，所以可以在该类中直接调用</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//4.密码比对，如果不一致则返回登录结果</span></span><br><span class="line">        <span class="keyword">if</span> (!emp.getPassword().equals(password)) &#123;</span><br><span class="line">            <span class="keyword">return</span> R.error(<span class="string">&quot;登录失败&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//5.查看员工状态，如果已为禁用状态，则返回员工已禁用结果</span></span><br><span class="line">        <span class="keyword">if</span> (emp.getStatus() == <span class="number">0</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> R.error(<span class="string">&quot;账号已禁用&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//6.登录成功，将员工id存入session并返回登录成功结果</span></span><br><span class="line">        request.getSession().setAttribute(<span class="string">&quot;employee&quot;</span>,emp.getId());</span><br><span class="line">        <span class="keyword">return</span> R.success(emp);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 员工退出</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> request</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@PostMapping(&quot;/logout&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> R&lt;String&gt; <span class="title function_">logout</span><span class="params">(HttpServletRequest request)</span>&#123;</span><br><span class="line">        <span class="comment">//清理session中保存的当前登录员工的id</span></span><br><span class="line">        request.getSession().removeAttribute(<span class="string">&quot;employee&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> R.success(<span class="string">&quot;退出成功&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="number">123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778</span></span><br></pre></td></tr></table></figure>

<h2 id="11-后台系统登录功能-代码开发（功能测试）"><a href="#11-后台系统登录功能-代码开发（功能测试）" class="headerlink" title="11-后台系统登录功能-代码开发（功能测试）"></a>11-后台系统登录功能-代码开发（<strong>功能测试</strong>）</h2><h3 id="测试"><a href="#测试" class="headerlink" title="测试"></a>测试</h3><p><strong>通过debug方式启动项目，在箭头指向位置添加断点</strong><br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916103715982.png" alt="请添加图片描述"><br><strong>在浏览器上访问地址：<a target="_blank" rel="noopener" href="http://localhost:8080/backend/page/login/login.html">http://localhost:8080/backend/page/login/login.html</a></strong></p>
<ul>
<li>输入正确的用户名和密码点击登录</li>
<li>在debug调试期间用时较长，前端在10s内得不到响应则会抛出异常，</li>
<li>为了我们可以在后端进行长时间的调试，我们需要重新设置前端页面的响应超时时间找到<strong>request.js</strong><br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_10,color_FFFFFF,t_70,g_se,x_16.png" alt="在这里插入图片描述"></li>
</ul>
<p><strong>将timeout后面的数据多添加两个0，并且清除浏览器带有的缓存</strong><br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916103716488.png" alt="在这里插入图片描述"></p>
<p><strong>清除浏览器缓存</strong><br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916103717038.png" alt="在这里插入图片描述"></p>
<p><strong>测试</strong></p>
<ol>
<li>输入错误的username，页面返回登录失败的信息</li>
<li>输入错误的密码，页面返回登录失败的信息</li>
<li>在数据库中将员工的status改为0，表示该员工处于被禁用状态，页面返回登录失败的信息</li>
</ol>
<h2 id="12-后台系统退出功能-需求分析-amp-代码开发-amp-功能测试"><a href="#12-后台系统退出功能-需求分析-amp-代码开发-amp-功能测试" class="headerlink" title="12-后台系统退出功能_需求分析&amp;代码开发&amp;功能测试"></a>12-后台系统退出功能_需求分析&amp;代码开发&amp;<strong>功能测试</strong></h2><h3 id="功能测试"><a href="#功能测试" class="headerlink" title="功能测试"></a>功能测试</h3><p><img src="/../../assets/4d59fa597b1b4ca5a5a12a1f80f88498.png" alt="在这里插入图片描述"></p>
<p><strong>在EmployeeController类中添加logout方法</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 员工退出</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> request</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@PostMapping(&quot;/logout&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> R&lt;String&gt; <span class="title function_">logout</span><span class="params">(HttpServletRequest request)</span>&#123;</span><br><span class="line">        <span class="comment">//清理session中保存的当前登录员工的id</span></span><br><span class="line">        request.getSession().removeAttribute(<span class="string">&quot;employee&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> R.success(<span class="string">&quot;退出成功&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"><span class="number">1234567891011</span></span><br></pre></td></tr></table></figure>

<p><strong>登录成功时</strong><br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916103716446.png" alt="在这里插入图片描述"></p>
<p><strong>退出登录后</strong><br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916103716232.png" alt="在这里插入图片描述"></p>
<h2 id="13-分析后台系统首页构成和效果展示方式"><a href="#13-分析后台系统首页构成和效果展示方式" class="headerlink" title="13-分析后台系统首页构成和效果展示方式"></a>13-分析后台系统首页构成和效果展示方式</h2><h3 id="展示效果以及分析"><a href="#展示效果以及分析" class="headerlink" title="展示效果以及分析"></a>展示效果以及分析</h3><p><img src="/../../assets/8e8a750ed8d441a081eb67ed63d5301e.png" alt="在这里插入图片描述"></p>
<p><strong>在index.html页面下的menuList作为数据的准备</strong></p>
<p><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916103716617.png" alt="在这里插入图片描述"></p>
<p><strong>遍历menuList的代码块，里面各个标注对应的重要含义</strong></p>
<ol>
<li>遍历menuList</li>
<li>v-if，根据提供的menuList可知并不满足条件</li>
<li>标签名：通过name属性定义</li>
<li>如果v-if不满足条件，则通过v-else</li>
<li>点击菜单，会执行menuHandle方法<br><img src="https://img-blog.csdnimg.cn/b961db13ccb745ec9c9c848a2ccd7827.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"></li>
</ol>
<p><strong>menuHandle方法最重要的是红框的语句</strong><br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_15,color_FFFFFF,t_70,g_se,x_16.png" alt="在这里插入图片描述"></p>
<p><strong>定义了一个iframe，用于展示另一个页面，这个页面从哪来？传给我什么数据，我就展示什么数据</strong><br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_10,color_FFFFFF,t_70,g_se,x_16-20220916103717081.png" alt="在这里插入图片描述"></p>
<p><strong>那为什么登录成功后就是员工管理界面，因为在html中设置了初始值，当我们在点击菜单的时候，其实就是在切换url，展示一个新的界面</strong><br><strong>在html页面设置的初始界面</strong><br><img src="/../../assets/75ce3c4fe6db43acacaf3e0363fd1986.png" alt="在这里插入图片描述"></p>
<h1 id="业务开发Day2"><a href="#业务开发Day2" class="headerlink" title="业务开发Day2"></a>业务开发Day2</h1><h2 id="01-本章内容介绍-1"><a href="#01-本章内容介绍-1" class="headerlink" title="01-本章内容介绍"></a>01-本章内容介绍</h2><h3 id="目录-2"><a href="#目录-2" class="headerlink" title="目录"></a>目录</h3><p><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164023468.png" alt="在这里插入图片描述"></p>
<p><strong>针对员工这张表进行对数据的维护</strong><br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_13,color_FFFFFF,t_70,g_se,x_16.png" alt="在这里插入图片描述"><br><strong>点击添加员工后呈现的页面</strong><br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164024329.png" alt="在这里插入图片描述"></p>
<p><strong>在浏览器地址栏中输入地址：<a target="_blank" rel="noopener" href="http://localhost:8080/backend/index.html">http://localhost:8080/backend/index.html</a> ，在没有登录的情况下也可以进入管理界面，但最终我们想看到的效果是没有登录，就跳转到登录界面来，登录成功之后才能进入到管理界面</strong><br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164023722.png" alt="在这里插入图片描述"></p>
<h2 id="02-完善登录功能-问题分析并创建过滤器"><a href="#02-完善登录功能-问题分析并创建过滤器" class="headerlink" title="02-完善登录功能_问题分析并创建过滤器"></a>02-完善登录功能_问题分析并创建过滤器</h2><h3 id="问题分析"><a href="#问题分析" class="headerlink" title="问题分析"></a>问题分析</h3><ul>
<li>前面我们已经完成了后台系统的员工登录功能开发，但是还存在一个问题:用户如果不登录，直接访问系统首页面，照样可以正常访问。</li>
<li>这种设计并不合理，我们希望看到的效果应该是，只有登录成功后才可以访问系统中的页面，如果没有登录则跳转到登录页面。</li>
<li>那么，具体应该怎么实现呢? 答案就是使用过滤器或者拦截器，在过滤器或者拦截器中判断用户是否已经完成登录，如果没有登录则跳转到登录页面。</li>
</ul>
<h3 id="代码实现"><a href="#代码实现" class="headerlink" title="代码实现"></a>代码实现</h3><ol>
<li>创建自定义过滤器LoginCheckFilter</li>
</ol>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.itzq.reggie.filter;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> lombok.extern.slf4j.Slf4j;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.servlet.*;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.annotation.WebFilter;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletResponse;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="meta">@WebFilter(filterName = &quot;loginCheckFilter&quot;,urlPatterns = &quot;/*&quot;)</span></span><br><span class="line"><span class="meta">@Slf4j</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">LoginCheckFilter</span> <span class="keyword">implements</span> <span class="title class_">Filter</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">doFilter</span><span class="params">(ServletRequest servletRequest, ServletResponse servletResponse, FilterChain filterChain)</span> <span class="keyword">throws</span> IOException, ServletException &#123;</span><br><span class="line">        <span class="comment">//强转</span></span><br><span class="line">        <span class="type">HttpServletRequest</span> <span class="variable">request</span> <span class="operator">=</span> (HttpServletRequest) servletRequest;</span><br><span class="line">        <span class="type">HttpServletResponse</span> <span class="variable">response</span> <span class="operator">=</span> (HttpServletResponse) servletResponse;</span><br><span class="line">        log.info(<span class="string">&quot;拦截到请求：&#123;&#125;&quot;</span>,request.getRequestURI());</span><br><span class="line">        filterChain.doFilter(request,response);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="number">123456789101112131415161718192021222324</span></span><br></pre></td></tr></table></figure>

<ol>
<li>在启动类上加入注解@ServletComponentScan</li>
</ol>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.itzq.reggie;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> lombok.extern.slf4j.Slf4j;</span><br><span class="line"><span class="keyword">import</span> org.springframework.boot.SpringApplication;</span><br><span class="line"><span class="keyword">import</span> org.springframework.boot.autoconfigure.SpringBootApplication;</span><br><span class="line"><span class="keyword">import</span> org.springframework.boot.web.servlet.ServletComponentScan;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Slf4j</span></span><br><span class="line"><span class="meta">@SpringBootApplication</span></span><br><span class="line"><span class="meta">@ServletComponentScan</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ReggieApplication</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        SpringApplication.run(ReggieApplication.class,args);</span><br><span class="line">        log.info(<span class="string">&quot;项目启动成功。。。&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="number">12345678910111213141516</span></span><br></pre></td></tr></table></figure>

<ol>
<li>完善过滤器的处理逻辑<br><strong>完善过滤器内容在下一章节</strong></li>
</ol>
<h3 id="测试-1"><a href="#测试-1" class="headerlink" title="测试"></a>测试</h3><p>在浏览器上访问：<a target="_blank" rel="noopener" href="http://localhost:8080/backend/index.html">http://localhost:8080/backend/index.html</a> ，控制台的呈现<br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164026066.png" alt="在这里插入图片描述"></p>
<h2 id="03-完善登录功能-代码开发"><a href="#03-完善登录功能-代码开发" class="headerlink" title="03-完善登录功能_代码开发"></a>03-完善登录功能_代码开发</h2><h3 id="处理逻辑"><a href="#处理逻辑" class="headerlink" title="处理逻辑"></a>处理逻辑</h3><ol>
<li>获取本次请求的URI</li>
<li>.判断本次请求是否需要处理</li>
<li>如果不需要处理，则直接放行</li>
<li>判断登录状态，如果已登录，则直接放行</li>
<li>如果未登录则返回未登录结果<br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_19,color_FFFFFF,t_70,g_se,x_16.png" alt="在这里插入图片描述"></li>
</ol>
<h3 id="完善LoginCheckFilter过滤器代码"><a href="#完善LoginCheckFilter过滤器代码" class="headerlink" title="完善LoginCheckFilter过滤器代码"></a>完善LoginCheckFilter过滤器代码</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.itzq.reggie.filter;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.alibaba.fastjson.JSON;</span><br><span class="line"><span class="keyword">import</span> com.itzq.reggie.common.R;</span><br><span class="line"><span class="keyword">import</span> lombok.extern.slf4j.Slf4j;</span><br><span class="line"><span class="keyword">import</span> org.springframework.util.AntPathMatcher;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.servlet.*;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.annotation.WebFilter;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletResponse;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="meta">@WebFilter(filterName = &quot;loginCheckFilter&quot;,urlPatterns = &quot;/*&quot;)</span></span><br><span class="line"><span class="meta">@Slf4j</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">LoginCheckFilter</span> <span class="keyword">implements</span> <span class="title class_">Filter</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//路径匹配</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">AntPathMatcher</span> <span class="variable">PATH_MATCHER</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">AntPathMatcher</span>();</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">doFilter</span><span class="params">(ServletRequest servletRequest, ServletResponse servletResponse, FilterChain filterChain)</span> <span class="keyword">throws</span> IOException, ServletException &#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//强转</span></span><br><span class="line">        <span class="type">HttpServletRequest</span> <span class="variable">request</span> <span class="operator">=</span> (HttpServletRequest) servletRequest;</span><br><span class="line">        <span class="type">HttpServletResponse</span> <span class="variable">response</span> <span class="operator">=</span> (HttpServletResponse) servletResponse;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//1.获取本次请求的URI</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">requestURI</span> <span class="operator">=</span> request.getRequestURI();</span><br><span class="line"></span><br><span class="line">        <span class="comment">//定义不需要处理的请求</span></span><br><span class="line">        String[] urls = <span class="keyword">new</span> <span class="title class_">String</span>[]&#123;</span><br><span class="line">                <span class="string">&quot;/employee/login&quot;</span>,</span><br><span class="line">                <span class="string">&quot;/employee/logout&quot;</span>,</span><br><span class="line">                <span class="string">&quot;/backend/**&quot;</span>,</span><br><span class="line">                <span class="string">&quot;/front/**&quot;</span></span><br><span class="line">        &#125;;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//2.判断本次请求是否需要处理</span></span><br><span class="line">        <span class="type">boolean</span> <span class="variable">check</span> <span class="operator">=</span> check(urls, requestURI);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//3.如果不需要处理，则直接放行</span></span><br><span class="line">        <span class="keyword">if</span> (check) &#123;</span><br><span class="line">            filterChain.doFilter(request,response);</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//4.判断登录状态，如果已登录，则直接放行</span></span><br><span class="line">        <span class="keyword">if</span> (request.getSession().getAttribute(<span class="string">&quot;employee&quot;</span>) != <span class="literal">null</span>) &#123;</span><br><span class="line">            filterChain.doFilter(request,response);</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//5.如果未登录则返回未登录结果,通过输出流方式向客户端页面响应数据</span></span><br><span class="line">        response.getWriter().write(JSON.toJSONString(R.error(<span class="string">&quot;NOTLOGIN&quot;</span>)));</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">check</span><span class="params">(String[] urls, String requestURI)</span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (String url : urls) &#123;</span><br><span class="line">            <span class="type">boolean</span> <span class="variable">match</span> <span class="operator">=</span> PATH_MATCHER.match(url, requestURI);</span><br><span class="line">            <span class="keyword">if</span> (match) &#123;</span><br><span class="line">                <span class="comment">//匹配</span></span><br><span class="line">                <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//不匹配</span></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="number">123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172</span></span><br></pre></td></tr></table></figure>

<p><strong>可以在index.html页面找到红方框下的信息</strong><br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164024491.png" alt="请添加图片描述"><br><strong>寻找到request.js代码中的响应拦截器部分</strong></p>
<ol>
<li>服务端若传递的code&#x3D;0，msg&#x3D;NOTLOGIN</li>
<li>则返回到登录页面<br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164025536.png" alt="请添加图片描述"></li>
</ol>
<h2 id="04-完善登录功能-功能测试"><a href="#04-完善登录功能-功能测试" class="headerlink" title="04-完善登录功能_功能测试"></a>04-完善登录功能_功能测试</h2><h3 id="在LoginCheckFilter类中加入日志"><a href="#在LoginCheckFilter类中加入日志" class="headerlink" title="在LoginCheckFilter类中加入日志"></a>在LoginCheckFilter类中加入日志</h3><p><strong>作用：方便观察</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.itzq.reggie.filter;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.alibaba.fastjson.JSON;</span><br><span class="line"><span class="keyword">import</span> com.itzq.reggie.common.R;</span><br><span class="line"><span class="keyword">import</span> lombok.extern.slf4j.Slf4j;</span><br><span class="line"><span class="keyword">import</span> org.springframework.util.AntPathMatcher;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.servlet.*;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.annotation.WebFilter;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletResponse;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="meta">@WebFilter(filterName = &quot;loginCheckFilter&quot;,urlPatterns = &quot;/*&quot;)</span></span><br><span class="line"><span class="meta">@Slf4j</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">LoginCheckFilter</span> <span class="keyword">implements</span> <span class="title class_">Filter</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//路径匹配</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">AntPathMatcher</span> <span class="variable">PATH_MATCHER</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">AntPathMatcher</span>();</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">doFilter</span><span class="params">(ServletRequest servletRequest, ServletResponse servletResponse, FilterChain filterChain)</span> <span class="keyword">throws</span> IOException, ServletException &#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//强转</span></span><br><span class="line">        <span class="type">HttpServletRequest</span> <span class="variable">request</span> <span class="operator">=</span> (HttpServletRequest) servletRequest;</span><br><span class="line">        <span class="type">HttpServletResponse</span> <span class="variable">response</span> <span class="operator">=</span> (HttpServletResponse) servletResponse;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//1.获取本次请求的URI</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">requestURI</span> <span class="operator">=</span> request.getRequestURI();</span><br><span class="line">        log.info(<span class="string">&quot;拦截到的请求：&#123;&#125;&quot;</span>,requestURI);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//定义不需要处理的请求</span></span><br><span class="line">        String[] urls = <span class="keyword">new</span> <span class="title class_">String</span>[]&#123;</span><br><span class="line">                <span class="string">&quot;/employee/login&quot;</span>,</span><br><span class="line">                <span class="string">&quot;/employee/logout&quot;</span>,</span><br><span class="line">                <span class="string">&quot;/backend/**&quot;</span>,</span><br><span class="line">                <span class="string">&quot;/front/**&quot;</span></span><br><span class="line">        &#125;;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//2.判断本次请求是否需要处理</span></span><br><span class="line">        <span class="type">boolean</span> <span class="variable">check</span> <span class="operator">=</span> check(urls, requestURI);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//3.如果不需要处理，则直接放行</span></span><br><span class="line">        <span class="keyword">if</span> (check) &#123;</span><br><span class="line">            log.info(<span class="string">&quot;本次请求：&#123;&#125;，不需要处理&quot;</span>,requestURI);</span><br><span class="line">            filterChain.doFilter(request,response);</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//4.判断登录状态，如果已登录，则直接放行</span></span><br><span class="line">        <span class="keyword">if</span> (request.getSession().getAttribute(<span class="string">&quot;employee&quot;</span>) != <span class="literal">null</span>) &#123;</span><br><span class="line">            log.info(<span class="string">&quot;用户已登录，用户id为：&#123;&#125;&quot;</span>,request.getSession().getAttribute(<span class="string">&quot;employee&quot;</span>));</span><br><span class="line">            filterChain.doFilter(request,response);</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//5.如果未登录则返回未登录结果,通过输出流方式向客户端页面响应数据</span></span><br><span class="line">        log.info(<span class="string">&quot;用户未登录&quot;</span>);</span><br><span class="line">        response.getWriter().write(JSON.toJSONString(R.error(<span class="string">&quot;NOTLOGIN&quot;</span>)));</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">check</span><span class="params">(String[] urls, String requestURI)</span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (String url : urls) &#123;</span><br><span class="line">            <span class="type">boolean</span> <span class="variable">match</span> <span class="operator">=</span> PATH_MATCHER.match(url, requestURI);</span><br><span class="line">            <span class="keyword">if</span> (match) &#123;</span><br><span class="line">                <span class="comment">//匹配</span></span><br><span class="line">                <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//不匹配</span></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="number">12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576</span></span><br></pre></td></tr></table></figure>

<h3 id="测试-2"><a href="#测试-2" class="headerlink" title="测试"></a>测试</h3><ol>
<li>启动项目</li>
<li>在浏览器的地址栏中输入：<a target="_blank" rel="noopener" href="http://localhost:8080/backend/index.html">http://localhost:8080/backend/index.html</a> ，会发现跳转到了登录界面</li>
<li>控制台打印日志<br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164024890.png" alt="在这里插入图片描述"></li>
<li>在浏览器的地址栏中输入：<a target="_blank" rel="noopener" href="http://localhost:8080/backend/page/login/login.html">http://localhost:8080/backend/page/login/login.html</a> ，点击登录</li>
<li>控制台打印日志<br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164025182.png" alt="在这里插入图片描述"></li>
</ol>
<h2 id="05-新增员工-需求分析和数据模型"><a href="#05-新增员工-需求分析和数据模型" class="headerlink" title="05-新增员工_需求分析和数据模型"></a>05-新增员工_需求分析和数据模型</h2><h3 id="需求分析-1"><a href="#需求分析-1" class="headerlink" title="需求分析"></a>需求分析</h3><ul>
<li>新增员工，其实就是将我们新增页面录入的员工数据插入到employee表。<br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164025401.png" alt="在这里插入图片描述"></li>
<li>需要注意，employee表中对username字段加入了唯一约束，因为username是员工的登录账号，必须是唯一的<br><img src="/../../assets/6dfdbf9b66f64685b75485a6e1b06050.png" alt="在这里插入图片描述"></li>
<li>employee表中的status字段已经设置了默认值1，表示状态正常。<br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164025628.png" alt="在这里插入图片描述"></li>
</ul>
<h2 id="06-新增员工-梳理程序执行流程"><a href="#06-新增员工-梳理程序执行流程" class="headerlink" title="06-新增员工_梳理程序执行流程"></a>06-新增员工_梳理程序执行流程</h2><h3 id="在开发代码之前，需要梳理一下整个程序的执行过程"><a href="#在开发代码之前，需要梳理一下整个程序的执行过程" class="headerlink" title="在开发代码之前，需要梳理一下整个程序的执行过程:"></a>在开发代码之前，需要梳理一下整个程序的执行过程:</h3><ol>
<li>页面发送ajax请求，将新增员工页面中输入的数据以json的形式提交到服务端</li>
<li>服务端Controller接收页面提交的数据并调用Service将数据进行保存</li>
<li>Service调用Mapper操作数据库，保存数据<br><img src="/../../assets/2898790d85b94608834990727925fb97.png" alt="在这里插入图片描述"><br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164025898.png" alt="在这里插入图片描述"></li>
</ol>
<p><strong>前端js代码对页面进行校验（validate）</strong><br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164025990.png" alt="在这里插入图片描述"></p>
<h2 id="07-新增员工-代码开发和功能测试"><a href="#07-新增员工-代码开发和功能测试" class="headerlink" title="07-新增员工_代码开发和功能测试"></a>07-新增员工_代码开发和功能测试</h2><h3 id="代码开发和功能测试"><a href="#代码开发和功能测试" class="headerlink" title="代码开发和功能测试"></a>代码开发和功能测试</h3><p><strong>在EmployeeController类中添加save方法用于将前端传来的json数据保存到数据库中</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"> <span class="meta">@PostMapping</span></span><br><span class="line">    <span class="keyword">public</span> R&lt;String&gt; <span class="title function_">save</span><span class="params">(<span class="meta">@RequestBody</span> Employee employee)</span>&#123;</span><br><span class="line">        log.info(<span class="string">&quot;新增员工的信息：&#123;&#125;&quot;</span>,employee.toString());</span><br><span class="line">        <span class="keyword">return</span> R.success(<span class="string">&quot;添加员工成功&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"><span class="number">12345</span></span><br></pre></td></tr></table></figure>

<p><strong>启动项目后，输入员工信息，点击保存</strong><br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164026062.png" alt="请添加图片描述"><br><strong>保存后，可以看到控制台上打印的数据，表示可以接收到前端传递到服务端的数据</strong><br><img src="/../../assets/e536272f4c2043e285048e01f252105d.png" alt="请添加图片描述"></p>
<p><strong>在save方法中新增业务逻辑类代码，实现将数据存入数据库操作</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">	<span class="meta">@PostMapping</span></span><br><span class="line">    <span class="keyword">public</span> R&lt;String&gt; <span class="title function_">save</span><span class="params">(HttpServletRequest request, <span class="meta">@RequestBody</span> Employee employee)</span>&#123;</span><br><span class="line">        log.info(<span class="string">&quot;新增员工的信息：&#123;&#125;&quot;</span>,employee.toString());</span><br><span class="line">        <span class="comment">//设置初始密码，需要进行md5加密</span></span><br><span class="line">        employee.setPassword(DigestUtils.md5DigestAsHex(<span class="string">&quot;123456&quot;</span>.getBytes()));</span><br><span class="line"></span><br><span class="line">        employee.setCreateTime(LocalDateTime.now());</span><br><span class="line">        employee.setUpdateTime(LocalDateTime.now());</span><br><span class="line"></span><br><span class="line">        <span class="comment">//强转为long类型</span></span><br><span class="line">        <span class="type">Long</span> <span class="variable">empID</span> <span class="operator">=</span> (Long)request.getSession().getAttribute(<span class="string">&quot;employee&quot;</span>);</span><br><span class="line"></span><br><span class="line">        employee.setCreateUser(empID);</span><br><span class="line">        employee.setUpdateUser(empID);</span><br><span class="line"></span><br><span class="line">        employeeService.save(employee);</span><br><span class="line">        <span class="keyword">return</span> R.success(<span class="string">&quot;添加员工成功&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"><span class="number">123456789101112131415161718</span></span><br></pre></td></tr></table></figure>

<p><strong>重启项目，查看employee表中的内容</strong><br><img src="/../../assets/84428afae200425a8bafc1b152e08790.png" alt="请添加图片描述"><br><strong>输入信息，点击保存</strong><br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164026847.png" alt="请添加图片描述"><br><strong>再次查看employee表中数据库内容，发现新增加了我们添加的员工信息</strong><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164026332.png" alt="请添加图片描述"><br><strong>再次添加相同的username（员工账号）</strong><br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164026708.png" alt="请添加图片描述"><br><strong>出现异常，因为在上面已经说过username（员工账号）的索引类型为unique，所以不能添加数据库中已存在的username</strong><br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164026488.png" alt="请添加图片描述"></p>
<h2 id="08-新增员工-编写全局异常处理器"><a href="#08-新增员工-编写全局异常处理器" class="headerlink" title="08-新增员工_编写全局异常处理器"></a>08-新增员工_编写全局异常处理器</h2><h3 id="全局异常处理器"><a href="#全局异常处理器" class="headerlink" title="全局异常处理器"></a>全局异常处理器</h3><p><strong>前面的程序还存在一个问题，就是当我们在新增员工时输入的账号已经存在，由于employee表中对该字段加入了唯一约束，此时程序会抛出异常:</strong><br>java.sql. SQLIntegrityConstraintViolationException: Duplicate entry ‘zhangsan’for key ‘idx_username</p>
<p><strong>此时需要我们的程序进行异常捕获，通常有两种处理方式:</strong></p>
<ol>
<li>在Controller方法中加入try、catch进行异常捕获</li>
<li>使用异常处理器进行全局异常捕获(推荐使用第二种方式)</li>
</ol>
<p><strong>在common包下，建立GlobalExceptionHandler类，并添加exceptionHandler方法用来捕获异常，并返回结果</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.itzq.reggie.common;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> lombok.extern.slf4j.Slf4j;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Controller;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.ControllerAdvice;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.ExceptionHandler;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.ResponseBody;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RestController;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.sql.SQLIntegrityConstraintViolationException;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 全局异常处理器</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@ControllerAdvice(annotations = &#123;RestController.class, Controller.class&#125;)</span></span><br><span class="line"><span class="meta">@ResponseBody</span>  <span class="comment">//java对象转为json格式的数据</span></span><br><span class="line"><span class="meta">@Slf4j</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">GlobalExceptionHandler</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@ExceptionHandler(SQLIntegrityConstraintViolationException.class)</span></span><br><span class="line">    <span class="keyword">public</span> R&lt;String&gt; <span class="title function_">exceptionHandler</span> <span class="params">(SQLIntegrityConstraintViolationException exception)</span>&#123;</span><br><span class="line">        log.error(exception.getMessage());</span><br><span class="line">        <span class="keyword">return</span> R.error(<span class="string">&quot;failed&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="number">12345678910111213141516171819202122232425</span></span><br></pre></td></tr></table></figure>

<p><strong>启动项目，输入数据库已存在的username员工信息</strong><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164026766.png" alt="请添加图片描述"><br><strong>页面上弹出方框中文字，表示方法成功执行</strong><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164027045.png" alt="请添加图片描述"></p>
<h2 id="09-新增员工-完善全局异常处理器并测试"><a href="#09-新增员工-完善全局异常处理器并测试" class="headerlink" title="09-新增员工_完善全局异常处理器并测试"></a>09-新增员工_完善全局异常处理器并测试</h2><h3 id="完善全局异常处理器并测试"><a href="#完善全局异常处理器并测试" class="headerlink" title="完善全局异常处理器并测试"></a>完善全局异常处理器并测试</h3><p><strong>完善GlobalExceptionHandler类中的exceptionHandler方法</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.itzq.reggie.common;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> lombok.extern.slf4j.Slf4j;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Controller;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.ControllerAdvice;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.ExceptionHandler;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.ResponseBody;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RestController;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.sql.SQLIntegrityConstraintViolationException;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 全局异常处理器</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@ControllerAdvice(annotations = &#123;RestController.class, Controller.class&#125;)</span></span><br><span class="line"><span class="meta">@ResponseBody</span>  <span class="comment">//java对象转为json格式的数据</span></span><br><span class="line"><span class="meta">@Slf4j</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">GlobalExceptionHandler</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@ExceptionHandler(SQLIntegrityConstraintViolationException.class)</span></span><br><span class="line">    <span class="keyword">public</span> R&lt;String&gt; <span class="title function_">exceptionHandler</span> <span class="params">(SQLIntegrityConstraintViolationException exception)</span>&#123;</span><br><span class="line">        log.error(exception.getMessage());</span><br><span class="line">        <span class="keyword">if</span> (exception.getMessage().contains(<span class="string">&quot;Duplicate entry&quot;</span>))&#123;</span><br><span class="line">            String[] split = exception.getMessage().split(<span class="string">&quot; &quot;</span>);</span><br><span class="line">            <span class="type">String</span> <span class="variable">msg</span> <span class="operator">=</span> split[<span class="number">2</span>] + <span class="string">&quot;已存在&quot;</span>;</span><br><span class="line">            <span class="keyword">return</span> R.error(msg);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> R.error(<span class="string">&quot;unknown error&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="number">12345678910111213141516171819202122232425262728293031</span></span><br></pre></td></tr></table></figure>

<p><strong>重启项目，输入数据库已存在的username员工信息</strong><br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164026826.png" alt="请添加图片描述"><br><strong>页面上弹出方框中文字，表示方法成功执行</strong><br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164027040.png" alt="请添加图片描述"></p>
<h2 id="10-新增员工-小节"><a href="#10-新增员工-小节" class="headerlink" title="10-新增员工_小节"></a>10-新增员工_小节</h2><h3 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h3><ol>
<li>根据产品原型明确业务需求</li>
<li>重点分析数据的流转过程和数据格式</li>
<li>通过debug断点调试跟踪程序执行过程</li>
</ol>
<h2 id="11-员工信息分页查询-需求分析"><a href="#11-员工信息分页查询-需求分析" class="headerlink" title="11-员工信息分页查询_需求分析"></a>11-员工信息分页查询_需求分析</h2><h3 id="需求分析-2"><a href="#需求分析-2" class="headerlink" title="需求分析"></a>需求分析</h3><p>系统中的员工很多的时候，如果在一个页面中全部展示出来会显得比较乱，不便于查看，所以一般的系统中都会以分页的方式来展示列表数据。</p>
<h2 id="12-员工信息分页查询-梳理程序执行流程"><a href="#12-员工信息分页查询-梳理程序执行流程" class="headerlink" title="12-员工信息分页查询_梳理程序执行流程"></a>12-员工信息分页查询_梳理程序执行流程</h2><h3 id="程序执行流程"><a href="#程序执行流程" class="headerlink" title="程序执行流程"></a>程序执行流程</h3><p><strong>在开发代码之前，需要梳理一下整个程序的执行过程:</strong></p>
<ol>
<li>页面发送ajax请求，将分页查询参数(page、pageSize、name)提交到服务端</li>
<li>服务端Controller接收页面提交的数据并调用Service查询数据</li>
<li>Service调用Mapper操作数据库，查询分页数据</li>
<li>Controller将查询到的分页数据响应给页面</li>
<li>页面接收到分页数据并通过ElementUI的Table组件展示到页面上</li>
</ol>
<h2 id="13-员工信息分页查询-代码开发1"><a href="#13-员工信息分页查询-代码开发1" class="headerlink" title="13-员工信息分页查询_代码开发1"></a>13-员工信息分页查询_代码开发1</h2><h3 id="配置MP分页插件"><a href="#配置MP分页插件" class="headerlink" title="配置MP分页插件"></a>配置MP分页插件</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.itzq.reggie.config;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.extension.plugins.MybatisPlusInterceptor;</span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.extension.plugins.inner.PaginationInnerInterceptor;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Bean;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Configuration;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 配置MP的分页插件</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MybatisPlusConfig</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="keyword">public</span> MybatisPlusInterceptor <span class="title function_">mybatisPlusInterceptor</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="type">MybatisPlusInterceptor</span> <span class="variable">mybatisPlusInterceptor</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">MybatisPlusInterceptor</span>();</span><br><span class="line">        mybatisPlusInterceptor.addInnerInterceptor(<span class="keyword">new</span> <span class="title class_">PaginationInnerInterceptor</span>());</span><br><span class="line">        <span class="keyword">return</span> mybatisPlusInterceptor;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="number">123456789101112131415161718192021</span></span><br></pre></td></tr></table></figure>

<h3 id="分析前端代码"><a href="#分析前端代码" class="headerlink" title="分析前端代码"></a>分析前端代码</h3><p><strong>返回值携带records和total</strong><br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_19,color_FFFFFF,t_70,g_se,x_16-20220916164027206.png" alt="在这里插入图片描述"><br><strong>点击员工管理，前端页面发送的请求</strong><br><img src="/../../assets/cfc1b1ab350542ee9c34294681d04f4f.png" alt="在这里插入图片描述"><br><strong>在搜索框中输入员工姓名，前端页面发送的请求</strong><br><img src="/../../assets/6fa50f08102e4d11b2eea1e219588b47.png" alt="在这里插入图片描述"></p>
<h3 id="相关代码"><a href="#相关代码" class="headerlink" title="相关代码"></a>相关代码</h3><p><strong>在EmployeeController类中，编写page方法</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">    <span class="meta">@GetMapping(&quot;/page&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> R&lt;Page&gt; <span class="title function_">page</span><span class="params">(<span class="type">int</span> page,<span class="type">int</span> pageSize,<span class="type">int</span> name)</span>&#123;</span><br><span class="line">        log.info(<span class="string">&quot;page = &#123;&#125;, pageSize = &#123;&#125;, name = &#123;&#125;&quot;</span>,page,pageSize,name);</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="number">123456</span></span><br></pre></td></tr></table></figure>

<p><strong>点击员工管理，控制台输出的数据</strong><br><img src="/../../assets/14872ff1b74d468eb8c4b81eb146a5d8.png" alt="在这里插入图片描述"><br><strong>在搜索框中添加数据，点击搜索，控制台输出的数据</strong><br><img src="/../../assets/c9caf06f18f6446f80b9bafb22d666b4.png" alt="在这里插入图片描述"></p>
<h2 id="14-员工信息分页查询-代码开发2"><a href="#14-员工信息分页查询-代码开发2" class="headerlink" title="14-员工信息分页查询_代码开发2"></a>14-员工信息分页查询_代码开发2</h2><h3 id="代码中添加功能"><a href="#代码中添加功能" class="headerlink" title="代码中添加功能"></a>代码中添加功能</h3><p><strong>在page方法中添加代码实现分页查询功能</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">	<span class="meta">@GetMapping(&quot;/page&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> R&lt;Page&gt; <span class="title function_">page</span><span class="params">(<span class="type">int</span> page,<span class="type">int</span> pageSize,String name)</span>&#123;</span><br><span class="line">        log.info(<span class="string">&quot;page = &#123;&#125;, pageSize = &#123;&#125;, name = &#123;&#125;&quot;</span>,page,pageSize,name);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//构造分页构造器</span></span><br><span class="line">        <span class="type">Page</span> <span class="variable">pageInfo</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Page</span>(page, pageSize);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//构造条件构造器</span></span><br><span class="line">        LambdaQueryWrapper&lt;Employee&gt; queryWrapper = <span class="keyword">new</span> <span class="title class_">LambdaQueryWrapper</span>&lt;&gt;();</span><br><span class="line"></span><br><span class="line">        <span class="comment">//添加过滤条件</span></span><br><span class="line">        queryWrapper.like(StringUtils.isNotEmpty(name),Employee::getName,name);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//添加排序添加</span></span><br><span class="line">        queryWrapper.orderByDesc(Employee::getUpdateTime);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//执行查询</span></span><br><span class="line">        employeeService.page(pageInfo,queryWrapper);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> R.success(pageInfo);</span><br><span class="line">    &#125;</span><br><span class="line"><span class="number">123456789101112131415161718192021</span></span><br></pre></td></tr></table></figure>

<h2 id="15-员工信息分页查询-功能测试"><a href="#15-员工信息分页查询-功能测试" class="headerlink" title="15-员工信息分页查询_功能测试"></a>15-员工信息分页查询_功能测试</h2><h3 id="测试-3"><a href="#测试-3" class="headerlink" title="测试"></a>测试</h3><ol>
<li>启动项目</li>
<li>登录管理界面 <a target="_blank" rel="noopener" href="http://localhost:8080/backend/page/login/login.html">http://localhost:8080/backend/page/login/login.html</a></li>
<li>将会呈现以下界面<br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164028110.png" alt="在这里插入图片描述"><br><strong>搜索框中输入：张</strong><br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164028073.png" alt="在这里插入图片描述"><br><strong>因为数据量有限，所以修改前端代码为每页两条数据，共两页</strong><br><strong>在list.html修改前端代码</strong><br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164028164.png" alt="在这里插入图片描述"><br><strong>刷新后的页面</strong><br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164028193.png" alt="在这里插入图片描述"></li>
</ol>
<h2 id="16-员工信息分页查询-补充说明"><a href="#16-员工信息分页查询-补充说明" class="headerlink" title="16-员工信息分页查询_补充说明"></a>16-员工信息分页查询_补充说明</h2><h3 id="说明"><a href="#说明" class="headerlink" title="说明"></a>说明</h3><p><strong>为什么后端传给页面的status数据为Integer类型，到页面展示效果的时候显示的是已禁用或者正常？</strong><br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164027950.png" alt="请添加图片描述"><br><strong>查看到前端list.html页面中的逻辑代码</strong><br><img src="/../../assets/25c7e8234d51465abf4fd78bc6329c5e.png" alt="请添加图片描述"><br><strong>由以上前端代码所表示的逻辑可知，当status为1时表示正常，为0时表示已禁用</strong><br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164028346.png" alt="请添加图片描述"></p>
<h2 id="17-启用、禁用员工账号-需求分析"><a href="#17-启用、禁用员工账号-需求分析" class="headerlink" title="17-启用、禁用员工账号_需求分析"></a>17-启用、禁用员工账号_需求分析</h2><h3 id="需求分析-3"><a href="#需求分析-3" class="headerlink" title="需求分析"></a>需求分析</h3><ol>
<li>在员工管理列表页面，可以对某个员工账号进行启用或者禁用操作。账号禁用的员工不能登录系统，启用后的员工可以正常登录。</li>
<li>需要注意，只有管理员（admin用户）可以对其他普通用户进行启用、禁用操作，所以普通用户登录系统后启用、禁用按钮不显示。</li>
<li>管理员admin登录系统可以对所有员工账号进行启用、禁用操作。</li>
<li>如果某个员工账号状态为正常，则按钮显示为“禁用”，如果员工账号状态为已禁用，则按钮显示为“启用”<br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164028432.png" alt="在这里插入图片描述"></li>
</ol>
<h2 id="18-启用、禁用员工账号-分析页面按钮动态显示效果"><a href="#18-启用、禁用员工账号-分析页面按钮动态显示效果" class="headerlink" title="18-启用、禁用员工账号_分析页面按钮动态显示效果"></a>18-启用、禁用员工账号_分析页面按钮动态显示效果</h2><h3 id="分析"><a href="#分析" class="headerlink" title="分析"></a>分析</h3><p><strong>页面中是怎样做到只有管理员（admin）才能看到启用，禁用按钮？</strong></p>
<ul>
<li><strong>非管理员看不见该按钮</strong><br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_14,color_FFFFFF,t_70,g_se,x_16-20220916164028426.png" alt="在这里插入图片描述"><br><strong>从userInfo中取出username，并赋值给user模型数据</strong><br><img src="/../../assets/4b5b4df2651347f2b1f411749c703508.png" alt="在这里插入图片描述"><br><strong>判断模型数据user的值是否等于admin，若等于则显示按钮</strong><br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_18,color_FFFFFF,t_70,g_se,x_16-20220916164028605.png" alt="在这里插入图片描述"></li>
</ul>
<h2 id="19-启用、禁用员工账号-分析页面ajax请求发送过程"><a href="#19-启用、禁用员工账号-分析页面ajax请求发送过程" class="headerlink" title="19-启用、禁用员工账号_分析页面ajax请求发送过程"></a>19-启用、禁用员工账号_分析页面ajax请求发送过程</h2><h3 id="分析-1"><a href="#分析-1" class="headerlink" title="分析"></a>分析</h3><p><strong>在开发代码之前，需要梳理一下整个程序的执行过程:</strong></p>
<ol>
<li>页面发送ajax请求，将参数(id、status)提交到服务端</li>
<li>服务端Controller接收页面提交的数据并调用Service更新数据</li>
<li>Service调用Mapper操作数据库</li>
</ol>
<p><strong>点击禁用或启用按钮会调用以下方法，该方法会调用enable0rDisableEmployee方法，该方法封装到一个js文件当中，来发送ajax请求</strong><br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164029834.png" alt="请添加图片描述"><br><strong>enable0rDisableEmployee方法</strong><br><img src="/../../assets/c84418e373044f5dbe6f55f8c701f9d3.png" alt="在这里插入图片描述"></p>
<h2 id="20-启用、禁用员工账号-代码开发和功能测试"><a href="#20-启用、禁用员工账号-代码开发和功能测试" class="headerlink" title="20-启用、禁用员工账号_代码开发和功能测试"></a>20-启用、禁用员工账号_代码开发和功能测试</h2><h3 id="代码开发和功能测试-1"><a href="#代码开发和功能测试-1" class="headerlink" title="代码开发和功能测试"></a>代码开发和功能测试</h3><p><strong>启用、禁用员工账号，本质上就是一个更新操作，也就是对status状态字段进行操作在Controller中创建update方法，此方法是一个通用的修改员工信息的方法</strong></p>
<p><strong>在EmployeeController类中添加update方法</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@PutMapping</span></span><br><span class="line">    <span class="keyword">public</span> R&lt;String&gt; <span class="title function_">update</span><span class="params">(<span class="meta">@RequestBody</span> Employee employee)</span>&#123;</span><br><span class="line">        log.info(employee.toString());</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="number">123456</span></span><br></pre></td></tr></table></figure>

<p><strong>启动项目，控制台上输出日志信息</strong><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164030831.png" alt="请添加图片描述"><br>测试成功</p>
<p><strong>完善update方法的代码逻辑</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">    <span class="meta">@PutMapping</span></span><br><span class="line">    <span class="keyword">public</span> R&lt;String&gt; <span class="title function_">update</span><span class="params">(HttpServletRequest request, <span class="meta">@RequestBody</span> Employee employee)</span>&#123;</span><br><span class="line">        log.info(employee.toString());</span><br><span class="line"></span><br><span class="line">        <span class="type">Long</span> <span class="variable">empID</span> <span class="operator">=</span> (Long)request.getSession().getAttribute(<span class="string">&quot;employee&quot;</span>);</span><br><span class="line">        employee.setUpdateTime(LocalDateTime.now());</span><br><span class="line">        employee.setUpdateUser(empID);</span><br><span class="line">        employeeService.updateById(employee);</span><br><span class="line">        <span class="keyword">return</span> R.success(<span class="string">&quot;员工修改信息成功&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"><span class="number">12345678910</span></span><br></pre></td></tr></table></figure>

<p><strong>重启项目，点击禁用账号为zhangsi的信息员工信息</strong><br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164028920.png" alt="请添加图片描述"><br><strong>页面提示</strong><br><img src="/../../assets/b1801906a2454704bcf9347879fde242.png" alt="请添加图片描述"><br><strong>查看数据表中的信息，发现status字段的值并没有发生改变</strong><br><img src="/../../assets/d5ed3f26eed64448a3bfe45f6b438d4e.png" alt="请添加图片描述"><br><strong>测试过程中没有报错，但是功能并没有实现，查看数据库中的数据也没有变化。观察控制台输出的SQL</strong><br><img src="/../../assets/6a6fb5d80d5c4d71971df4ebaf0e0d97.png" alt="在这里插入图片描述"><br><strong>SQL执行的结果是更新的数据行数为0，仔细观察id的值，和数据库中对应记录的id值并不相同</strong></p>
<p><strong>问题的原因</strong>：</p>
<ul>
<li>即js对long型数据进行处理时丢失精度，导致提交的id和数据库中的id不一致。<br><strong>如何解决这个问题?</strong></li>
<li>我们可以在服务端给页面响应json数据时进行处理，将long型数据统一转为String字符串</li>
</ul>
<h2 id="21-启用、禁用员工账号-代码修复配置状态转换器"><a href="#21-启用、禁用员工账号-代码修复配置状态转换器" class="headerlink" title="21-启用、禁用员工账号_代码修复配置状态转换器"></a>21-启用、禁用员工账号_代码修复配置状态转换器</h2><h3 id="配置状态转换器"><a href="#配置状态转换器" class="headerlink" title="配置状态转换器"></a>配置状态转换器</h3><p><em><strong>具体实现步骤:</strong></em></p>
<ol>
<li>提供对象转换器Jackson0bjectMapper，基于Jackson进行Java对象到json数据的转换（资料中已经提供，直接复制到项目中使用)</li>
<li>在WebMcConfig配置类中扩展Spring mvc的消息转换器，在此消息转换器中使用提供的对象转换器进行Java对象到json数据的转换</li>
</ol>
<p><strong>配置对象映射器JacksonObjectMapper ，继承ObjectMapper</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.itzq.reggie.common;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.fasterxml.jackson.databind.DeserializationFeature;</span><br><span class="line"><span class="keyword">import</span> com.fasterxml.jackson.databind.ObjectMapper;</span><br><span class="line"><span class="keyword">import</span> com.fasterxml.jackson.databind.<span class="keyword">module</span>.SimpleModule;</span><br><span class="line"><span class="keyword">import</span> com.fasterxml.jackson.databind.ser.std.ToStringSerializer;</span><br><span class="line"><span class="keyword">import</span> com.fasterxml.jackson.datatype.jsr310.deser.LocalDateDeserializer;</span><br><span class="line"><span class="keyword">import</span> com.fasterxml.jackson.datatype.jsr310.deser.LocalDateTimeDeserializer;</span><br><span class="line"><span class="keyword">import</span> com.fasterxml.jackson.datatype.jsr310.deser.LocalTimeDeserializer;</span><br><span class="line"><span class="keyword">import</span> com.fasterxml.jackson.datatype.jsr310.ser.LocalDateSerializer;</span><br><span class="line"><span class="keyword">import</span> com.fasterxml.jackson.datatype.jsr310.ser.LocalDateTimeSerializer;</span><br><span class="line"><span class="keyword">import</span> com.fasterxml.jackson.datatype.jsr310.ser.LocalTimeSerializer;</span><br><span class="line"><span class="keyword">import</span> java.math.BigInteger;</span><br><span class="line"><span class="keyword">import</span> java.time.LocalDate;</span><br><span class="line"><span class="keyword">import</span> java.time.LocalDateTime;</span><br><span class="line"><span class="keyword">import</span> java.time.LocalTime;</span><br><span class="line"><span class="keyword">import</span> java.time.format.DateTimeFormatter;</span><br><span class="line"><span class="keyword">import</span> <span class="keyword">static</span> com.fasterxml.jackson.databind.DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 对象映射器:基于jackson将Java对象转为json，或者将json转为Java对象</span></span><br><span class="line"><span class="comment"> * 将JSON解析为Java对象的过程称为 [从JSON反序列化Java对象]</span></span><br><span class="line"><span class="comment"> * 从Java对象生成JSON的过程称为 [序列化Java对象到JSON]</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">JacksonObjectMapper</span> <span class="keyword">extends</span> <span class="title class_">ObjectMapper</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">String</span> <span class="variable">DEFAULT_DATE_FORMAT</span> <span class="operator">=</span> <span class="string">&quot;yyyy-MM-dd&quot;</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">String</span> <span class="variable">DEFAULT_DATE_TIME_FORMAT</span> <span class="operator">=</span> <span class="string">&quot;yyyy-MM-dd HH:mm:ss&quot;</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">String</span> <span class="variable">DEFAULT_TIME_FORMAT</span> <span class="operator">=</span> <span class="string">&quot;HH:mm:ss&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">JacksonObjectMapper</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="built_in">super</span>();</span><br><span class="line">        <span class="comment">//收到未知属性时不报异常</span></span><br><span class="line">        <span class="built_in">this</span>.configure(FAIL_ON_UNKNOWN_PROPERTIES, <span class="literal">false</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//反序列化时，属性不存在的兼容处理</span></span><br><span class="line">        <span class="built_in">this</span>.getDeserializationConfig().withoutFeatures(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="type">SimpleModule</span> <span class="variable">simpleModule</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">SimpleModule</span>()</span><br><span class="line">                .addDeserializer(LocalDateTime.class, <span class="keyword">new</span> <span class="title class_">LocalDateTimeDeserializer</span>(DateTimeFormatter.ofPattern(DEFAULT_DATE_TIME_FORMAT)))</span><br><span class="line">                .addDeserializer(LocalDate.class, <span class="keyword">new</span> <span class="title class_">LocalDateDeserializer</span>(DateTimeFormatter.ofPattern(DEFAULT_DATE_FORMAT)))</span><br><span class="line">                .addDeserializer(LocalTime.class, <span class="keyword">new</span> <span class="title class_">LocalTimeDeserializer</span>(DateTimeFormatter.ofPattern(DEFAULT_TIME_FORMAT)))</span><br><span class="line"></span><br><span class="line">                .addSerializer(BigInteger.class, ToStringSerializer.instance)</span><br><span class="line">                .addSerializer(Long.class, ToStringSerializer.instance)</span><br><span class="line">                .addSerializer(LocalDateTime.class, <span class="keyword">new</span> <span class="title class_">LocalDateTimeSerializer</span>(DateTimeFormatter.ofPattern(DEFAULT_DATE_TIME_FORMAT)))</span><br><span class="line">                .addSerializer(LocalDate.class, <span class="keyword">new</span> <span class="title class_">LocalDateSerializer</span>(DateTimeFormatter.ofPattern(DEFAULT_DATE_FORMAT)))</span><br><span class="line">                .addSerializer(LocalTime.class, <span class="keyword">new</span> <span class="title class_">LocalTimeSerializer</span>(DateTimeFormatter.ofPattern(DEFAULT_TIME_FORMAT)));</span><br><span class="line"></span><br><span class="line">        <span class="comment">//注册功能模块 例如，可以添加自定义序列化器和反序列化器</span></span><br><span class="line">        <span class="built_in">this</span>.registerModule(simpleModule);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="number">12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455</span></span><br></pre></td></tr></table></figure>

<p><strong>扩展mvc框架的消息转换器</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 扩展mvc框架的消息转换器</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> converters</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">extendMessageConverters</span><span class="params">(List&lt;HttpMessageConverter&lt;?&gt;&gt; converters)</span> &#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//创建消息转换器对象</span></span><br><span class="line">        <span class="type">MappingJackson2HttpMessageConverter</span> <span class="variable">messageConverter</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">MappingJackson2HttpMessageConverter</span>();</span><br><span class="line">        <span class="comment">//设置对象转化器，底层使用jackson将java对象转为json</span></span><br><span class="line">        messageConverter.setObjectMapper(<span class="keyword">new</span> <span class="title class_">JacksonObjectMapper</span>());</span><br><span class="line">        <span class="comment">//将上面的消息转换器对象追加到mvc框架的转换器集合当中(index设置为0，表示设置在第一个位置，避免被其它转换器接收，从而达不到想要的功能)</span></span><br><span class="line">        converters.add(<span class="number">0</span>,messageConverter);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"><span class="number">123456789101112131415</span></span><br></pre></td></tr></table></figure>

<h2 id="22-启用、禁用员工账号-再次测试"><a href="#22-启用、禁用员工账号-再次测试" class="headerlink" title="22-启用、禁用员工账号_再次测试"></a>22-启用、禁用员工账号_再次测试</h2><h3 id="测试-4"><a href="#测试-4" class="headerlink" title="测试"></a>测试</h3><p><strong>启动项目，点击禁用张四</strong><br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164029299.png" alt="在这里插入图片描述"><br><strong>数据库中的status字段数据发生了改变，即成功</strong><br><img src="/../../assets/53c29acf785d4293beba461c8ced01f6.png" alt="请添加图片描述"></p>
<h2 id="23-编辑员工信息-需求分析和梳理程序执行流程"><a href="#23-编辑员工信息-需求分析和梳理程序执行流程" class="headerlink" title="23-编辑员工信息_需求分析和梳理程序执行流程"></a>23-编辑员工信息_需求分析和梳理程序执行流程</h2><h3 id="需求分析-4"><a href="#需求分析-4" class="headerlink" title="需求分析"></a>需求分析</h3><p><strong>在员工管理列表页面点击编辑按钮，跳转到编辑页面，在编辑页面回显员工信息并进行修改，最后点击保存按钮完成编辑操作</strong><br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164029742.png" alt="在这里插入图片描述"></p>
<h3 id="流程"><a href="#流程" class="headerlink" title="流程"></a>流程</h3><p><strong>在开发代码之前需要梳理一下操作过程和对应的程序的执行流程:</strong></p>
<ol>
<li>点击编辑按钮时，页面跳转到add.html，并在url中携带参数[员工id]</li>
<li>在add.html页面获取url中的参数[员工id]</li>
<li>发送ajax请求，请求服务端，同时提交员工id参数</li>
<li>服务端接收请求，根据员工id查询员工信息，将员工信息以json形式响应给页面</li>
<li>页面接收服务端响应的json数据，通过VUE的数据绑定进行员工信息回显</li>
<li>点击保存按钮，发送ajax请求，将页面中的员工信息以json方式提交给服务端</li>
<li>服务端接收员工信息，并进行处理，完成后给页面响应</li>
<li>页面接收到服务端响应信息后进行相应处理</li>
</ol>
<h2 id="24-编辑员工信息-页面效果分析和代码开发"><a href="#24-编辑员工信息-页面效果分析和代码开发" class="headerlink" title="24-编辑员工信息_页面效果分析和代码开发"></a>24-编辑员工信息_页面效果分析和代码开发</h2><h3 id="页面分析"><a href="#页面分析" class="headerlink" title="页面分析"></a>页面分析</h3><p><strong>调用requestUrlParam方法获取id的值</strong><br><img src="/../../assets/63ec2d99b7244b148f6fadd1e94ef786.png" alt="在这里插入图片描述"><br><strong>requestUrlParam方法的具体实现</strong><br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_18,color_FFFFFF,t_70,g_se,x_16-20220916164029798.png" alt="在这里插入图片描述"><br><strong>取出浏览器中id值，前端调用queryEmployeeById方法，向服务器发送ajax请求，查询包含该id的所有信息，若code为1，则表示在数据库中查询到该id所包含的员工信息，反之则为null</strong><br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164030479.png" alt="在这里插入图片描述"></p>
<h3 id="代码开发-1"><a href="#代码开发-1" class="headerlink" title="代码开发"></a>代码开发</h3><p><strong>在EmployeeController类中添加方法getById</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">    <span class="meta">@GetMapping(&quot;/&#123;id&#125;&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> R&lt;Employee&gt; <span class="title function_">getById</span><span class="params">(<span class="meta">@PathVariable</span> Long id)</span>&#123;</span><br><span class="line"></span><br><span class="line">        log.info(<span class="string">&quot;根据id查询员工信息。。。&quot;</span>);</span><br><span class="line">        <span class="type">Employee</span> <span class="variable">employee</span> <span class="operator">=</span> employeeService.getById(id);</span><br><span class="line">        <span class="keyword">if</span> (employee != <span class="literal">null</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> R.success(employee);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> R.error(<span class="string">&quot;没有查询到该员工信息&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"><span class="number">12345678910</span></span><br></pre></td></tr></table></figure>

<h2 id="25-编辑员工信息-功能测试"><a href="#25-编辑员工信息-功能测试" class="headerlink" title="25-编辑员工信息_功能测试"></a>25-编辑员工信息_功能测试</h2><h3 id="测试-5"><a href="#测试-5" class="headerlink" title="测试"></a>测试</h3><p><strong>启动项目，点击任意一个员工的编辑按钮，按住f12，观察浏览器发送的请求</strong><br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164030252.png" alt="在这里插入图片描述"><br><strong>页面数据回显成功</strong><br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164030547.png" alt="在这里插入图片描述"><br><strong>对性别（radio）的简单处理</strong><br>因为在页面上的显示效果为男、女，而服务端传递过来的数据为1、0所以我们要将数据进行简单的处理<br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164030522.png" alt="在这里插入图片描述"></p>
<h1 id="业务开发Day3"><a href="#业务开发Day3" class="headerlink" title="业务开发Day3"></a>业务开发Day3</h1><h2 id="01-本章内容介绍-2"><a href="#01-本章内容介绍-2" class="headerlink" title="01-本章内容介绍"></a>01-本章内容介绍</h2><h3 id="内容"><a href="#内容" class="headerlink" title="内容"></a>内容</h3><ol>
<li>公共字段自动填充</li>
<li>新增分类</li>
<li>分类信息分页查询</li>
<li>删除分类</li>
<li>修改分类</li>
</ol>
<h2 id="02-公共字段自动填充-内容分析"><a href="#02-公共字段自动填充-内容分析" class="headerlink" title="02-公共字段自动填充-内容分析"></a>02-公共字段自动填充-内容分析</h2><h3 id="问题分析-1"><a href="#问题分析-1" class="headerlink" title="问题分析"></a>问题分析</h3><p><strong>前面我们已经完成了后台系统的员工管理功能开发，在新增员工时需要设置创建时间、创建人、修改时间、修改人等字段，在编辑员工时需要设置修改时间和修改人等字段。这些字段属于公共字段，也就是很多表中都有这些字段，如下:</strong><br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164058828.png" alt="请添加图片描述"></p>
<p><strong>表中公共字段</strong><br><img src="/../../assets/704d5ce88dad4dc6a70ff1fce0c2cb37.png" alt="在这里插入图片描述"></p>
<p><em><strong>能不能对于这些公共字段在某个地方统一处理，来简化开发呢?</strong></em></p>
<figure class="highlight asciidoc"><table><tr><td class="code"><pre><span class="line">答案就是使用<span class="strong">**Mybatis Plus**</span>提供的公共字段自动填充功能。</span><br><span class="line">1</span><br></pre></td></tr></table></figure>

<h2 id="03-公共字段自动填充-代码实现并测试"><a href="#03-公共字段自动填充-代码实现并测试" class="headerlink" title="03-公共字段自动填充-代码实现并测试"></a>03-公共字段自动填充-代码实现并测试</h2><h3 id="代码实现-1"><a href="#代码实现-1" class="headerlink" title="代码实现"></a>代码实现</h3><p><strong>Mybatis Plus公共字段自动填充，也就是在插入或者更新的时候为指定字段赋予指定的值，使用它的好处就是可以统一对这些字段进行处理，避免了重复代码。</strong></p>
<p><strong>实现步骤:</strong></p>
<ol>
<li>在实体类的属性上加入@TableField注解，指定自动填充的策略</li>
<li>按照框架要求编写元数据对象处理器，在此类中统一为公共字段赋值，此类需要实现MetaObjectHandler接口</li>
</ol>
<p><strong>在公共属性上添加@TableField注解</strong></p>
<ol>
<li>@TableField(fill &#x3D; FieldFill.INSERT)，表示插入时填充字段</li>
<li>@TableField(fill &#x3D; FieldFill.INSERT_UPDATE)，表示插入和更新时填充字段<br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164057974.png" alt="在这里插入图片描述"></li>
</ol>
<p><strong>在common包下，自定义元数据对象处理器（测试版）</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.itzq.reggie.common;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.core.handlers.MetaObjectHandler;</span><br><span class="line"><span class="keyword">import</span> lombok.extern.slf4j.Slf4j;</span><br><span class="line"><span class="keyword">import</span> org.apache.ibatis.reflection.MetaObject;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Component;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="meta">@Slf4j</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MyMetaObjectHandler</span> <span class="keyword">implements</span> <span class="title class_">MetaObjectHandler</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">insertFill</span><span class="params">(MetaObject metaObject)</span> &#123;</span><br><span class="line">        log.info(<span class="string">&quot;公共字段自动填充【insert】&quot;</span>);</span><br><span class="line">        log.info(metaObject.toString());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">updateFill</span><span class="params">(MetaObject metaObject)</span> &#123;</span><br><span class="line">        log.info(<span class="string">&quot;公共字段自动填充【update】&quot;</span>);</span><br><span class="line">        log.info(metaObject.toString());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="number">1234567891011121314151617181920212223</span></span><br></pre></td></tr></table></figure>

<p><strong>在该行添加断点，debug方式启动项目</strong><br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164058372.png" alt="在这里插入图片描述"></p>
<p><strong>来到修改员工界面，不需要修改数据，点击保存</strong><br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164058051.png" alt="在这里插入图片描述"></p>
<p><strong>发现前端传到服务端的数据，updateUser与updateTime数据在controller中的对应方法中被修改</strong><br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164058430.png" alt="在这里插入图片描述"></p>
<p><strong>注释掉save方法的部分代码</strong><br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164059346.png" alt="在这里插入图片描述"></p>
<p><strong>修改MyMetaObjectHandler类中部分代码</strong></p>
<ul>
<li>先将createUser，updateUser属性的初始值设置为1，后面会讲解如何获取当前user</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.itzq.reggie.common;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.core.handlers.MetaObjectHandler;</span><br><span class="line"><span class="keyword">import</span> lombok.extern.slf4j.Slf4j;</span><br><span class="line"><span class="keyword">import</span> org.apache.ibatis.reflection.MetaObject;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Component;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.time.LocalDateTime;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="meta">@Slf4j</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MyMetaObjectHandler</span> <span class="keyword">implements</span> <span class="title class_">MetaObjectHandler</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">insertFill</span><span class="params">(MetaObject metaObject)</span> &#123;</span><br><span class="line">        log.info(<span class="string">&quot;公共字段自动填充【insert】&quot;</span>);</span><br><span class="line">        log.info(metaObject.toString());</span><br><span class="line">        metaObject.setValue(<span class="string">&quot;createTime&quot;</span>, LocalDateTime.now());</span><br><span class="line">        metaObject.setValue(<span class="string">&quot;updateTime&quot;</span>, LocalDateTime.now());</span><br><span class="line">        metaObject.setValue(<span class="string">&quot;createUser&quot;</span>, <span class="keyword">new</span> <span class="title class_">Long</span>(<span class="number">1</span>));</span><br><span class="line">        metaObject.setValue(<span class="string">&quot;updateUser&quot;</span>, <span class="keyword">new</span> <span class="title class_">Long</span>(<span class="number">1</span>));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">updateFill</span><span class="params">(MetaObject metaObject)</span> &#123;</span><br><span class="line">        log.info(<span class="string">&quot;公共字段自动填充【update】&quot;</span>);</span><br><span class="line">        log.info(metaObject.toString());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="number">123456789101112131415161718192021222324252627282930</span></span><br></pre></td></tr></table></figure>

<p><strong>在insertFill方法上添加断点</strong><br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164059832.png" alt="在这里插入图片描述"></p>
<p><strong>debug方式重启项目</strong></p>
<p>来到添加员工页面，输入数据，点击保存<br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164058436.png" alt="在这里插入图片描述"></p>
<p><strong>断点走到insertFill方法末尾时，将初始为null的四个公共属性赋值成功</strong><br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_18,color_FFFFFF,t_70,g_se,x_16-20220916164059765.png" alt="在这里插入图片描述"></p>
<p><strong>修改员工信息时也需要填充</strong></p>
<p><strong>对应代码</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">	<span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">updateFill</span><span class="params">(MetaObject metaObject)</span> &#123;</span><br><span class="line">        log.info(<span class="string">&quot;公共字段自动填充【update】&quot;</span>);</span><br><span class="line">        log.info(metaObject.toString());</span><br><span class="line">        metaObject.setValue(<span class="string">&quot;updateTime&quot;</span>, LocalDateTime.now());</span><br><span class="line">        metaObject.setValue(<span class="string">&quot;updateUser&quot;</span>, <span class="keyword">new</span> <span class="title class_">Long</span>(<span class="number">1</span>));</span><br><span class="line">    &#125;</span><br><span class="line"><span class="number">1234567</span></span><br></pre></td></tr></table></figure>

<p><strong>注释掉处理公共属性的代码</strong><br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164059273.png" alt="在这里插入图片描述"></p>
<p><strong>在该行添加断点，并以debug方式重启项目</strong><br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164059834.png" alt="在这里插入图片描述"><br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164100166.png" alt="在这里插入图片描述"></p>
<p><strong>断点在updateFill方法执行之前</strong><br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_18,color_FFFFFF,t_70,g_se,x_16-20220916164059701.png" alt="在这里插入图片描述"></p>
<p><strong>断点在updateFill方法执行之后，发现数据被修改，表示成功</strong><br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_18,color_FFFFFF,t_70,g_se,x_16-20220916164100153.png" alt="在这里插入图片描述"></p>
<h2 id="04-公共字段自动填充-功能完善"><a href="#04-公共字段自动填充-功能完善" class="headerlink" title="04-公共字段自动填充-功能完善"></a>04-公共字段自动填充-功能完善</h2><h3 id="功能完善"><a href="#功能完善" class="headerlink" title="功能完善"></a>功能完善</h3><p><strong>在学习ThreadLocal之前，我们需要先确认一个事情，就是客户端发送的每次http请求，对应的在服务端都会分配一个新的线程来处理，在处理过程中涉及到下面类中的方法都属于相同的一个线程:</strong></p>
<ol>
<li>LoginCheckFilter的doFilter方法</li>
<li>EmployeeController的update方法</li>
<li>MyMetaObjectHandler的updateFill方法</li>
</ol>
<p><strong>可以在上面的三个方法中分别加入下面代码（获取当前线程id) :</strong><br>\4. long id &#x3D; Thread.currentThread().getId();<br>\5. log.info(“MyMetaObjectHandler线程id为：{}”,id);</p>
<p><strong>LoginCheckFilter的doFilter方法</strong><br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164100840.png" alt="请添加图片描述"></p>
<p><strong>EmployeeController的update方法</strong><br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164100405.png" alt="在这里插入图片描述"></p>
<p><strong>MyMetaObjectHandler的updateFill方法</strong><br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164100727.png" alt="在这里插入图片描述"></p>
<p><strong>启动项目，在修改员工的页面中，点击保存</strong><br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164100672.png" alt="在这里插入图片描述"></p>
<p><strong>控制台上显示三条日志信息，表明类中的方法都属于相同的一个线程</strong><br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_16,color_FFFFFF,t_70,g_se,x_16.png" alt="在这里插入图片描述"></p>
<p><strong>什么是ThreadLocal?</strong></p>
<ul>
<li>ThreadLocal并不是一个Thread，而是Thread的局部变量</li>
<li>当使用ThreadLocal维护变量时，ThreadLocal为每个使用该变量的线程提供独立的变量副本</li>
<li>所以每一个线程都可以独立地改变自己的副本，而不会影响其它线程所对应的副本</li>
<li>ThreadLocal为每个线程提供单独一份存储空间，具有线程隔离的效果，只有在线程内才能获取到对应的值，线程外则不能访问。</li>
</ul>
<p><strong>ThreadLocal常用方法:</strong></p>
<ol>
<li><strong>public void set(T value)</strong> 设置当前线程的线程局部变量的值</li>
<li><strong>public T get()</strong> 返回当前线程所对应的线程局部变量的值</li>
</ol>
<p><strong>流程</strong></p>
<p>我们可以在LoginCheckFilter的doFilter方法中获取当前登录用户id，并调用ThreadLocal的set方法来设置当前线程的线程局部变量的值（用户id)，然后在MyMetaObjectHandler的updateFill方法中调用ThreadLocal的get方法来获得当前线程所对应的线程局部变量的值（用户id)。</p>
<p><strong>代码实现</strong></p>
<p><strong>在common包下添加BaseContext类</strong><br>作用：基于ThreadLocal封装工具类，用于保护和获取当前用户id</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.itzq.reggie.common;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">BaseContext</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> ThreadLocal&lt;Long&gt; threadLocal = <span class="keyword">new</span> <span class="title class_">ThreadLocal</span>&lt;&gt;();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">setCurrentId</span><span class="params">(Long id)</span>&#123;</span><br><span class="line">        threadLocal.set(id);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> Long <span class="title function_">getCurrentId</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> threadLocal.get();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="number">123456789101112131415</span></span><br></pre></td></tr></table></figure>

<p>在LoginCheckFilter类中添加代码<br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164101477.png" alt="在这里插入图片描述"></p>
<p>在MyMetaObjectHandler类中，修改部分代码<br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164101257.png" alt="在这里插入图片描述"></p>
<p><strong>重启项目，登录一个新的员工用户</strong></p>
<p><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_18,color_FFFFFF,t_70,g_se,x_16-20220916164100840.png" alt="在这里插入图片描述"></p>
<p><strong>来到新增员工界面，输入相应的信息，点击保存</strong><br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164101888.png" alt="在这里插入图片描述"></p>
<p><strong>发现以下字段添加成功，同理根据代码逻辑推断，更新用户操作会更新表中的updateTime，updateUser字段</strong><br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164102245.png" alt="在这里插入图片描述"></p>
<h2 id="05-新增分类-需求分析-amp-数据模型-amp-代码开发-amp-功能测试"><a href="#05-新增分类-需求分析-amp-数据模型-amp-代码开发-amp-功能测试" class="headerlink" title="05-新增分类-需求分析&amp;数据模型&amp;代码开发&amp;功能测试"></a>05-新增分类-需求分析&amp;数据模型&amp;代码开发&amp;功能测试</h2><h3 id="需求分析-5"><a href="#需求分析-5" class="headerlink" title="需求分析"></a>需求分析</h3><ul>
<li>后台系统中可以管理分类信息，分类包括两种类型，分别是菜品分类和套餐分类</li>
<li>当我们在后台系统中添加菜品时需要选择一个菜品分类</li>
<li>当我们在后台系统中添加一个套餐时需要选择一个套餐分类</li>
<li>在移动端也会按照菜品分类和套餐分类来展示对应的菜品和套餐</li>
</ul>
<p><strong>可以在后台系统的分类管理页面分别添加菜品分类和套餐分类，如下：</strong></p>
<p>新增菜品分类<br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164102233.png" alt="在这里插入图片描述"></p>
<p>新增套餐分类<br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164103241.png" alt="在这里插入图片描述"></p>
<h3 id="数据模型"><a href="#数据模型" class="headerlink" title="数据模型"></a>数据模型</h3><p><strong>新增分类，其实就是将我们新增窗口录入的分类数据插入到category表，表结构如下:</strong><br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164102380.png" alt="在这里插入图片描述"></p>
<h3 id="代码分析"><a href="#代码分析" class="headerlink" title="代码分析"></a>代码分析</h3><p><strong>在开发业务功能前，先将需要用到的类和接口基本结构创建好:</strong></p>
<ol>
<li>实体类Category(直接从课程资料中导入即可)</li>
<li>Mapper接口CategoryMapper</li>
<li>业务层接口CategoryService</li>
<li>业务层实现类CategoryServicelmpl</li>
<li>控制层CategoryController<br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164102180.png" alt="在这里插入图片描述"></li>
</ol>
<p><strong>实体类Category</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.itzq.reggie.entity;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.annotation.FieldFill;</span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.annotation.IdType;</span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.annotation.TableField;</span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.annotation.TableId;</span><br><span class="line"><span class="keyword">import</span> lombok.Data;</span><br><span class="line"><span class="keyword">import</span> lombok.Getter;</span><br><span class="line"><span class="keyword">import</span> lombok.Setter;</span><br><span class="line"><span class="keyword">import</span> java.io.Serializable;</span><br><span class="line"><span class="keyword">import</span> java.time.LocalDateTime;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 分类</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Category</span> <span class="keyword">implements</span> <span class="title class_">Serializable</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">long</span> <span class="variable">serialVersionUID</span> <span class="operator">=</span> <span class="number">1L</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> Long id;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//类型 1 菜品分类 2 套餐分类</span></span><br><span class="line">    <span class="keyword">private</span> Integer type;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//分类名称</span></span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//顺序</span></span><br><span class="line">    <span class="keyword">private</span> Integer sort;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//创建时间</span></span><br><span class="line">    <span class="meta">@TableField(fill = FieldFill.INSERT)</span></span><br><span class="line">    <span class="keyword">private</span> LocalDateTime createTime;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//更新时间</span></span><br><span class="line">    <span class="meta">@TableField(fill = FieldFill.INSERT_UPDATE)</span></span><br><span class="line">    <span class="keyword">private</span> LocalDateTime updateTime;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//创建人</span></span><br><span class="line">    <span class="meta">@TableField(fill = FieldFill.INSERT)</span></span><br><span class="line">    <span class="keyword">private</span> Long createUser;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//修改人</span></span><br><span class="line">    <span class="meta">@TableField(fill = FieldFill.INSERT_UPDATE)</span></span><br><span class="line">    <span class="keyword">private</span> Long updateUser;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="number">123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657</span></span><br></pre></td></tr></table></figure>

<p><strong>Mapper接口CategoryMapper</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.itzq.reggie.mapper;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.core.mapper.BaseMapper;</span><br><span class="line"><span class="keyword">import</span> com.itzq.reggie.entity.Category;</span><br><span class="line"><span class="keyword">import</span> org.apache.ibatis.annotations.Mapper;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Mapper</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">CategoryMapper</span> <span class="keyword">extends</span> <span class="title class_">BaseMapper</span>&lt;Category&gt; &#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="number">12345678910</span></span><br></pre></td></tr></table></figure>

<p><strong>业务层接口CategoryService</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.itzq.reggie.service;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.extension.service.IService;</span><br><span class="line"><span class="keyword">import</span> com.itzq.reggie.entity.Category;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">CategoryService</span> <span class="keyword">extends</span> <span class="title class_">IService</span>&lt;Category&gt; &#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="number">12345678</span></span><br></pre></td></tr></table></figure>

<p><strong>业务层实现类CategoryServicelmpl</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.itzq.reggie.service.Impl;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.extension.service.impl.ServiceImpl;</span><br><span class="line"><span class="keyword">import</span> com.itzq.reggie.entity.Category;</span><br><span class="line"><span class="keyword">import</span> com.itzq.reggie.mapper.CategoryMapper;</span><br><span class="line"><span class="keyword">import</span> com.itzq.reggie.service.CategoryService;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Service;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">CategoryServiceImpl</span> <span class="keyword">extends</span> <span class="title class_">ServiceImpl</span>&lt;CategoryMapper, Category&gt; <span class="keyword">implements</span> <span class="title class_">CategoryService</span> &#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="number">123456789101112</span></span><br></pre></td></tr></table></figure>

<p><strong>控制层CategoryController</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.itzq.reggie.controller;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.itzq.reggie.common.R;</span><br><span class="line"><span class="keyword">import</span> com.itzq.reggie.entity.Category;</span><br><span class="line"><span class="keyword">import</span> com.itzq.reggie.service.CategoryService;</span><br><span class="line"><span class="keyword">import</span> lombok.extern.slf4j.Slf4j;</span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Autowired;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.PostMapping;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RequestBody;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RequestMapping;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RestController;</span><br><span class="line"></span><br><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="meta">@RequestMapping(&quot;/category&quot;)</span></span><br><span class="line"><span class="meta">@Slf4j</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">CategoryController</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> CategoryService categoryService;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="number">12345678910111213141516171819202122</span></span><br></pre></td></tr></table></figure>

<p><strong>在开发代码之前，需要梳理一下整个程序的执行过程:</strong></p>
<ol>
<li>页面(backend&#x2F;page&#x2F;category&#x2F;list.html)发送ajax请求，将新增分类窗口输入的数据以json形式提交到服务端</li>
<li>服务端Controller接收页面提交的数据并调用Service将数据进行保存</li>
<li>Service调用Mapper操作数据库，保存数据</li>
</ol>
<p><strong>可以看到新增菜品分类和新增套餐分类请求的服务端地址和提交的json数据结构相同，所以服务端只需要提供一个方法统一处理即可:</strong></p>
<p>新增菜品分类<br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_18,color_FFFFFF,t_70,g_se,x_16-20220916164101919.png" alt="在这里插入图片描述"></p>
<p>新增套餐分类<br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_17,color_FFFFFF,t_70,g_se,x_16.png" alt="在这里插入图片描述"></p>
<p><strong>在控制层CategoryController中添加逻辑代码</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.itzq.reggie.controller;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.itzq.reggie.common.R;</span><br><span class="line"><span class="keyword">import</span> com.itzq.reggie.entity.Category;</span><br><span class="line"><span class="keyword">import</span> com.itzq.reggie.service.CategoryService;</span><br><span class="line"><span class="keyword">import</span> lombok.extern.slf4j.Slf4j;</span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Autowired;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.PostMapping;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RequestBody;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RequestMapping;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RestController;</span><br><span class="line"></span><br><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="meta">@RequestMapping(&quot;/category&quot;)</span></span><br><span class="line"><span class="meta">@Slf4j</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">CategoryController</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> CategoryService categoryService;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 新增分类</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> category</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@PostMapping</span></span><br><span class="line">    <span class="keyword">public</span> R&lt;String&gt; <span class="title function_">save</span><span class="params">(<span class="meta">@RequestBody</span> Category category)</span>&#123;</span><br><span class="line">        log.info(<span class="string">&quot;category:&#123;&#125;&quot;</span>,category);</span><br><span class="line">        categoryService.save(category);</span><br><span class="line">        <span class="keyword">return</span> R.success(<span class="string">&quot;新增分类成功&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="number">123456789101112131415161718192021222324252627282930313233</span></span><br></pre></td></tr></table></figure>

<h3 id="功能测试-1"><a href="#功能测试-1" class="headerlink" title="功能测试"></a>功能测试</h3><p><strong>测试前需注意，category表中的name字段索引类型为unique</strong><br><img src="/../../assets/9968500a9fe4438ea15437d01d58509b.png" alt="在这里插入图片描述"></p>
<p><strong>初始阶段数据库表</strong><br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164102955.png" alt="在这里插入图片描述"></p>
<p><strong>启动项目，在新增菜品分类页面输入数据，点击保存，若提交相同分类名称（name字段），则会经过我们之前写的全局异常处理器类，报相关的错误</strong><br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164102511.png" alt="在这里插入图片描述"></p>
<p><strong>将页面提交的数据保存到了数据库</strong><br><img src="/../../assets/1d90289c439f4fb2ba6ccb7cc7a18db2.png" alt="在这里插入图片描述"></p>
<h2 id="06-分类信息分页查询-需求分析-amp-代码开发-amp-功能测试"><a href="#06-分类信息分页查询-需求分析-amp-代码开发-amp-功能测试" class="headerlink" title="06-分类信息分页查询-需求分析&amp;代码开发&amp;功能测试"></a>06-分类信息分页查询-需求分析&amp;代码开发&amp;功能测试</h2><h3 id="需求分析-6"><a href="#需求分析-6" class="headerlink" title="需求分析"></a>需求分析</h3><p>系统中的分类很多的时候，如果在一个页面中全部展示出来会显得比较乱，不便于查看，所以一般的系统中都会以分页的方式来展示列表数据。</p>
<h3 id="代码开发-2"><a href="#代码开发-2" class="headerlink" title="代码开发"></a>代码开发</h3><p><strong>在开发代码之前，需要梳理一下整个程序的执行过程:</strong></p>
<ol>
<li>页面发送ajax请求，将分页查询参数(page、pageSize)提交到服务端</li>
<li>服务端Controller接收页面提交的数据并调用Service查询数据</li>
<li>Service调用Mapper操作数据库，查询分页数据</li>
<li>Controler将查询到的分页数据响应给页面</li>
<li>页面接收到分页数据并通过ElementUI的Table组件展示到页面上</li>
</ol>
<p><strong>在CategoryController类上添加page方法</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 分页查询</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> page</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> pageSize</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@GetMapping(&quot;/page&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> R&lt;Page&gt; <span class="title function_">page</span><span class="params">(<span class="type">int</span> page, <span class="type">int</span> pageSize)</span>&#123;</span><br><span class="line">        <span class="comment">//分页构造器</span></span><br><span class="line">        Page&lt;Category&gt; pageInfo = <span class="keyword">new</span> <span class="title class_">Page</span>&lt;&gt;(page,pageSize);</span><br><span class="line">        <span class="comment">//条件构造器</span></span><br><span class="line">        LambdaQueryWrapper&lt;Category&gt; queryWrapper = <span class="keyword">new</span> <span class="title class_">LambdaQueryWrapper</span>&lt;&gt;();</span><br><span class="line">        <span class="comment">//添加排序条件</span></span><br><span class="line">        queryWrapper.orderByAsc(Category::getSort);</span><br><span class="line">        <span class="comment">//分页查询</span></span><br><span class="line">        categoryService.page(pageInfo,queryWrapper);</span><br><span class="line">        <span class="keyword">return</span> R.success(pageInfo);</span><br><span class="line">    &#125;</span><br><span class="line"><span class="number">123456789101112131415161718</span></span><br></pre></td></tr></table></figure>

<h3 id="功能测试-2"><a href="#功能测试-2" class="headerlink" title="功能测试"></a>功能测试</h3><p>点击分类管理，客户端发送请求给服务端，服务端接收数据，进行分页处理后，返回数据给页面，页面通过相应组件处理<br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164103379.png" alt="在这里插入图片描述"></p>
<p><strong>页面返回的数据type数据为int类型，为什么页面展示出来的是文字？</strong></p>
<p>因为返回的数据在前端做了相应的判断处理，再回显到页面<br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164103447.png" alt="在这里插入图片描述"></p>
<h2 id="07-删除分类-需求分析-amp-代码开发-amp-功能测试"><a href="#07-删除分类-需求分析-amp-代码开发-amp-功能测试" class="headerlink" title="07-删除分类-需求分析&amp;代码开发&amp;功能测试"></a>07-删除分类-需求分析&amp;代码开发&amp;功能测试</h2><h3 id="需求分析-7"><a href="#需求分析-7" class="headerlink" title="需求分析"></a>需求分析</h3><ul>
<li>在分类管理列表页面，可以对某个分类进行删除操作</li>
<li>需要注意的是当分类关联了菜品或者套餐时,此分类不允许删除</li>
</ul>
<h3 id="代码开发-3"><a href="#代码开发-3" class="headerlink" title="代码开发"></a>代码开发</h3><p><strong>在开发代码之前，需要梳理一下整个程序的执行过程:</strong><br>1、页面发送ajax请求，将参数(id)提交到服务端<br>2、服务端Controller接收页面提交的数据并调用Service删除数据<br>3、Service调用Mapper操作数据库</p>
<p><strong>在CategoryController类上添加delete方法</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 删除分类信息</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> id</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@DeleteMapping</span></span><br><span class="line">    <span class="keyword">public</span> R&lt;String&gt; <span class="title function_">delete</span><span class="params">(Long id)</span>&#123;</span><br><span class="line">        log.info(<span class="string">&quot;将要删除的分类id:&#123;&#125;&quot;</span>,id);</span><br><span class="line"></span><br><span class="line">        categoryService.removeById(id);</span><br><span class="line">        <span class="keyword">return</span> R.success(<span class="string">&quot;分类信息删除成功&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"><span class="number">123456789101112</span></span><br></pre></td></tr></table></figure>

<p><strong>需要注意教程文档中给出的url的id参数为ids，需要在category.js中将参数改为id，以便于与后端接收数据做好相应的映射处理，若还是不能正常访问，清除浏览器缓存</strong><br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_16,color_FFFFFF,t_70,g_se,x_16-20220916164103033.png" alt="在这里插入图片描述"></p>
<h3 id="功能测试-3"><a href="#功能测试-3" class="headerlink" title="功能测试"></a>功能测试</h3><p><strong>启动项目，点击删除按钮，弹出一个对话框，并点击确认，页面会重新发送分页请求，在页面将看不见该行数据，查看数据库也没有该行数据显示，删除数据成功</strong><br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164103366.png" alt="请添加图片描述"></p>
<h2 id="08-删除分类-功能完善"><a href="#08-删除分类-功能完善" class="headerlink" title="08-删除分类-功能完善"></a>08-删除分类-功能完善</h2><h3 id="功能完善-1"><a href="#功能完善-1" class="headerlink" title="功能完善"></a>功能完善</h3><p>前面我们已经实现了根据id删除分类的功能，但是并没有检查删除的分类是否关联了菜品或者套餐，所以我们需要进行功能完善。</p>
<p><strong>要完善分类删除功能，需要先准备基础的类和接口︰</strong><br>1、实体类Dish和Setmeal(从课程资料中复制即可)<br>2、Mapper接口DishMapper和setmealMapper<br>3、Service接口DishService和SetmealService<br>4、Service实现类DishServicelmpl和SetmealServicelmpl</p>
<p><strong>实体类Dish和Setmeal</strong></p>
<p>Dish</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.itzq.reggie.entity;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.annotation.FieldFill;</span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.annotation.IdType;</span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.annotation.TableField;</span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.annotation.TableId;</span><br><span class="line"><span class="keyword">import</span> lombok.Data;</span><br><span class="line"><span class="keyword">import</span> java.io.Serializable;</span><br><span class="line"><span class="keyword">import</span> java.math.BigDecimal;</span><br><span class="line"><span class="keyword">import</span> java.time.LocalDateTime;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> 菜品</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Dish</span> <span class="keyword">implements</span> <span class="title class_">Serializable</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">long</span> <span class="variable">serialVersionUID</span> <span class="operator">=</span> <span class="number">1L</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> Long id;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//菜品名称</span></span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//菜品分类id</span></span><br><span class="line">    <span class="keyword">private</span> Long categoryId;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//菜品价格</span></span><br><span class="line">    <span class="keyword">private</span> BigDecimal price;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//商品码</span></span><br><span class="line">    <span class="keyword">private</span> String code;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//图片</span></span><br><span class="line">    <span class="keyword">private</span> String image;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//描述信息</span></span><br><span class="line">    <span class="keyword">private</span> String description;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//0 停售 1 起售</span></span><br><span class="line">    <span class="keyword">private</span> Integer status;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//顺序</span></span><br><span class="line">    <span class="keyword">private</span> Integer sort;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="meta">@TableField(fill = FieldFill.INSERT)</span></span><br><span class="line">    <span class="keyword">private</span> LocalDateTime createTime;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="meta">@TableField(fill = FieldFill.INSERT_UPDATE)</span></span><br><span class="line">    <span class="keyword">private</span> LocalDateTime updateTime;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="meta">@TableField(fill = FieldFill.INSERT)</span></span><br><span class="line">    <span class="keyword">private</span> Long createUser;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="meta">@TableField(fill = FieldFill.INSERT_UPDATE)</span></span><br><span class="line">    <span class="keyword">private</span> Long updateUser;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//是否删除</span></span><br><span class="line">    <span class="keyword">private</span> Integer isDeleted;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="number">123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475</span></span><br></pre></td></tr></table></figure>

<p>Setmeal</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.itzq.reggie.entity;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.annotation.FieldFill;</span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.annotation.IdType;</span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.annotation.TableField;</span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.annotation.TableId;</span><br><span class="line"><span class="keyword">import</span> lombok.Data;</span><br><span class="line"><span class="keyword">import</span> java.io.Serializable;</span><br><span class="line"><span class="keyword">import</span> java.math.BigDecimal;</span><br><span class="line"><span class="keyword">import</span> java.time.LocalDateTime;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 套餐</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Setmeal</span> <span class="keyword">implements</span> <span class="title class_">Serializable</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">long</span> <span class="variable">serialVersionUID</span> <span class="operator">=</span> <span class="number">1L</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> Long id;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//分类id</span></span><br><span class="line">    <span class="keyword">private</span> Long categoryId;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//套餐名称</span></span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//套餐价格</span></span><br><span class="line">    <span class="keyword">private</span> BigDecimal price;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//状态 0:停用 1:启用</span></span><br><span class="line">    <span class="keyword">private</span> Integer status;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//编码</span></span><br><span class="line">    <span class="keyword">private</span> String code;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//描述信息</span></span><br><span class="line">    <span class="keyword">private</span> String description;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//图片</span></span><br><span class="line">    <span class="keyword">private</span> String image;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="meta">@TableField(fill = FieldFill.INSERT)</span></span><br><span class="line">    <span class="keyword">private</span> LocalDateTime createTime;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="meta">@TableField(fill = FieldFill.INSERT_UPDATE)</span></span><br><span class="line">    <span class="keyword">private</span> LocalDateTime updateTime;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="meta">@TableField(fill = FieldFill.INSERT)</span></span><br><span class="line">    <span class="keyword">private</span> Long createUser;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="meta">@TableField(fill = FieldFill.INSERT_UPDATE)</span></span><br><span class="line">    <span class="keyword">private</span> Long updateUser;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//是否删除</span></span><br><span class="line">    <span class="keyword">private</span> Integer isDeleted;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="number">12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970</span></span><br></pre></td></tr></table></figure>

<p><strong>Mapper接口DishMapper和SetmealMapper</strong></p>
<p>DishMapper</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.itzq.reggie.mapper;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.core.mapper.BaseMapper;</span><br><span class="line"><span class="keyword">import</span> com.itzq.reggie.entity.Dish;</span><br><span class="line"><span class="keyword">import</span> org.apache.ibatis.annotations.Mapper;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Mapper</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">DishMapper</span> <span class="keyword">extends</span> <span class="title class_">BaseMapper</span>&lt;Dish&gt; &#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="number">12345678910</span></span><br></pre></td></tr></table></figure>

<p>SetmealMapper</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.itzq.reggie.mapper;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.core.mapper.BaseMapper;</span><br><span class="line"><span class="keyword">import</span> com.itzq.reggie.entity.Setmeal;</span><br><span class="line"><span class="keyword">import</span> org.apache.ibatis.annotations.Mapper;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Mapper</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">SetmealMapper</span> <span class="keyword">extends</span> <span class="title class_">BaseMapper</span>&lt;Setmeal&gt; &#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="number">12345678910</span></span><br></pre></td></tr></table></figure>

<p><strong>Service接口DishService和SetmealService</strong></p>
<p>DishService</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.itzq.reggie.service;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.extension.service.IService;</span><br><span class="line"><span class="keyword">import</span> com.itzq.reggie.entity.Dish;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">DishService</span> <span class="keyword">extends</span> <span class="title class_">IService</span>&lt;Dish&gt; &#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="number">12345678</span></span><br></pre></td></tr></table></figure>

<p>SetmealService</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.itzq.reggie.service;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.extension.service.IService;</span><br><span class="line"><span class="keyword">import</span> com.itzq.reggie.entity.Setmeal;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">SetmealService</span> <span class="keyword">extends</span> <span class="title class_">IService</span>&lt;Setmeal&gt; &#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="number">12345678</span></span><br></pre></td></tr></table></figure>

<p><strong>Service实现类DishServicelmpl和SetmealServicelmpl</strong></p>
<p>DishServicelmpl</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.itzq.reggie.service.Impl;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.extension.service.impl.ServiceImpl;</span><br><span class="line"><span class="keyword">import</span> com.itzq.reggie.entity.Dish;</span><br><span class="line"><span class="keyword">import</span> com.itzq.reggie.mapper.DishMapper;</span><br><span class="line"><span class="keyword">import</span> com.itzq.reggie.service.DishService;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Service;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">DishServicelmpl</span> <span class="keyword">extends</span> <span class="title class_">ServiceImpl</span>&lt;DishMapper, Dish&gt; <span class="keyword">implements</span> <span class="title class_">DishService</span> &#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="number">123456789101112</span></span><br></pre></td></tr></table></figure>

<p>SetmealServicelmpl</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.itzq.reggie.service.Impl;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.extension.service.impl.ServiceImpl;</span><br><span class="line"><span class="keyword">import</span> com.itzq.reggie.entity.Setmeal;</span><br><span class="line"><span class="keyword">import</span> com.itzq.reggie.mapper.SetmealMapper;</span><br><span class="line"><span class="keyword">import</span> com.itzq.reggie.service.SetmealService;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Service;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SetmealServicelmpl</span> <span class="keyword">extends</span> <span class="title class_">ServiceImpl</span>&lt;SetmealMapper, Setmeal&gt; <span class="keyword">implements</span> <span class="title class_">SetmealService</span> &#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="number">123456789101112</span></span><br></pre></td></tr></table></figure>

<p><strong>在common包下添加CustomException 类</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.itzq.reggie.common;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">CustomException</span> <span class="keyword">extends</span> <span class="title class_">RuntimeException</span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">CustomException</span><span class="params">(String message)</span>&#123;</span><br><span class="line">        <span class="built_in">super</span>(message);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="number">12345678</span></span><br></pre></td></tr></table></figure>

<p><strong>在GlobalExceptionHandler类，添加exceptionHandler方法用于处理CustomException异常</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@ExceptionHandler(CustomException.class)</span></span><br><span class="line">    <span class="keyword">public</span> R&lt;String&gt; <span class="title function_">exceptionHandler</span> <span class="params">(CustomException exception)</span>&#123;</span><br><span class="line">        log.error(exception.getMessage());</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> R.error(exception.getMessage());</span><br><span class="line">    &#125;</span><br><span class="line"><span class="number">123456</span></span><br></pre></td></tr></table></figure>

<p><strong>在CategoryService 接口中定义remove方法</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.itzq.reggie.service;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.extension.service.IService;</span><br><span class="line"><span class="keyword">import</span> com.itzq.reggie.entity.Category;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">CategoryService</span> <span class="keyword">extends</span> <span class="title class_">IService</span>&lt;Category&gt; &#123;</span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">remove</span><span class="params">(Long id)</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="number">123456789</span></span><br></pre></td></tr></table></figure>

<p><strong>在CategoryServiceImpl 实现类中实现接口定义的remove方法，并为该方法添加所需要的逻辑代码</strong></p>
<ul>
<li>逻辑：查看当前要删除的分类id是否与菜品或套餐相关联，若与其中一个关联，则抛出异常</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.itzq.reggie.service.Impl;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.core.conditions.query.LambdaQueryWrapper;</span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.extension.service.impl.ServiceImpl;</span><br><span class="line"><span class="keyword">import</span> com.itzq.reggie.common.CustomException;</span><br><span class="line"><span class="keyword">import</span> com.itzq.reggie.entity.Category;</span><br><span class="line"><span class="keyword">import</span> com.itzq.reggie.entity.Dish;</span><br><span class="line"><span class="keyword">import</span> com.itzq.reggie.entity.Setmeal;</span><br><span class="line"><span class="keyword">import</span> com.itzq.reggie.mapper.CategoryMapper;</span><br><span class="line"><span class="keyword">import</span> com.itzq.reggie.service.CategoryService;</span><br><span class="line"><span class="keyword">import</span> com.itzq.reggie.service.DishService;</span><br><span class="line"><span class="keyword">import</span> com.itzq.reggie.service.SetmealService;</span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Autowired;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Service;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">CategoryServiceImpl</span> <span class="keyword">extends</span> <span class="title class_">ServiceImpl</span>&lt;CategoryMapper, Category&gt; <span class="keyword">implements</span> <span class="title class_">CategoryService</span> &#123;</span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    DishService dishService;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    SetmealService setmealService;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 根据id删除分类，删除之前需要进行判断</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> id</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">remove</span><span class="params">(Long id)</span> &#123;</span><br><span class="line">        LambdaQueryWrapper&lt;Dish&gt; dishLambdaQueryWrapper = <span class="keyword">new</span> <span class="title class_">LambdaQueryWrapper</span>&lt;&gt;();</span><br><span class="line">        <span class="comment">//添加dish查询条件，根据分类id进行查询</span></span><br><span class="line">        dishLambdaQueryWrapper.eq(Dish::getCategoryId, id);</span><br><span class="line">        <span class="type">int</span> <span class="variable">count1</span> <span class="operator">=</span> dishService.count(dishLambdaQueryWrapper);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//查看当前分类是否关联了菜品，如果已经关联，则抛出异常</span></span><br><span class="line">        <span class="keyword">if</span> (count1 &gt; <span class="number">0</span>)&#123;</span><br><span class="line">            <span class="comment">//已关联菜品，抛出一个业务异常</span></span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">CustomException</span>(<span class="string">&quot;当前分类下关联了菜品，不能删除&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        LambdaQueryWrapper&lt;Setmeal&gt; setmealLambdaQueryWrapper = <span class="keyword">new</span> <span class="title class_">LambdaQueryWrapper</span>&lt;&gt;();</span><br><span class="line">        <span class="comment">//添加dish查询条件，根据分类id进行查询</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">count2</span> <span class="operator">=</span> setmealService.count(setmealLambdaQueryWrapper);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//查看当前分类是否关联了套餐，如果已经关联，则抛出异常</span></span><br><span class="line">        <span class="keyword">if</span> (count2 &gt; <span class="number">0</span>)&#123;</span><br><span class="line">            <span class="comment">//已关联套餐，抛出一个业务异常</span></span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">CustomException</span>(<span class="string">&quot;当前分类下关联了套餐，不能删除&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//正常删除</span></span><br><span class="line">        <span class="built_in">super</span>.removeById(id);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="number">12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455</span></span><br></pre></td></tr></table></figure>

<p><strong>重启项目，点击删除按钮</strong><br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164103246.png" alt="请添加图片描述"></p>
<p><strong>内容提示</strong><br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_19,color_FFFFFF,t_70,g_se,x_16-20220916164103477.png" alt="在这里插入图片描述"></p>
<p><strong>同理，若当前分类关联了套餐，也会有相应的提示，可以自己操作检验</strong></p>
<h2 id="09-修改分类-需求分析-amp-分析页面回显效果-amp-代码开发-amp-功能测试"><a href="#09-修改分类-需求分析-amp-分析页面回显效果-amp-代码开发-amp-功能测试" class="headerlink" title="09-修改分类-需求分析&amp;分析页面回显效果&amp;代码开发&amp;功能测试"></a>09-修改分类-需求分析&amp;分析页面回显效果&amp;代码开发&amp;功能测试</h2><h3 id="需求分析-8"><a href="#需求分析-8" class="headerlink" title="需求分析"></a>需求分析</h3><p>在分类管理列表页面点击修改按钮，弹出修改窗口，在修改窗口回显分类信息并进行修改，最后点击确定按钮完成修改操作</p>
<h3 id="分析页面回显效果"><a href="#分析页面回显效果" class="headerlink" title="分析页面回显效果"></a>分析页面回显效果</h3><p>点击修改按钮，触发点击事件editHandle，并传递该行的数据<br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_19,color_FFFFFF,t_70,g_se,x_16-20220916164103862.png" alt="在这里插入图片描述"></p>
<p>在editHandle函数中，将传来的参数赋值给classData下的name和sort数据<br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_19,color_FFFFFF,t_70,g_se,x_16-20220916164103703.png" alt="在这里插入图片描述"><br><img src="/../../assets/f7bd0b3a641b4ad48bbe2da5a62af309.png" alt="在这里插入图片描述"></p>
<p><strong>v-model实现数据的双向绑定</strong><br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164103972.png" alt="在这里插入图片描述"></p>
<h3 id="代码开发-4"><a href="#代码开发-4" class="headerlink" title="代码开发"></a>代码开发</h3><p><strong>在CategoryController类中添加update方法，请求方式为put请求</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 修改分类信息</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> category</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@PutMapping</span></span><br><span class="line">    <span class="keyword">public</span> R&lt;String&gt; <span class="title function_">update</span><span class="params">(<span class="meta">@RequestBody</span> Category category)</span>&#123;</span><br><span class="line">        log.info(<span class="string">&quot;修改分类信息为:&#123;&#125;&quot;</span>,category);</span><br><span class="line">        categoryService.updateById(category);</span><br><span class="line">        <span class="keyword">return</span> R.success(<span class="string">&quot;修改分类信息成功&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"><span class="number">1234567891011</span></span><br></pre></td></tr></table></figure>

<h3 id="功能测试-4"><a href="#功能测试-4" class="headerlink" title="功能测试"></a>功能测试</h3><p><strong>点击修改按钮</strong><br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164104160.png" alt="在这里插入图片描述"></p>
<p><strong>填入想要修改的信息后，点击确定</strong><br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164103805.png" alt="在这里插入图片描述"></p>
<p><strong>页面显示</strong><br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_18,color_FFFFFF,t_70,g_se,x_16-20220916164104080.png" alt="在这里插入图片描述"></p>
<p><strong>数据库中内容</strong><br><img src="/../../assets/d27210b8b9ff4a5d88a159fc29cee19a.png" alt="在这里插入图片描述"><br>修改成功！</p>
<h1 id="业务开发Day4"><a href="#业务开发Day4" class="headerlink" title="业务开发Day4"></a>业务开发Day4</h1><h2 id="01-本章内容介绍-3"><a href="#01-本章内容介绍-3" class="headerlink" title="01-本章内容介绍"></a>01-本章内容介绍</h2><h3 id="目录-3"><a href="#目录-3" class="headerlink" title="目录"></a>目录</h3><ol>
<li>文件上传下载</li>
<li>新增菜品</li>
<li>菜品信息分页查询</li>
<li>修改菜品</li>
</ol>
<p><strong>需要实现页面的功能</strong><br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164130546.png" alt="在这里插入图片描述"></p>
<h2 id="02-文件上传下载-文件上传下载介绍"><a href="#02-文件上传下载-文件上传下载介绍" class="headerlink" title="02-文件上传下载_文件上传下载介绍"></a>02-文件上传下载_文件上传下载介绍</h2><h3 id="内容-1"><a href="#内容-1" class="headerlink" title="内容"></a>内容</h3><ol>
<li>文件上传介绍</li>
<li>文件下载介绍</li>
</ol>
<h3 id="文件上传介绍"><a href="#文件上传介绍" class="headerlink" title="文件上传介绍"></a>文件上传介绍</h3><ul>
<li>文件上传，也称为upload，是指将本地图片、视频、音频等文件上传到服务器上，可以供其他用户浏览或下载的过程</li>
<li>文件上传在项目中应用非常广泛，我们经常发微博、发微信朋友圈都用到了文件上传功能</li>
</ul>
<p><strong>文件上传时，对页面的form表单有如下要求:</strong></p>
<ol>
<li>method&#x3D;“post” <strong>采用post方式提交数据</strong></li>
<li>enctype&#x3D;“multipart&#x2F;form-data” <strong>采用multipart格式上传文件</strong></li>
<li>type&#x3D;“file” <strong>使用input的file控件上传</strong></li>
</ol>
<p><strong>举例:</strong></p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">method</span>=<span class="string">&quot;post&quot;</span> <span class="attr">action</span>=<span class="string">&quot;/common/upload&quot;</span> <span class="attr">enctype</span>=<span class="string">&quot;multipart/form-data&quot;</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">input</span> <span class="attr">name</span>=<span class="string">&quot;myFile&quot;</span> <span class="attr">type</span>=<span class="string">&quot;file&quot;</span>/&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span> <span class="attr">value</span>=<span class="string">&quot;提交&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">form</span>&gt;</span></span><br><span class="line">1234</span><br></pre></td></tr></table></figure>

<p><strong>目前一些前端组件库也提供了相应的上传组件，但是底层原理还是基于form表单的文件上传</strong></p>
<p>例如ElementUI中提供的upload上传组件:<br><img src="/../../assets/5393abecfb544767b95f4a92fd28dc1d.png" alt="在这里插入图片描述"></p>
<p><strong>服务端要接收客户端页面上传的文件，通常都会使用Apache的两个组件:</strong></p>
<ul>
<li>commons-fileupload</li>
<li>commons-io</li>
</ul>
<p><strong>Spring框架在spring-web包中对文件上传进行了封装，大大简化了服务端代码，我们只需要在Controller的方法中声明一个MultipartFile类型的参数即可接收上传的文件，例如:</strong><br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_15,color_FFFFFF,t_70,g_se,x_16-20220916164123250.png" alt="在这里插入图片描述"></p>
<h3 id="文件下载介绍"><a href="#文件下载介绍" class="headerlink" title="文件下载介绍"></a>文件下载介绍</h3><ul>
<li>文件下载，也称为download，是指将文件从<em>服务器传输到本地计算机的过程</em></li>
</ul>
<p><strong>通过浏览器进行文件下载，通常有两种表现形式:</strong></p>
<ol>
<li>以附件形式下载，弹出保存对话框，将文件保存到指定磁盘目录</li>
<li>直接在浏览器中打开</li>
</ol>
<p>通过浏览器进行文件下载，本质上就是<em>服务端将文件以流的形式写回浏览器的过程</em>。</p>
<h2 id="03-文件上传下载-文件上传代码实现1"><a href="#03-文件上传下载-文件上传代码实现1" class="headerlink" title="03-文件上传下载_文件上传代码实现1"></a>03-文件上传下载_文件上传代码实现1</h2><h3 id="文件上传代码实现1"><a href="#文件上传代码实现1" class="headerlink" title="文件上传代码实现1"></a>文件上传代码实现1</h3><p>文件上传，页面端可以使用ElementUI提供的上传组件。<br>可以直接使用资料中提供的上传页面，位置:资料&#x2F;文件上传下载页面&#x2F;upload.html</p>
<p><strong>upload.html-前端上传文件页面代码</strong></p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;IE=edge&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span>文件上传<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- 引入样式 --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;stylesheet&quot;</span> <span class="attr">href</span>=<span class="string">&quot;../../plugins/element-ui/index.css&quot;</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;stylesheet&quot;</span> <span class="attr">href</span>=<span class="string">&quot;../../styles/common.css&quot;</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;stylesheet&quot;</span> <span class="attr">href</span>=<span class="string">&quot;../../styles/page.css&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;addBrand-container&quot;</span> <span class="attr">id</span>=<span class="string">&quot;food-add-app&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;container&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">el-upload</span> <span class="attr">class</span>=<span class="string">&quot;avatar-uploader&quot;</span></span></span><br><span class="line"><span class="tag">                <span class="attr">action</span>=<span class="string">&quot;/common/upload&quot;</span></span></span><br><span class="line"><span class="tag">                <span class="attr">:show-file-list</span>=<span class="string">&quot;false&quot;</span></span></span><br><span class="line"><span class="tag">                <span class="attr">:on-success</span>=<span class="string">&quot;handleAvatarSuccess&quot;</span></span></span><br><span class="line"><span class="tag">                <span class="attr">:before-upload</span>=<span class="string">&quot;beforeUpload&quot;</span></span></span><br><span class="line"><span class="tag">                <span class="attr">ref</span>=<span class="string">&quot;upload&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">img</span> <span class="attr">v-if</span>=<span class="string">&quot;imageUrl&quot;</span> <span class="attr">:src</span>=<span class="string">&quot;imageUrl&quot;</span> <span class="attr">class</span>=<span class="string">&quot;avatar&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">img</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">i</span> <span class="attr">v-else</span> <span class="attr">class</span>=<span class="string">&quot;el-icon-plus avatar-uploader-icon&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">el-upload</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 开发环境版本，包含了有帮助的命令行警告 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../../plugins/vue/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 引入组件库 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../../plugins/element-ui/index.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 引入axios --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../../plugins/axios/axios.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../../js/index.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">      <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">el</span>: <span class="string">&#x27;##food-add-app&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="title function_">data</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">          <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">imageUrl</span>: <span class="string">&#x27;&#x27;</span></span></span><br><span class="line"><span class="language-javascript">          &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">methods</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">          handleAvatarSuccess (response, file, fileList) &#123;</span></span><br><span class="line"><span class="language-javascript">              <span class="variable language_">this</span>.<span class="property">imageUrl</span> = <span class="string">`/common/download?name=<span class="subst">$&#123;response.data&#125;</span>`</span></span></span><br><span class="line"><span class="language-javascript">          &#125;,</span></span><br><span class="line"><span class="language-javascript">          beforeUpload (file) &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">if</span>(file)&#123;</span></span><br><span class="line"><span class="language-javascript">              <span class="keyword">const</span> suffix = file.<span class="property">name</span>.<span class="title function_">split</span>(<span class="string">&#x27;.&#x27;</span>)[<span class="number">1</span>]</span></span><br><span class="line"><span class="language-javascript">              <span class="keyword">const</span> size = file.<span class="property">size</span> / <span class="number">1024</span> / <span class="number">1024</span> &lt; <span class="number">2</span></span></span><br><span class="line"><span class="language-javascript">              <span class="keyword">if</span>([<span class="string">&#x27;png&#x27;</span>,<span class="string">&#x27;jpeg&#x27;</span>,<span class="string">&#x27;jpg&#x27;</span>].<span class="title function_">indexOf</span>(suffix) &lt; <span class="number">0</span>)&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="variable language_">this</span>.<span class="property">$message</span>.<span class="title function_">error</span>(<span class="string">&#x27;上传图片只支持 png、jpeg、jpg 格式！&#x27;</span>)</span></span><br><span class="line"><span class="language-javascript">                <span class="variable language_">this</span>.<span class="property">$refs</span>.<span class="property">upload</span>.<span class="title function_">clearFiles</span>()</span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">return</span> <span class="literal">false</span></span></span><br><span class="line"><span class="language-javascript">              &#125;</span></span><br><span class="line"><span class="language-javascript">              <span class="keyword">if</span>(!size)&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="variable language_">this</span>.<span class="property">$message</span>.<span class="title function_">error</span>(<span class="string">&#x27;上传文件大小不能超过 2MB!&#x27;</span>)</span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">return</span> <span class="literal">false</span></span></span><br><span class="line"><span class="language-javascript">              &#125;</span></span><br><span class="line"><span class="language-javascript">              <span class="keyword">return</span> file</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">          &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">      &#125;)</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br><span class="line">123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566</span><br></pre></td></tr></table></figure>

<p><strong>放置upload.html代码的位置（需创建一个demo文件夹）</strong><br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_13,color_FFFFFF,t_70,g_se,x_16-20220916164122895.png" alt="在这里插入图片描述"></p>
<p><strong>在controller包下创建*CommonController类*，代码内容如下：</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.itzq.reggie.controller;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.itzq.reggie.common.R;</span><br><span class="line"><span class="keyword">import</span> lombok.extern.slf4j.Slf4j;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.PostMapping;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RequestMapping;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RestController;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.multipart.MultipartFile;</span><br><span class="line"></span><br><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="meta">@RequestMapping(&quot;/common&quot;)</span></span><br><span class="line"><span class="meta">@Slf4j</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">CommonController</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@PostMapping(&quot;/upload&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> R&lt;String&gt; <span class="title function_">upload</span><span class="params">(MultipartFile file)</span>&#123;</span><br><span class="line">        <span class="comment">//file是一个临时文件，需要转存到指定位置，否则本次请求完成后临时文件删除</span></span><br><span class="line">        log.info(file.toString());</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="number">123456789101112131415161718192021</span></span><br></pre></td></tr></table></figure>

<p><em>注意：</em></p>
<ul>
<li>MultipartFile是spring类型，代表HTML中form data方式上传的文件，包含<em>二进制数据+文件名称</em>。</li>
<li>MultipartFile后面的参数名必须为file，因为需要和前端页面的name保持一致，否则不会生效<br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164123029.png" alt="在这里插入图片描述"></li>
</ul>
<p><strong>启动项目，在浏览器地址栏输入：<a target="_blank" rel="noopener" href="http://localhost:8080/backend/page/demo/upload.html">http://localhost:8080/backend/page/demo/upload.html</a></strong></p>
<ul>
<li>点击上传图片，并上传一个符合文件上传格式，符合文件上传大小的图片<br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164122953.png" alt="在这里插入图片描述"></li>
<li>后端返回给前端的msg数据为NOTLOGIN，可知被filter过滤器拦截，返还还未登录的信息</li>
<li>因此我们需要先在页面上登录，登录后会在服务端的内存中存储session对象，session的作用域为一次会话范围内</li>
<li>在浏览器地址栏中输入：<a target="_blank" rel="noopener" href="http://localhost:8080/backend/page/demo/upload.html%EF%BC%8C%E5%8D%B3%E5%8F%AF%E9%81%BF%E5%85%8D%E8%A2%ABfilter%E8%BF%87%E6%BB%A4%E5%99%A8%E6%8B%A6%E6%88%AA">http://localhost:8080/backend/page/demo/upload.html，即可避免被filter过滤器拦截</a></li>
</ul>
<p><strong>被filter拦截</strong><br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164125838.png" alt="img"></p>
<p><strong>登录后可正常上传文件，在此处添加断点，以debug方式启动项目</strong><br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164123894.png" alt="在这里插入图片描述"></p>
<p><strong>来到文件上传页面，点击上传文件，进入断点模式，查看文件的存储位置</strong><br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164126616.png" alt="在这里插入图片描述"></p>
<p><strong>在磁盘中寻找到文件，发现该文件为临时文件（TMP文件），所以需要转存到指定位置，否则本次请求完成后临时文件删除</strong><br><img src="/../../assets/6bdfafcb4df44ad89c361fd85672822b.png" alt="在这里插入图片描述"></p>
<p><strong>放行后发现临时文件消失</strong><br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164127024.png" alt="在这里插入图片描述"></p>
<h2 id="04-文件上传下载-文件上传代码实现2"><a href="#04-文件上传下载-文件上传代码实现2" class="headerlink" title="04-文件上传下载_文件上传代码实现2"></a>04-文件上传下载_文件上传代码实现2</h2><h3 id="文件上传代码实现2"><a href="#文件上传代码实现2" class="headerlink" title="文件上传代码实现2"></a>文件上传代码实现2</h3><p><strong>在开发上传文件代码前，先再LoginCheckFilter类的urls数组中添加 “&#x2F;common&#x2F;</strong>“**<br>作用：避免每次上传文件时都需要进行登录操作<br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_16,color_FFFFFF,t_70,g_se,x_16-20220916164127996.png" alt="在这里插入图片描述"></p>
<p><strong>将临时文件存储存储到指定位置</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.itzq.reggie.controller;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.itzq.reggie.common.R;</span><br><span class="line"><span class="keyword">import</span> lombok.extern.slf4j.Slf4j;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.PostMapping;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RequestMapping;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RestController;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.multipart.MultipartFile;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="meta">@RequestMapping(&quot;/common&quot;)</span></span><br><span class="line"><span class="meta">@Slf4j</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">CommonController</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@PostMapping(&quot;/upload&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> R&lt;String&gt; <span class="title function_">upload</span><span class="params">(MultipartFile file)</span>&#123;</span><br><span class="line">        <span class="comment">//file是一个临时文件，需要转存到指定位置，否则本次请求完成后临时文件删除</span></span><br><span class="line">        log.info(file.toString());</span><br><span class="line"></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="comment">//将临时文件存储到指定位置</span></span><br><span class="line">            file.transferTo(<span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;D:\\hello.jpg&quot;</span>));</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="number">12345678910111213141516171819202122232425262728293031</span></span><br></pre></td></tr></table></figure>

<p><strong>启动项目，浏览器地址栏输入地址：<a target="_blank" rel="noopener" href="http://localhost:8080/backend/page/demo/upload.html">http://localhost:8080/backend/page/demo/upload.html</a></strong></p>
<ul>
<li>上传图片，查看指定存储文件的位置是否有上传的文件<br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164129222.png" alt="在这里插入图片描述"></li>
</ul>
<p><strong>文件转存的位置改为动态可配置的，通过配置文件的方式指定</strong><br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164129692.png" alt="在这里插入图片描述"></p>
<ul>
<li>使用 @Value(“${reggie.path}”)读取到配置文件中的动态转存位置</li>
<li>使用uuid方式重新生成文件名，避免文件名重复造成文件覆盖</li>
<li>通过获取原文件名来截取文件后缀</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.itzq.reggie.controller;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.itzq.reggie.common.R;</span><br><span class="line"><span class="keyword">import</span> lombok.extern.slf4j.Slf4j;</span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Value;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.PostMapping;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RequestMapping;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RestController;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.multipart.MultipartFile;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.util.UUID;</span><br><span class="line"></span><br><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="meta">@RequestMapping(&quot;/common&quot;)</span></span><br><span class="line"><span class="meta">@Slf4j</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">CommonController</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Value(&quot;$&#123;reggie.path&#125;&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> String basePath;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@PostMapping(&quot;/upload&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> R&lt;String&gt; <span class="title function_">upload</span><span class="params">(MultipartFile file)</span>&#123;</span><br><span class="line">        <span class="comment">//file是一个临时文件，需要转存到指定位置，否则本次请求完成后临时文件删除</span></span><br><span class="line">        log.info(file.toString());</span><br><span class="line"></span><br><span class="line">        <span class="comment">//获取原始的文件名</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">originalFilename</span> <span class="operator">=</span> file.getOriginalFilename();</span><br><span class="line">        <span class="comment">//获取上传的文件后缀</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">suffix</span> <span class="operator">=</span> originalFilename.substring(originalFilename.lastIndexOf(<span class="string">&quot;.&quot;</span>));</span><br><span class="line"></span><br><span class="line">        <span class="comment">//使用uuid重新生成文件名，防止文件名重复造成文件覆盖</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">fileName</span> <span class="operator">=</span> UUID.randomUUID().toString() + suffix;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="comment">//将临时文件存储到指定位置</span></span><br><span class="line">            file.transferTo(<span class="keyword">new</span> <span class="title class_">File</span>(basePath + fileName));</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="number">12345678910111213141516171819202122232425262728293031323334353637383940414243444546</span></span><br></pre></td></tr></table></figure>

<p><strong>重启项目，上传图片，在动态指定的位置上发现上传的文件</strong><br><img src="/../../assets/644dba9e42314c0caeedc23ec7ea81bb.png" alt="在这里插入图片描述"></p>
<p><strong>指定的目录或许不存在于磁盘中，所以我们要为程序添加逻辑代码</strong></p>
<p>若目录不存在于磁盘中，则需要创建该目录<br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164128790.png" alt="在这里插入图片描述"><br><strong>具体代码</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//创建一个目录对象</span></span><br><span class="line">        <span class="type">File</span> <span class="variable">dir</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(basePath);</span><br><span class="line">        <span class="comment">//判断目录是否存在</span></span><br><span class="line">        <span class="keyword">if</span> (!dir.exists())&#123;</span><br><span class="line">            <span class="comment">//目录不存在需要创建</span></span><br><span class="line">            dir.mkdir();</span><br><span class="line">        &#125;</span><br><span class="line"><span class="number">1234567</span></span><br></pre></td></tr></table></figure>

<p><strong>测试，</strong><br>将配置文件中的目录信息修改为本地磁盘中不存在的目录<br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164129443.png" alt="在这里插入图片描述"></p>
<p><strong>重启项目，上传图片，发现创建了一个新的目录，并将文件放入该目录下</strong><br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_11,color_FFFFFF,t_70,g_se,x_16.png" alt="在这里插入图片描述"></p>
<p><strong>服务端需返回文件名给前端，便于后续开发使用</strong><br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164130102.png" alt="在这里插入图片描述"></p>
<h2 id="05-文件上传下载-文件下载代码实现-amp-测试"><a href="#05-文件上传下载-文件下载代码实现-amp-测试" class="headerlink" title="05-文件上传下载_文件下载代码实现&amp;测试"></a>05-文件上传下载_文件下载代码实现&amp;测试</h2><h3 id="文件下载代码实现"><a href="#文件下载代码实现" class="headerlink" title="文件下载代码实现"></a>文件下载代码实现</h3><p><strong>前端处理</strong></p>
<p>前端页面ElementUI的upload组件会在上传完图片后，触发img组件发送请求，服务端以流的形式（输出流）将文件写回浏览器，在浏览器中展示图片<br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164132436.png" alt="在这里插入图片描述"></p>
<p>定义前端发送回显图片请求的地址<br><img src="/../../assets/e2c59ed1f8c0419bafa345ba9602fb5f.png" alt="在这里插入图片描述"></p>
<p><strong>在CommonController类中添加download方法</strong></p>
<ol>
<li>通过输入流读取文件内容</li>
<li>通过输出流将文件写回浏览器，在浏览器展示图片</li>
<li>关闭输入输出流，释放资源</li>
</ol>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@GetMapping(&quot;/download&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">download</span><span class="params">(String name, HttpServletResponse response)</span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="comment">//输入流，通过输入流读取文件内容</span></span><br><span class="line">            <span class="type">FileInputStream</span> <span class="variable">fileInputStream</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileInputStream</span>(<span class="keyword">new</span> <span class="title class_">File</span>(basePath + name));</span><br><span class="line"></span><br><span class="line">            <span class="comment">//输出流，通过输出流将文件写回浏览器，在浏览器展示图片</span></span><br><span class="line">            <span class="type">ServletOutputStream</span> <span class="variable">outputStream</span> <span class="operator">=</span> response.getOutputStream();</span><br><span class="line"></span><br><span class="line">            <span class="comment">//代表图片文件</span></span><br><span class="line">            response.setContentType(<span class="string">&quot;image/jpeg&quot;</span>);</span><br><span class="line"></span><br><span class="line">            <span class="type">int</span> <span class="variable">len</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">            <span class="type">byte</span>[] bytes = <span class="keyword">new</span> <span class="title class_">byte</span>[<span class="number">1024</span>];</span><br><span class="line">            <span class="keyword">while</span> ((len = fileInputStream.read(bytes)) != -<span class="number">1</span>)&#123;</span><br><span class="line">                <span class="comment">//向response缓冲区中写入字节，再由Tomcat服务器将字节内容组成Http响应返回给浏览器。</span></span><br><span class="line">                outputStream.write(bytes,<span class="number">0</span>,len);</span><br><span class="line">                <span class="comment">//所储存的数据全部清空</span></span><br><span class="line">                outputStream.flush();</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="comment">//关闭流</span></span><br><span class="line">            fileInputStream.close();</span><br><span class="line">            outputStream.close();</span><br><span class="line"></span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="number">123456789101112131415161718192021222324252627282930</span></span><br></pre></td></tr></table></figure>

<h3 id="测试-6"><a href="#测试-6" class="headerlink" title="测试"></a>测试</h3><p><strong>启动项目，上传图片，图片回显到页面</strong><br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164131276.png" alt="在这里插入图片描述"></p>
<h2 id="06-新增菜品-需求分析-amp-数据模型"><a href="#06-新增菜品-需求分析-amp-数据模型" class="headerlink" title="06-新增菜品_需求分析&amp;数据模型"></a>06-新增菜品_需求分析&amp;数据模型</h2><h3 id="需求分析-9"><a href="#需求分析-9" class="headerlink" title="需求分析"></a>需求分析</h3><ul>
<li>后台系统中可以管理菜品信息，通过新增功能来添加一个新的菜品</li>
<li>在添加菜品时需要选择当前菜品所属的菜品分类，并且需要上传菜品图片</li>
<li>在移动端会按照菜品分类来展示对应的菜品信息。</li>
</ul>
<h3 id="数据模型-1"><a href="#数据模型-1" class="headerlink" title="数据模型"></a>数据模型</h3><p><strong>dish表</strong><br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164134063.png" alt="在这里插入图片描述"></p>
<p><strong>dish_flavor表</strong><br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164134496.png" alt="在这里插入图片描述"></p>
<p><strong>新增菜品分类，会将前端传过来的数据保存在这两张表中</strong></p>
<h2 id="07-新增菜品-代码开发-查询分类数据"><a href="#07-新增菜品-代码开发-查询分类数据" class="headerlink" title="07-新增菜品_代码开发_查询分类数据"></a>07-新增菜品_代码开发_查询分类数据</h2><h3 id="代码开发-准备工作"><a href="#代码开发-准备工作" class="headerlink" title="代码开发-准备工作"></a>代码开发-准备工作</h3><p><strong>在开发业务功能前，先将需要用到的类和接口基本结构创建好:</strong></p>
<ol>
<li>实体类DishFlavor(直接从课程资料中导入即可，Dish实体前面课程中已经导入过了)</li>
<li>Mapper接口DishFlavorMapper</li>
<li>业务层接口DishFlavorService</li>
<li>业务层实现类DishFlavorServicelmpl</li>
<li>控制层DishController</li>
</ol>
<p>实体类DishFlavor</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.itzq.reggie.entity;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.annotation.FieldFill;</span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.annotation.IdType;</span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.annotation.TableField;</span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.annotation.TableId;</span><br><span class="line"><span class="keyword">import</span> lombok.Data;</span><br><span class="line"><span class="keyword">import</span> java.io.Serializable;</span><br><span class="line"><span class="keyword">import</span> java.time.LocalDateTime;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">菜品口味</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">DishFlavor</span> <span class="keyword">implements</span> <span class="title class_">Serializable</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">long</span> <span class="variable">serialVersionUID</span> <span class="operator">=</span> <span class="number">1L</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> Long id;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//菜品id</span></span><br><span class="line">    <span class="keyword">private</span> Long dishId;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//口味名称</span></span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//口味数据list</span></span><br><span class="line">    <span class="keyword">private</span> String value;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="meta">@TableField(fill = FieldFill.INSERT)</span></span><br><span class="line">    <span class="keyword">private</span> LocalDateTime createTime;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="meta">@TableField(fill = FieldFill.INSERT_UPDATE)</span></span><br><span class="line">    <span class="keyword">private</span> LocalDateTime updateTime;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="meta">@TableField(fill = FieldFill.INSERT)</span></span><br><span class="line">    <span class="keyword">private</span> Long createUser;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="meta">@TableField(fill = FieldFill.INSERT_UPDATE)</span></span><br><span class="line">    <span class="keyword">private</span> Long updateUser;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//是否删除</span></span><br><span class="line">    <span class="keyword">private</span> Integer isDeleted;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="number">123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354</span></span><br></pre></td></tr></table></figure>

<p>Mapper接口DishFlavorMapper</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.itzq.reggie.mapper;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.core.mapper.BaseMapper;</span><br><span class="line"><span class="keyword">import</span> com.itzq.reggie.entity.DishFlavor;</span><br><span class="line"><span class="keyword">import</span> org.apache.ibatis.annotations.Mapper;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Mapper</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">DishFlavorMapper</span> <span class="keyword">extends</span> <span class="title class_">BaseMapper</span>&lt;DishFlavor&gt; &#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="number">12345678910</span></span><br></pre></td></tr></table></figure>

<p>业务层接口DishFlavorService</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.itzq.reggie.service;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.extension.service.IService;</span><br><span class="line"><span class="keyword">import</span> com.itzq.reggie.entity.DishFlavor;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">DishFlavorService</span> <span class="keyword">extends</span> <span class="title class_">IService</span>&lt;DishFlavor&gt; &#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="number">12345678</span></span><br></pre></td></tr></table></figure>

<p>业务层实现类DishFlavorServicelmpl</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.itzq.reggie.service.Impl;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.extension.service.impl.ServiceImpl;</span><br><span class="line"><span class="keyword">import</span> com.itzq.reggie.entity.DishFlavor;</span><br><span class="line"><span class="keyword">import</span> com.itzq.reggie.mapper.DishFlavorMapper;</span><br><span class="line"><span class="keyword">import</span> com.itzq.reggie.service.DishFlavorService;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Service;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">DishFlavorServicelmpl</span> <span class="keyword">extends</span> <span class="title class_">ServiceImpl</span>&lt;DishFlavorMapper, DishFlavor&gt; <span class="keyword">implements</span> <span class="title class_">DishFlavorService</span> &#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="number">123456789101112</span></span><br></pre></td></tr></table></figure>

<p>控制层DishController</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.itzq.reggie.controller;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.itzq.reggie.service.DishFlavorService;</span><br><span class="line"><span class="keyword">import</span> com.itzq.reggie.service.DishService;</span><br><span class="line"><span class="keyword">import</span> lombok.extern.slf4j.Slf4j;</span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Autowired;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RequestMapping;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RestController;</span><br><span class="line"></span><br><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="meta">@RequestMapping(&quot;/dish&quot;)</span></span><br><span class="line"><span class="meta">@Slf4j</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">DishController</span> &#123;</span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> DishService dishService;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> DishFlavorService dishFlavorService;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="number">123456789101112131415161718192021</span></span><br></pre></td></tr></table></figure>

<h3 id="代码开发-梳理交互过程"><a href="#代码开发-梳理交互过程" class="headerlink" title="代码开发-梳理交互过程"></a>代码开发-梳理交互过程</h3><p><strong>在开发代码之前，需要梳理一下新增菜品时前端页面和服务端的交互过程:</strong></p>
<ol>
<li>页面(backend&#x2F;page&#x2F;food&#x2F;add.html)发送ajax请求，请求服务端获取菜品分类数据并展示到下拉框中</li>
<li>页面发送请求进行图片上传，请求服务端将图片保存到服务器</li>
<li>页面发送请求进行图片下载，将上传的图片进行回显</li>
<li>点击保存按钮，发送ajax请求，将菜品相关数据以json形式提交到服务端<br><strong>开发新增菜品功能，其实就是在服务端编写代码去处理前端页面发送的这4次请求即可。</strong></li>
</ol>
<p><strong>添加菜品页面展示</strong><br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164133525.png" alt="在这里插入图片描述"></p>
<h2 id="08-新增菜品-代码开发-查询分类数据"><a href="#08-新增菜品-代码开发-查询分类数据" class="headerlink" title="08-新增菜品_代码开发_查询分类数据"></a>08-新增菜品_代码开发_查询分类数据</h2><h3 id="前端分析"><a href="#前端分析" class="headerlink" title="前端分析"></a>前端分析</h3><p><strong>一个vue实例被创建后会调用钩子函数，执行其中的方法</strong><br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164134807.png" alt="在这里插入图片描述"></p>
<p><strong>来到getDishList方法，执行其中getCategoryList方法</strong><br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164137555.png" alt="在这里插入图片描述"></p>
<p><strong>执行getCategoryList方法向服务端发送ajax请求，请求方式为get</strong><br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_17,color_FFFFFF,t_70,g_se,x_16-20220916164137729.png" alt="在这里插入图片描述"></p>
<p><strong>在CategoryController类中，添加list方法，具体代码如下：</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">    <span class="meta">@GetMapping(&quot;/list&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> R&lt;List&lt;Category&gt;&gt; <span class="title function_">list</span><span class="params">(Category category)</span>&#123;</span><br><span class="line">        <span class="comment">//条件构造器</span></span><br><span class="line">        LambdaQueryWrapper&lt;Category&gt; queryWrapper = <span class="keyword">new</span> <span class="title class_">LambdaQueryWrapper</span>&lt;&gt;();</span><br><span class="line">        <span class="comment">//添加条件</span></span><br><span class="line">        queryWrapper.eq(category.getType() != <span class="literal">null</span>,Category::getType,category.getType());</span><br><span class="line">        <span class="comment">//添加排序条件</span></span><br><span class="line">        queryWrapper.orderByAsc(Category::getSort).orderByDesc(Category::getUpdateTime);</span><br><span class="line">        <span class="comment">//查询数据</span></span><br><span class="line">        List&lt;Category&gt; list = categoryService.list(queryWrapper);</span><br><span class="line">        <span class="comment">//返回数据</span></span><br><span class="line">        <span class="keyword">return</span> R.success(list);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"><span class="number">1234567891011121314</span></span><br></pre></td></tr></table></figure>

<p><strong>启动项目，进入菜品管理，点击菜品分类下拉框，成功获得数据</strong><br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164136771.png" alt="在这里插入图片描述"></p>
<h2 id="09-新增菜品-代码开发-接收页面提交的数据"><a href="#09-新增菜品-代码开发-接收页面提交的数据" class="headerlink" title="09-新增菜品_代码开发_接收页面提交的数据"></a>09-新增菜品_代码开发_接收页面提交的数据</h2><h3 id="接收图片文件"><a href="#接收图片文件" class="headerlink" title="接收图片文件"></a>接收图片文件</h3><p>在本章节02-05，我们已经将图片的上传下载准备完毕</p>
<p><strong>测试</strong></p>
<p>添加一张图片，并回显图片<br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164137303.png" alt="在这里插入图片描述"></p>
<h3 id="注意事项"><a href="#注意事项" class="headerlink" title="注意事项"></a>注意事项</h3><ol>
<li>价格在前端已被处理，在点击提交按钮后，先执行前端的submitForm方法，并将price做相应的处理（在页面中单位为元，在数据库中存储的单位为分），再通过ajax请求向后端提供相应的json数据<br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164137313.png" alt="在这里插入图片描述"></li>
<li>因为Dish实体类不满足接收flavor参数，即需要导入DishDto，用于封装页面提交的数据<br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164143189.png" alt="在这里插入图片描述"></li>
</ol>
<p><strong>DTO，全称为Data Transfer Object，即数据传输对象，一般用于展示层与服务层之间的数据传输。</strong></p>
<ul>
<li>在reggie包下，创建一个新包为dto</li>
<li>在该包下创建<em>DishDto</em> 数据传输类</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.itzq.reggie.dto;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.itzq.reggie.entity.Dish;</span><br><span class="line"><span class="keyword">import</span> com.itzq.reggie.entity.DishFlavor;</span><br><span class="line"><span class="keyword">import</span> lombok.Data;</span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">DishDto</span> <span class="keyword">extends</span> <span class="title class_">Dish</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> List&lt;DishFlavor&gt; flavors = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> String categoryName;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> Integer copies;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="number">12345678910111213141516171819</span></span><br></pre></td></tr></table></figure>

<h3 id="代码开发-5"><a href="#代码开发-5" class="headerlink" title="代码开发"></a>代码开发</h3><p><strong>在DishController类中添加save方法</strong></p>
<ul>
<li>代码逻辑：测试是否可以正常的接收前端传过来的json数据</li>
<li>注意：因为前端传来的是json数据，所以我们需要在参数前添加*@RequestBody*注解</li>
<li>具体代码如下：</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@PostMapping</span></span><br><span class="line">    <span class="keyword">public</span> R&lt;String&gt; <span class="title function_">save</span><span class="params">(<span class="meta">@RequestBody</span> DishDto dishDto)</span>&#123;</span><br><span class="line">        log.info(<span class="string">&quot;接收的dishDto数据：&#123;&#125;&quot;</span>,dishDto.toString());</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="number">12345</span></span><br></pre></td></tr></table></figure>

<h3 id="测试-7"><a href="#测试-7" class="headerlink" title="测试"></a>测试</h3><p><strong>debug方式启动项目，在标记的行处添加断点，用于查看数据</strong><br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164138176.png" alt="在这里插入图片描述"></p>
<p><strong>在添加菜品页面输入数据，点击保存</strong><br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164140004.png" alt="在这里插入图片描述"></p>
<p><strong>来到断点处，查看到数据准确无误的提交到服务端</strong><br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164140299.png" alt="在这里插入图片描述"></p>
<h2 id="10-新增菜品-代码开发-保存数据到菜品表和菜品口味表"><a href="#10-新增菜品-代码开发-保存数据到菜品表和菜品口味表" class="headerlink" title="10-新增菜品_代码开发_保存数据到菜品表和菜品口味表"></a>10-新增菜品_代码开发_保存数据到菜品表和菜品口味表</h2><h3 id="分析-2"><a href="#分析-2" class="headerlink" title="分析"></a>分析</h3><ul>
<li>在保存数据到菜品表和菜品口味表的过程中，我们需要对保存到菜品口味表的数据做相应的处理</li>
<li>取出dishDto的dishId，通过stream流对每一组flavor的dishId赋值</li>
<li>保存菜品口味到菜品数据表</li>
</ul>
<h3 id="代码开发-6"><a href="#代码开发-6" class="headerlink" title="代码开发"></a>代码开发</h3><p><strong>在DishServicelmpl类中添加如下代码</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.itzq.reggie.service.Impl;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.extension.service.impl.ServiceImpl;</span><br><span class="line"><span class="keyword">import</span> com.itzq.reggie.dto.DishDto;</span><br><span class="line"><span class="keyword">import</span> com.itzq.reggie.entity.Dish;</span><br><span class="line"><span class="keyword">import</span> com.itzq.reggie.entity.DishFlavor;</span><br><span class="line"><span class="keyword">import</span> com.itzq.reggie.mapper.DishMapper;</span><br><span class="line"><span class="keyword">import</span> com.itzq.reggie.service.DishFlavorService;</span><br><span class="line"><span class="keyword">import</span> com.itzq.reggie.service.DishService;</span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Autowired;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Service;</span><br><span class="line"><span class="keyword">import</span> org.springframework.transaction.annotation.Transactional;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"><span class="keyword">import</span> java.util.stream.Collectors;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="meta">@Transactional</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">DishServicelmpl</span> <span class="keyword">extends</span> <span class="title class_">ServiceImpl</span>&lt;DishMapper, Dish&gt; <span class="keyword">implements</span> <span class="title class_">DishService</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    DishFlavorService dishFlavorService;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">saveWithFlavor</span><span class="params">(DishDto dishDto)</span> &#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//保存菜品的基本信息到菜品表</span></span><br><span class="line">        <span class="built_in">super</span>.save(dishDto);</span><br><span class="line">        <span class="comment">//获取菜品id</span></span><br><span class="line">        <span class="type">Long</span> <span class="variable">dishId</span> <span class="operator">=</span> dishDto.getId();</span><br><span class="line">        <span class="comment">//获取菜品口味</span></span><br><span class="line">        List&lt;DishFlavor&gt; flavors = dishDto.getFlavors();</span><br><span class="line"></span><br><span class="line">        <span class="comment">//将每条flavor的dishId赋上值</span></span><br><span class="line">        flavors = flavors.stream().map((item) -&gt; &#123;</span><br><span class="line">            item.setDishId(dishId);</span><br><span class="line">            <span class="keyword">return</span> item;</span><br><span class="line">        &#125;).collect(Collectors.toList());</span><br><span class="line"></span><br><span class="line">        <span class="comment">//保存菜品口味数据到菜品口味表</span></span><br><span class="line">        dishFlavorService.saveBatch(flavors);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="number">123456789101112131415161718192021222324252627282930313233343536373839404142434445</span></span><br></pre></td></tr></table></figure>

<p><strong>在ReggieApplication主启动类上，添加注解：@EnableTransactionManagement</strong><br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164140526.png" alt="在这里插入图片描述"></p>
<h2 id="11-新增菜品-代码开发-功能测试"><a href="#11-新增菜品-代码开发-功能测试" class="headerlink" title="11-新增菜品_代码开发_功能测试"></a>11-新增菜品_代码开发_功能测试</h2><h3 id="功能测试-5"><a href="#功能测试-5" class="headerlink" title="功能测试"></a>功能测试</h3><p><strong>前提：在DishController类的save方法中添加代码</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">    <span class="meta">@PostMapping</span></span><br><span class="line">    <span class="keyword">public</span> R&lt;String&gt; <span class="title function_">save</span><span class="params">(<span class="meta">@RequestBody</span> DishDto dishDto)</span>&#123;</span><br><span class="line">        log.info(<span class="string">&quot;接收的dishDto数据：&#123;&#125;&quot;</span>,dishDto.toString());</span><br><span class="line"></span><br><span class="line">        <span class="comment">//保存数据到数据库</span></span><br><span class="line">        dishService.saveWithFlavor(dishDto);</span><br><span class="line">        <span class="keyword">return</span> R.success(<span class="string">&quot;新增菜品成功&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"><span class="number">12345678</span></span><br></pre></td></tr></table></figure>

<p><strong>重启项目，进入添加菜品页面，输入数据，点击保存</strong><br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164140158.png" alt="在这里插入图片描述"></p>
<p><strong>dish表中添加数据成功</strong><br><img src="/../../assets/904531ba241e493eaf391545aa13af8c.png" alt="在这里插入图片描述"></p>
<p><strong>dish_flavor表中添加数据成功，并成功为每组flavor数据附上dishId</strong><br><img src="/../../assets/b9118d29a8114c4c84fc86fe6a924391.png" alt="在这里插入图片描述"></p>
<h2 id="12-菜品信息分页查询-需求分析"><a href="#12-菜品信息分页查询-需求分析" class="headerlink" title="12-菜品信息分页查询_需求分析"></a>12-菜品信息分页查询_需求分析</h2><h3 id="需求分析-10"><a href="#需求分析-10" class="headerlink" title="需求分析"></a>需求分析</h3><ul>
<li>系统中的菜品数据很多的时候，如果在一个页面中全部展示出来会显得比较乱，不便于查看</li>
<li>所以一般的系统中都会以分页的方式来展示列表数据。</li>
</ul>
<p><strong>图片和菜品分类比较特殊</strong></p>
<ul>
<li>图片列：会用到文件的下载功能</li>
<li>菜品分类列：只保存了菜品的category_id，需通过查找category_id所对应的菜品分类名称，从而回显数据<br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164143499.png" alt="在这里插入图片描述"></li>
</ul>
<h2 id="13-菜品信息分页查询-代码开发1"><a href="#13-菜品信息分页查询-代码开发1" class="headerlink" title="13-菜品信息分页查询_代码开发1"></a>13-菜品信息分页查询_代码开发1</h2><h3 id="代码开发-梳理交互过程-1"><a href="#代码开发-梳理交互过程-1" class="headerlink" title="代码开发-梳理交互过程"></a>代码开发-梳理交互过程</h3><p><strong>在开发代码之前，需要梳理一下菜品分页查询时前端页面和服务端的交互过程:</strong></p>
<ol>
<li>页面(backend&#x2F;page&#x2F;food&#x2F;list.html)发送ajax请求，将分页查询参数(page、pageSize、name)，提交到服务端，获取分页数据</li>
<li>页面发送请求，请求服务端进行图片下载，用于页面图片展示</li>
</ol>
<p><strong>开发菜品信息分页查询功能，其实就是在服务端编写代码去处理前端页面发送的这2次请求即可。</strong></p>
<h3 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h3><p><strong>在DishController下，添加page方法，进行分页查询</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">    <span class="meta">@GetMapping(&quot;/page&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> R&lt;Page&gt; <span class="title function_">page</span><span class="params">(<span class="type">int</span> page, <span class="type">int</span> pageSize, String name)</span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//构造分页构造器对象</span></span><br><span class="line">        Page&lt;Dish&gt; pageInfo = <span class="keyword">new</span> <span class="title class_">Page</span>&lt;&gt;();</span><br><span class="line">        <span class="comment">//条件构造器</span></span><br><span class="line">        LambdaQueryWrapper&lt;Dish&gt; queryWrapper = <span class="keyword">new</span> <span class="title class_">LambdaQueryWrapper</span>&lt;&gt;();</span><br><span class="line">        <span class="comment">//添加条件</span></span><br><span class="line">        queryWrapper.like(name != <span class="literal">null</span>,Dish::getName,name);</span><br><span class="line">        queryWrapper.orderByDesc(Dish::getUpdateTime);</span><br><span class="line">        <span class="comment">//执行分页查询</span></span><br><span class="line">        dishService.page(pageInfo,queryWrapper);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> R.success(pageInfo);</span><br><span class="line">    &#125;</span><br><span class="line"><span class="number">123456789101112131415</span></span><br></pre></td></tr></table></figure>

<h3 id="测试-8"><a href="#测试-8" class="headerlink" title="测试"></a>测试</h3><ul>
<li>为什么只有宫保鸡丁有图片的展示效果，因为这是在刚刚添加菜品的时候添加的数据</li>
<li>保证了在服务端存在对应图片名的信息，而其他是菜品是直接从sql文件导入，服务端不一定有对应的图片名</li>
<li>为什么菜品分类中没有数据？</li>
<li>因为服务端传给前端的菜品分类数据不满足前端的要求，所以在页面中不能回显菜品分类数据<br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164143815.png" alt="在这里插入图片描述"></li>
</ul>
<h2 id="14-菜品信息分页查询-代码开发2"><a href="#14-菜品信息分页查询-代码开发2" class="headerlink" title="14-菜品信息分页查询_代码开发2"></a>14-菜品信息分页查询_代码开发2</h2><h3 id="分析-3"><a href="#分析-3" class="headerlink" title="分析"></a>分析</h3><p>在前端页面发现菜品分类对应的prop属性名为categoryName<br><img src="/../../assets/6476e0a3b97845b68a19b612f4999599.png" alt="在这里插入图片描述"></p>
<p>但我们在响应的数据当中并没有发现categoryName字段<br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164143669.png" alt="在这里插入图片描述"></p>
<ul>
<li>页面需要什么数据，服务端就应该返还什么样的数据，所以Dish对象不满足该页面要求</li>
<li>在之前我们创建了DishDto类，发现类中的属性名正好和前端的属性名对应<br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164143257.png" alt="在这里插入图片描述"></li>
</ul>
<h3 id="代码-1"><a href="#代码-1" class="headerlink" title="代码"></a>代码</h3><p><strong>修改DishController中的page方法</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"> 	<span class="meta">@GetMapping(&quot;/page&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> R&lt;Page&gt; <span class="title function_">page</span><span class="params">(<span class="type">int</span> page, <span class="type">int</span> pageSize, String name)</span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//构造分页构造器对象</span></span><br><span class="line">        Page&lt;Dish&gt; pageInfo = <span class="keyword">new</span> <span class="title class_">Page</span>&lt;&gt;();</span><br><span class="line">        Page&lt;DishDto&gt; dishDtoPage = <span class="keyword">new</span> <span class="title class_">Page</span>&lt;&gt;();</span><br><span class="line">        <span class="comment">//条件构造器</span></span><br><span class="line">        LambdaQueryWrapper&lt;Dish&gt; queryWrapper = <span class="keyword">new</span> <span class="title class_">LambdaQueryWrapper</span>&lt;&gt;();</span><br><span class="line">        <span class="comment">//添加条件</span></span><br><span class="line">        queryWrapper.like(name != <span class="literal">null</span>,Dish::getName,name);</span><br><span class="line">        queryWrapper.orderByDesc(Dish::getUpdateTime);</span><br><span class="line">        <span class="comment">//执行分页查询</span></span><br><span class="line">        dishService.page(pageInfo,queryWrapper);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//对象拷贝</span></span><br><span class="line">        BeanUtils.copyProperties(pageInfo,dishDtoPage,<span class="string">&quot;records&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//获取原records数据</span></span><br><span class="line">        List&lt;Dish&gt; records = pageInfo.getRecords();</span><br><span class="line"></span><br><span class="line">        List&lt;DishDto&gt; list = records.stream().map((item) -&gt; &#123;</span><br><span class="line">            <span class="type">DishDto</span> <span class="variable">dishDto</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">DishDto</span>();</span><br><span class="line">            BeanUtils.copyProperties(item,dishDto);</span><br><span class="line">            <span class="type">Long</span> <span class="variable">categoryId</span> <span class="operator">=</span> item.getCategoryId();  <span class="comment">//分类id</span></span><br><span class="line">            <span class="type">Category</span> <span class="variable">category</span> <span class="operator">=</span> categoryService.getById(categoryId);</span><br><span class="line">            <span class="type">String</span> <span class="variable">categoryName</span> <span class="operator">=</span> category.getName();</span><br><span class="line">            dishDto.setCategoryName(categoryName);</span><br><span class="line">            <span class="keyword">return</span> dishDto;</span><br><span class="line">        &#125;).collect(Collectors.toList());</span><br><span class="line"></span><br><span class="line">        dishDtoPage.setRecords(list);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> R.success(dishDtoPage);</span><br><span class="line">    &#125;</span><br><span class="line"><span class="number">12345678910111213141516171819202122232425262728293031323334</span></span><br></pre></td></tr></table></figure>

<h2 id="15-菜品信息分页查询-功能测试"><a href="#15-菜品信息分页查询-功能测试" class="headerlink" title="15-菜品信息分页查询_功能测试"></a>15-菜品信息分页查询_功能测试</h2><h3 id="功能测试-6"><a href="#功能测试-6" class="headerlink" title="功能测试"></a>功能测试</h3><p><strong>前提</strong></p>
<p>我们需要在分页方法中添加判空条件，若查询的数据为空，经过判断后跳过部分代码，就不会爆空指针异常<br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164148072.png" alt="在这里插入图片描述"></p>
<p><strong>启动项目，点击菜品管理，可以看见页面展现的菜品分类信息</strong><br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164145617.png" alt="在这里插入图片描述"></p>
<h2 id="16-修改菜品-需求分析-amp-梳理交互过程"><a href="#16-修改菜品-需求分析-amp-梳理交互过程" class="headerlink" title="16-修改菜品_需求分析&amp;梳理交互过程"></a>16-修改菜品_需求分析&amp;梳理交互过程</h2><h3 id="需求分析-11"><a href="#需求分析-11" class="headerlink" title="需求分析"></a>需求分析</h3><ul>
<li>在菜品管理列表页面点击修改按钮，跳转到修改菜品页面</li>
<li>在修改页面回显菜品相关信息并进行修改</li>
<li>最后点击确定按钮完成修改操作<br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164145435.png" alt="在这里插入图片描述"></li>
</ul>
<h3 id="代码开发-梳理交互过程-2"><a href="#代码开发-梳理交互过程-2" class="headerlink" title="代码开发-梳理交互过程"></a>代码开发-梳理交互过程</h3><p><strong>在开发代码之前，需要梳理一下修改菜品时前端页面( add.html)和服务端的交互过程:</strong></p>
<ol>
<li>页面发送ajax请求，请求服务端获取分类数据，用于菜品分类下拉框中数据展示(已完成)</li>
<li>页面发送ajax请求，请求服务端，根据id查询当前菜品信息，用于菜品信息回显</li>
<li>页面发送请求，请求服务端进行图片下载，用于页图片回显(已完成)</li>
<li>点击保存按钮，页面发送ajax请求，将修改后的菜品相关数据以json形式提交到服务端</li>
</ol>
<p><strong>开发修改菜品功能，其实就是在服务端编写代码去处理前端页面发送的这4次请求即可。</strong></p>
<h2 id="17-修改菜品-代码开发-根据id查询对应的菜品和口味信息"><a href="#17-修改菜品-代码开发-根据id查询对应的菜品和口味信息" class="headerlink" title="17-修改菜品_代码开发_根据id查询对应的菜品和口味信息"></a>17-修改菜品_代码开发_根据id查询对应的菜品和口味信息</h2><h3 id="代码-2"><a href="#代码-2" class="headerlink" title="代码"></a>代码</h3><p><strong>在DishService接口中添加方法*getByIdWithFlavor*</strong><br><img src="/../../assets/8609322928b84cfda12f72f8c5a07170.png" alt="在这里插入图片描述"></p>
<p><strong>在DishServicelmpl中实现*getByIdWithFlavor*方法，并添加逻辑代码</strong></p>
<ul>
<li>根据服务端接收的id，查询菜品的基本信息-dish</li>
<li>创建dishDto对象，并将查询到的dish对象属性赋值给dishDto</li>
<li>根据查询到的dish对象，可以取出对应的菜品id，再通过等值条件查询，查询到DishFlavor数据信息</li>
<li>将查询到的flavor数据信息使用set方法赋值给dishDto对象</li>
<li>返回dishDto对象</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> DishDto <span class="title function_">getByIdWithFlavor</span><span class="params">(Long id)</span> &#123;</span><br><span class="line">        <span class="comment">//通过id查询菜品基本信息</span></span><br><span class="line">        <span class="type">Dish</span> <span class="variable">dish</span> <span class="operator">=</span> <span class="built_in">super</span>.getById(id);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//创建dto对象</span></span><br><span class="line">        <span class="type">DishDto</span> <span class="variable">dishDto</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">DishDto</span>();</span><br><span class="line"></span><br><span class="line">        <span class="comment">//对象拷贝</span></span><br><span class="line">        BeanUtils.copyProperties(dish,dishDto);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//条件查询flavor</span></span><br><span class="line">        LambdaQueryWrapper&lt;DishFlavor&gt; queryWrapper = <span class="keyword">new</span> <span class="title class_">LambdaQueryWrapper</span>&lt;&gt;();</span><br><span class="line">        queryWrapper.eq(DishFlavor::getDishId,dish.getId());</span><br><span class="line">        List&lt;DishFlavor&gt; list = dishFlavorService.list(queryWrapper);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//将查询到的flavor赋值到dto对象中</span></span><br><span class="line">        dishDto.setFlavors(list);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> dishDto;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="number">123456789101112131415161718192021</span></span><br></pre></td></tr></table></figure>

<p><strong>在DishController中添加get方法，实现添加在DishServicelmpl中的逻辑代码，返回查询到的数据信息</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@GetMapping(&quot;/&#123;id&#125;&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> R&lt;DishDto&gt; <span class="title function_">get</span><span class="params">(<span class="meta">@PathVariable</span> Long id)</span>&#123;</span><br><span class="line">        <span class="comment">//查询</span></span><br><span class="line">        <span class="type">DishDto</span> <span class="variable">dishDto</span> <span class="operator">=</span> dishService.getByIdWithFlavor(id);</span><br><span class="line"> </span><br><span class="line">        <span class="keyword">return</span> R.success(dishDto);</span><br><span class="line">    &#125;</span><br><span class="line"><span class="number">1234567</span></span><br></pre></td></tr></table></figure>

<h2 id="18-修改菜品-代码开发-测试数据回显"><a href="#18-修改菜品-代码开发-测试数据回显" class="headerlink" title="18-修改菜品_代码开发_测试数据回显"></a>18-修改菜品_代码开发_测试数据回显</h2><h3 id="测试数据回显"><a href="#测试数据回显" class="headerlink" title="测试数据回显"></a>测试数据回显</h3><p><strong>在DishController的get方法中加入断点</strong><br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164145659.png" alt="在这里插入图片描述"></p>
<p><strong>进入菜品管理，点击修改菜品按钮，程序跳转到断点处，查询回显的dishDto数据是否成功</strong><br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164146018.png" alt="在这里插入图片描述"></p>
<p><strong>页面回显成功</strong><br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164147635.png" alt="在这里插入图片描述"></p>
<h2 id="19-修改菜品-代码开发-修改菜品信息和口味信息"><a href="#19-修改菜品-代码开发-修改菜品信息和口味信息" class="headerlink" title="19-修改菜品_代码开发_修改菜品信息和口味信息"></a>19-修改菜品_代码开发_修改菜品信息和口味信息</h2><h3 id="分析前端页面发送的请求"><a href="#分析前端页面发送的请求" class="headerlink" title="分析前端页面发送的请求"></a>分析前端页面发送的请求</h3><ul>
<li>请求的地址:：<a target="_blank" rel="noopener" href="http://localhost:8080/dish">http://localhost:8080/dish</a></li>
<li>请求的方式：put<br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164149919.png" alt="在这里插入图片描述"></li>
<li>发送到服务端的数据为json数据<br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164150108.png" alt="在这里插入图片描述"></li>
</ul>
<h3 id="代码-3"><a href="#代码-3" class="headerlink" title="代码"></a>代码</h3><p><strong>在DishService接口中添加updateWithFlavor方法</strong><br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164148493.png" alt="在这里插入图片描述"></p>
<p><strong>DishServicelmpl类中实现DishService定义的方法，并添加代码逻辑</strong></p>
<ul>
<li>根据id修改菜品的基本信息</li>
<li>通过dish_id,删除菜品的flavor</li>
<li>获取前端提交的flavor数据</li>
<li>为条flavor的dishId属性赋值</li>
<li>将数据批量保存到dish_flavor数据库</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"> <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">updateWithFlavor</span><span class="params">(DishDto dishDto)</span> &#123;</span><br><span class="line">        <span class="comment">//根据id修改菜品的基本信息</span></span><br><span class="line">        <span class="built_in">super</span>.updateById(dishDto);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//通过dish_id,删除菜品的flavor</span></span><br><span class="line">        LambdaQueryWrapper&lt;DishFlavor&gt; queryWrapper = <span class="keyword">new</span> <span class="title class_">LambdaQueryWrapper</span>&lt;&gt;();</span><br><span class="line">        queryWrapper.eq(DishFlavor::getDishId,dishDto.getId());</span><br><span class="line">        dishFlavorService.remove(queryWrapper);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//获取前端提交的flavor数据</span></span><br><span class="line">        List&lt;DishFlavor&gt; flavors = dishDto.getFlavors();</span><br><span class="line"></span><br><span class="line">        <span class="comment">//将每条flavor的dishId赋值</span></span><br><span class="line">        flavors = flavors.stream().map((item) -&gt; &#123;</span><br><span class="line">            item.setDishId(dishDto.getId());</span><br><span class="line">            <span class="keyword">return</span> item;</span><br><span class="line">        &#125;).collect(Collectors.toList());</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="comment">//将数据批量保存到dish_flavor数据库</span></span><br><span class="line">        dishFlavorService.saveBatch(flavors);</span><br><span class="line">    &#125;</span><br><span class="line"><span class="number">1234567891011121314151617181920212223</span></span><br></pre></td></tr></table></figure>

<p><strong>在DishController类中添加方法update，并调用updateWithFlavor方法实现表中数据的修改</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">    <span class="meta">@PutMapping</span></span><br><span class="line">    <span class="keyword">public</span> R&lt;String&gt; <span class="title function_">update</span><span class="params">(<span class="meta">@RequestBody</span> DishDto dishDto)</span>&#123;</span><br><span class="line"></span><br><span class="line">        log.info(<span class="string">&quot;接收的dishDto数据：&#123;&#125;&quot;</span>,dishDto.toString());</span><br><span class="line"></span><br><span class="line">        <span class="comment">//更新数据库中的数据</span></span><br><span class="line">        dishService.updateWithFlavor(dishDto);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> R.success(<span class="string">&quot;新增菜品成功&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"><span class="number">12345678910</span></span><br></pre></td></tr></table></figure>

<h2 id="20-修改菜品-功能测试"><a href="#20-修改菜品-功能测试" class="headerlink" title="20-修改菜品_功能测试"></a>20-修改菜品_功能测试</h2><h3 id="功能测试-7"><a href="#功能测试-7" class="headerlink" title="功能测试"></a>功能测试</h3><p><strong>启动项目，来到菜品管理界面</strong></p>
<ul>
<li>要修改菜品的初始值<br><img src="/../../assets/afd035aa26bd42508773d25d3ccfadec.png" alt="在这里插入图片描述"></li>
<li>点击修改，输入想要修改的信息，点击保存<br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164147681.png" alt="在这里插入图片描述"></li>
<li>跳转到菜品管理界面，修改菜品信息成功<br><img src="/../../assets/44aa1a3938194deca9e3c5b6d27abe6a.png" alt="在这里插入图片描述"></li>
</ul>
<h1 id="业务开发Day5"><a href="#业务开发Day5" class="headerlink" title="业务开发Day5"></a>业务开发Day5</h1><h2 id="01-本章内容介绍-4"><a href="#01-本章内容介绍-4" class="headerlink" title="01-本章内容介绍"></a>01-本章内容介绍</h2><h3 id="效果展示"><a href="#效果展示" class="headerlink" title="效果展示"></a>效果展示</h3><ul>
<li>套餐管理界面<br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916165109531.png" alt="在这里插入图片描述"></li>
<li>新增套餐界面<br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916165111294.png" alt="在这里插入图片描述"></li>
<li>客户端展示<br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_16,color_FFFFFF,t_70,g_se,x_16-20220916165111334.png" alt="在这里插入图片描述"></li>
</ul>
<h3 id="目录-4"><a href="#目录-4" class="headerlink" title="目录"></a>目录</h3><ol>
<li>新增套餐</li>
<li>套餐信息分页查询</li>
<li>删除套餐</li>
</ol>
<h2 id="02-新增套餐-需求分析-amp-数据模型"><a href="#02-新增套餐-需求分析-amp-数据模型" class="headerlink" title="02-新增套餐_需求分析&amp;数据模型"></a>02-新增套餐_需求分析&amp;数据模型</h2><h3 id="需求分析-12"><a href="#需求分析-12" class="headerlink" title="需求分析"></a>需求分析</h3><ul>
<li>套餐就是菜品的集合</li>
<li>后台系统中可以管理套餐信息，通过新增套餐功能来添加一个新的套餐</li>
<li>在添加套餐时需要选择当前套餐所属的套餐分类和包含的菜品，并且需要上传套餐对应的图片</li>
<li>在移动端会按照套餐分类来展示对应的套餐。</li>
</ul>
<h3 id="数据模型-2"><a href="#数据模型-2" class="headerlink" title="数据模型"></a>数据模型</h3><ul>
<li>新增套餐，其实就是将新增页面录入的套餐信息插入到setmeal表，还需要向setmeal_dish表插入套餐和菜品关联数据</li>
<li>所以在新增套餐时，涉及到两个表:</li>
</ul>
<ol>
<li>setmeal—-套餐表</li>
<li>setmeal_dish—-套餐菜品关系表</li>
</ol>
<p><strong>setmeal</strong><br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916165110274.png" alt="在这里插入图片描述"></p>
<p><strong>setmeal_dish</strong><br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916165111832.png" alt="在这里插入图片描述"></p>
<h2 id="03-新增套餐-代码开发-准备工作-amp-梳理交互过程"><a href="#03-新增套餐-代码开发-准备工作-amp-梳理交互过程" class="headerlink" title="03-新增套餐_代码开发_准备工作&amp;梳理交互过程"></a>03-新增套餐_代码开发_准备工作&amp;梳理交互过程</h2><h3 id="代码开发-准备工作-1"><a href="#代码开发-准备工作-1" class="headerlink" title="代码开发-准备工作"></a>代码开发-准备工作</h3><p><strong>在开发业务功能前，先将需要用到的类和接口基本结构创建好:</strong></p>
<ol>
<li>实体类SetmealDish(直接从课程资料中导入即可，Setmeal实体前面课程中已经导入过了)</li>
<li>DTO SetmealDto (直接从课程资料中导入即可)</li>
<li>Mapper接口SetmealDishMapper</li>
<li>业务层接口SetmealDishService</li>
<li>业务层实现类SetmealDishservicelmpl</li>
<li>控制层SetmealController</li>
</ol>
<p><strong>SetmealDish—实体类</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.itzq.reggie.entity;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.annotation.FieldFill;</span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.annotation.TableField;</span><br><span class="line"><span class="keyword">import</span> lombok.Data;</span><br><span class="line"><span class="keyword">import</span> java.io.Serializable;</span><br><span class="line"><span class="keyword">import</span> java.math.BigDecimal;</span><br><span class="line"><span class="keyword">import</span> java.time.LocalDateTime;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 套餐菜品关系</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SetmealDish</span> <span class="keyword">implements</span> <span class="title class_">Serializable</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">long</span> <span class="variable">serialVersionUID</span> <span class="operator">=</span> <span class="number">1L</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> Long id;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//套餐id</span></span><br><span class="line">    <span class="keyword">private</span> Long setmealId;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//菜品id</span></span><br><span class="line">    <span class="keyword">private</span> Long dishId;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//菜品名称 （冗余字段）</span></span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//菜品原价</span></span><br><span class="line">    <span class="keyword">private</span> BigDecimal price;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//份数</span></span><br><span class="line">    <span class="keyword">private</span> Integer copies;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//排序</span></span><br><span class="line">    <span class="keyword">private</span> Integer sort;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="meta">@TableField(fill = FieldFill.INSERT)</span></span><br><span class="line">    <span class="keyword">private</span> LocalDateTime createTime;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="meta">@TableField(fill = FieldFill.INSERT_UPDATE)</span></span><br><span class="line">    <span class="keyword">private</span> LocalDateTime updateTime;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="meta">@TableField(fill = FieldFill.INSERT)</span></span><br><span class="line">    <span class="keyword">private</span> Long createUser;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="meta">@TableField(fill = FieldFill.INSERT_UPDATE)</span></span><br><span class="line">    <span class="keyword">private</span> Long updateUser;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//是否删除</span></span><br><span class="line">    <span class="keyword">private</span> Integer isDeleted;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="number">1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162</span></span><br></pre></td></tr></table></figure>

<p><strong>DTO SetmealDto—数据传输对象</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.itzq.reggie.dto;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.itzq.reggie.entity.Setmeal;</span><br><span class="line"><span class="keyword">import</span> com.itzq.reggie.entity.SetmealDish;</span><br><span class="line"><span class="keyword">import</span> lombok.Data;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SetmealDto</span> <span class="keyword">extends</span> <span class="title class_">Setmeal</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> List&lt;SetmealDish&gt; setmealDishes;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> String categoryName;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="number">12345678910111213141516</span></span><br></pre></td></tr></table></figure>

<p><strong>SetmealDishMapper接口</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.itzq.reggie.mapper;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.core.mapper.BaseMapper;</span><br><span class="line"><span class="keyword">import</span> com.itzq.reggie.entity.SetmealDish;</span><br><span class="line"><span class="keyword">import</span> org.apache.ibatis.annotations.Mapper;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Mapper</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">SetmealDishMapper</span> <span class="keyword">extends</span> <span class="title class_">BaseMapper</span>&lt;SetmealDish&gt; &#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="number">1234567891011</span></span><br></pre></td></tr></table></figure>

<p><strong>SetmealDishService接口</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.itzq.reggie.service;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.extension.service.IService;</span><br><span class="line"><span class="keyword">import</span> com.itzq.reggie.entity.SetmealDish;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">SetmealDishService</span> <span class="keyword">extends</span> <span class="title class_">IService</span>&lt;SetmealDish&gt; &#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="number">12345678</span></span><br></pre></td></tr></table></figure>

<p><strong>SetmealDishservicelmpl实现类</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.itzq.reggie.service.Impl;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.extension.service.impl.ServiceImpl;</span><br><span class="line"><span class="keyword">import</span> com.itzq.reggie.entity.SetmealDish;</span><br><span class="line"><span class="keyword">import</span> com.itzq.reggie.mapper.SetmealDishMapper;</span><br><span class="line"><span class="keyword">import</span> com.itzq.reggie.service.SetmealDishService;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Service;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SetmealDishServiceImpl</span> <span class="keyword">extends</span> <span class="title class_">ServiceImpl</span>&lt;SetmealDishMapper,SetmealDish&gt; <span class="keyword">implements</span> <span class="title class_">SetmealDishService</span> &#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="number">123456789101112</span></span><br></pre></td></tr></table></figure>

<p><strong>SetmealController控制层</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.itzq.reggie.controller;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.itzq.reggie.service.SetmealDishService;</span><br><span class="line"><span class="keyword">import</span> com.itzq.reggie.service.SetmealService;</span><br><span class="line"><span class="keyword">import</span> lombok.extern.slf4j.Slf4j;</span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Autowired;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RequestMapping;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RestController;</span><br><span class="line"></span><br><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="meta">@RequestMapping(&quot;/setmeal&quot;)</span></span><br><span class="line"><span class="meta">@Slf4j</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SetmealController</span> &#123;</span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> SetmealService setmealService;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> SetmealDishService setmealDishService;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"><span class="number">1234567891011121314151617181920</span></span><br></pre></td></tr></table></figure>

<h3 id="代码开发-梳理交互过程-3"><a href="#代码开发-梳理交互过程-3" class="headerlink" title="代码开发-梳理交互过程"></a>代码开发-梳理交互过程</h3><p><strong>在开发代码之前，需要梳理一下新增套餐时前端页面和服务端的交互过程:</strong></p>
<ol>
<li>页面(backend&#x2F;page&#x2F;combo&#x2F;add.html)发送ajax请求，请求服务端获取套餐分类数据并展示到下拉框中（已完成）</li>
<li>页面发送ajax请求，请求服务端，获取菜品分类数据并展示到添加菜品窗口中</li>
<li>页面发送ajax请求，请求服务端，根据菜品分类查询对应的菜品数据并展示到添加菜品窗口中</li>
<li>页面发送请求进行图片上传，请求服务端将图片保存到服务器（已完成）</li>
<li>页面发送请求进行图片下载，将上传的图片进行回显（已完成）</li>
<li>点击保存按钮，发送ajax请求，将套餐相关数据以json形式提交到服务端</li>
</ol>
<p><em>开发新增套餐功能，其实就是在服务端编写代码去处理前端页面发送的这6次请求即可</em></p>
<h2 id="04-新增套餐-代码开发-根据分类查询菜品"><a href="#04-新增套餐-代码开发-根据分类查询菜品" class="headerlink" title="04-新增套餐_代码开发_根据分类查询菜品"></a>04-新增套餐_代码开发_根据分类查询菜品</h2><h3 id="前端分析-1"><a href="#前端分析-1" class="headerlink" title="前端分析"></a>前端分析</h3><p><strong>启动项目，进入套餐管理，点击新建套餐，会发现页面发送的请求未被服务端接收</strong><br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916165114780.png" alt="在这里插入图片描述"></p>
<p><strong>爆系统接口异常，服务端未定义查询菜品的方法</strong><br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916165111986.png" alt="在这里插入图片描述"></p>
<h3 id="相关代码-1"><a href="#相关代码-1" class="headerlink" title="相关代码"></a>相关代码</h3><p><strong>在DishController类中，添加list方法</strong><br><em>注意：需要添加额外的查询条件，只查询status为1的数据，表示该菜品为起售状态，才能被加入套餐中，供用户选择</em></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">    <span class="meta">@GetMapping(&quot;/list&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> R&lt;List&lt;Dish&gt;&gt; <span class="title function_">list</span><span class="params">(Dish dish)</span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//构造查询条件</span></span><br><span class="line">        LambdaQueryWrapper&lt;Dish&gt; queryWrapper = <span class="keyword">new</span> <span class="title class_">LambdaQueryWrapper</span>&lt;&gt;();</span><br><span class="line">        queryWrapper.eq(dish.getCategoryId() != <span class="literal">null</span>, Dish::getCategoryId, dish.getCategoryId());</span><br><span class="line">        <span class="comment">//添加条件，查询状态为1（1为起售，0为停售）的菜品</span></span><br><span class="line">        queryWrapper.eq(Dish::getStatus,<span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">        List&lt;Dish&gt; list = dishService.list(queryWrapper);</span><br><span class="line">        <span class="comment">//添加排序条件</span></span><br><span class="line">        <span class="keyword">return</span> R.success(list);</span><br><span class="line">    &#125;</span><br><span class="line"><span class="number">12345678910111213</span></span><br></pre></td></tr></table></figure>

<p><strong>重启项目，发现查询数据成功，并回显到前端页面</strong><br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916165110280.png" alt="img"></p>
<h2 id="05-新增套餐-代码开发-服务端接收页面提交的数据"><a href="#05-新增套餐-代码开发-服务端接收页面提交的数据" class="headerlink" title="05-新增套餐_代码开发_服务端接收页面提交的数据"></a>05-新增套餐_代码开发_服务端接收页面提交的数据</h2><h3 id="前端分析-2"><a href="#前端分析-2" class="headerlink" title="前端分析"></a>前端分析</h3><p><strong>启动项目，来到添加套餐页面，输入数据，点击保存</strong><br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916165111909.png" alt="在这里插入图片描述"></p>
<p><strong>查看前端页面发送的请求，请求方式</strong><br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916165111824.png" alt="在这里插入图片描述"></p>
<p><strong>前端页面传输json数据给服务端</strong><br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916165111715.png" alt="在这里插入图片描述"></p>
<h3 id="相关代码（测试版）"><a href="#相关代码（测试版）" class="headerlink" title="相关代码（测试版）"></a>相关代码（测试版）</h3><p><strong>在SetmealController类中添加save方法</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@PostMapping</span></span><br><span class="line">    <span class="keyword">public</span> R&lt;String&gt; <span class="title function_">save</span><span class="params">(<span class="meta">@RequestBody</span> SetmealDto setmealDto)</span>&#123;</span><br><span class="line">        log.info(<span class="string">&quot;数据传输对象setmealDto:&#123;&#125;&quot;</span>,setmealDto.toString());</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="number">12345</span></span><br></pre></td></tr></table></figure>

<p><strong>添加断点</strong><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916165113367.png" alt="在这里插入图片描述"></p>
<p><strong>debug方式重启项目，来到添加套餐页面，输入数据，点击保存</strong><br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916165112280.png" alt="在这里插入图片描述"></p>
<p><strong>跳转到服务端，查看是否接收到客服端提交的数据，发现数据成功接收</strong><br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916165113479.png" alt="在这里插入图片描述"></p>
<h2 id="06-新增套餐-代码开发-保存数据到对应表"><a href="#06-新增套餐-代码开发-保存数据到对应表" class="headerlink" title="06-新增套餐_代码开发_保存数据到对应表"></a>06-新增套餐_代码开发_保存数据到对应表</h2><h3 id="相关代码-2"><a href="#相关代码-2" class="headerlink" title="相关代码"></a>相关代码</h3><p><strong>在SetmealService接口，添加saveWithDish方法</strong><br><img src="/../../assets/962f00773cf94ccbb23c30497aa039dc.png" alt="在这里插入图片描述"></p>
<p><strong>实现类SetmealServicelmpl，实现接口添加的方法，并向方法中添加代码逻辑</strong></p>
<ul>
<li>保存套餐的基本信息</li>
<li>保存套餐和菜品的关联信息</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="meta">@Transactional</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">saveWithDish</span><span class="params">(SetmealDto setmealDto)</span> &#123;</span><br><span class="line">        <span class="comment">//保存套餐的基本信息，操作setmeal，执行insert操作</span></span><br><span class="line">        save(setmealDto);</span><br><span class="line"></span><br><span class="line">        List&lt;SetmealDish&gt; setmealDishes = setmealDto.getSetmealDishes();</span><br><span class="line"></span><br><span class="line">        setmealDishes = setmealDishes.stream().map((item) -&gt; &#123;</span><br><span class="line">            item.setSetmealId(setmealDto.getId());</span><br><span class="line">            <span class="keyword">return</span> item;</span><br><span class="line">        &#125;).collect(Collectors.toList());</span><br><span class="line"></span><br><span class="line">        <span class="comment">//保存套餐和菜品的关联信息</span></span><br><span class="line">        setmealDishService.saveBatch(setmealDishes);</span><br><span class="line">    &#125;</span><br><span class="line"><span class="number">12345678910111213141516</span></span><br></pre></td></tr></table></figure>

<p><strong>在SetmealController控制层的save方法中，调用saveWithDish方法，将数据保存至数据库</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">    <span class="meta">@PostMapping</span></span><br><span class="line">    <span class="keyword">public</span> R&lt;String&gt; <span class="title function_">save</span><span class="params">(<span class="meta">@RequestBody</span> SetmealDto setmealDto)</span>&#123;</span><br><span class="line">        log.info(<span class="string">&quot;数据传输对象setmealDto:&#123;&#125;&quot;</span>,setmealDto.toString());</span><br><span class="line">        setmealService.saveWithDish(setmealDto);</span><br><span class="line">        <span class="keyword">return</span> R.success(<span class="string">&quot;新增套餐成功&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"><span class="number">123456</span></span><br></pre></td></tr></table></figure>

<h2 id="07-新增套餐-代码开发-功能测试"><a href="#07-新增套餐-代码开发-功能测试" class="headerlink" title="07-新增套餐_代码开发_功能测试"></a>07-新增套餐_代码开发_功能测试</h2><h3 id="功能测试-8"><a href="#功能测试-8" class="headerlink" title="功能测试"></a>功能测试</h3><p><strong>来到新增套餐页面，输入数据，点击保存</strong><br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916165113298.png" alt="在这里插入图片描述"></p>
<p><strong>setmeal_dish表—数据插入成功</strong><br><img src="/../../assets/41aac8b1fed44ee8ad90595db68c57a4.png" alt="在这里插入图片描述"></p>
<p><strong>setmeal—数据插入成功</strong><br><img src="/../../assets/8f72203cce52485d9daa061190d5dc21.png" alt="在这里插入图片描述"></p>
<h2 id="08-套餐信息分页查询-需求分析-amp-梳理交互过程"><a href="#08-套餐信息分页查询-需求分析-amp-梳理交互过程" class="headerlink" title="08-套餐信息分页查询_需求分析&amp;梳理交互过程"></a>08-套餐信息分页查询_需求分析&amp;梳理交互过程</h2><h3 id="需求分析-13"><a href="#需求分析-13" class="headerlink" title="需求分析"></a>需求分析</h3><ul>
<li>系统中的套餐数据很多的时候，如果在一个页面中全部展示出来会显得比较乱，不便于查看</li>
<li>一般的系统中都会以分页的方式来展示列表数据</li>
</ul>
<h3 id="梳理交互过程"><a href="#梳理交互过程" class="headerlink" title="梳理交互过程"></a>梳理交互过程</h3><p><strong>在开发代码之前，需要梳理一下套餐分页查询时前端页面和服务端的交互过程:</strong></p>
<ol>
<li>页面(backend&#x2F;page&#x2F;combo&#x2F;list.html)发送ajax请求，将分页查询参数(page、pageSize、name)提交到服务端，获取分页数据</li>
<li>页面发送请求，请求服务端进行图片下载，用于页面图片展示</li>
</ol>
<p><em>开发套餐信息分页查询功能，其实就是在服务端编写代码去处理前端页面发送的这2次请求即可</em></p>
<h2 id="09-套餐信息分页查询-代码开发-amp-功能测试"><a href="#09-套餐信息分页查询-代码开发-amp-功能测试" class="headerlink" title="09-套餐信息分页查询_代码开发&amp;功能测试"></a>09-套餐信息分页查询_代码开发&amp;功能测试</h2><h3 id="前端分析-3"><a href="#前端分析-3" class="headerlink" title="前端分析"></a>前端分析</h3><p><strong>点击套餐管理，前端页面发送ajax请求，请求方式：get</strong><br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916165113615.png" alt="在这里插入图片描述"></p>
<h3 id="代码开发-7"><a href="#代码开发-7" class="headerlink" title="代码开发"></a>代码开发</h3><p><strong>SetmealController类中，添加list方法</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@GetMapping(&quot;/page&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> R&lt;Page&gt; <span class="title function_">list</span><span class="params">(<span class="type">int</span> page,<span class="type">int</span> pageSize,String name)</span>&#123;</span><br><span class="line">        <span class="comment">//分页构造器对象</span></span><br><span class="line">        Page&lt;Setmeal&gt; pageInfo = <span class="keyword">new</span> <span class="title class_">Page</span>&lt;&gt;(page, pageSize);</span><br><span class="line">        Page&lt;SetmealDto&gt; dtoPage = <span class="keyword">new</span> <span class="title class_">Page</span>&lt;&gt;();</span><br><span class="line"></span><br><span class="line">        <span class="comment">//构造查询条件对象</span></span><br><span class="line">        LambdaQueryWrapper&lt;Setmeal&gt; queryWrapper = <span class="keyword">new</span> <span class="title class_">LambdaQueryWrapper</span>&lt;&gt;();</span><br><span class="line">        queryWrapper.eq(name != <span class="literal">null</span>, Setmeal::getName, name);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//操作数据库</span></span><br><span class="line">        setmealService.page(pageInfo,queryWrapper);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//对象拷贝</span></span><br><span class="line">        BeanUtils.copyProperties(pageInfo,dtoPage,<span class="string">&quot;records&quot;</span>);</span><br><span class="line"></span><br><span class="line">        List&lt;Setmeal&gt; records = pageInfo.getRecords();</span><br><span class="line"></span><br><span class="line">        List&lt;SetmealDto&gt; list = records.stream().map((item) -&gt; &#123;</span><br><span class="line">            <span class="type">SetmealDto</span> <span class="variable">setmealDto</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">SetmealDto</span>();</span><br><span class="line">            BeanUtils.copyProperties(item, setmealDto);</span><br><span class="line">            <span class="comment">//获取categoryId</span></span><br><span class="line">            <span class="type">Long</span> <span class="variable">categoryId</span> <span class="operator">=</span> item.getCategoryId();</span><br><span class="line">            <span class="type">Category</span> <span class="variable">category</span> <span class="operator">=</span> categoryService.getById(categoryId);</span><br><span class="line">            <span class="keyword">if</span> (category != <span class="literal">null</span>) &#123;</span><br><span class="line">                <span class="type">String</span> <span class="variable">categoryName</span> <span class="operator">=</span> category.getName();</span><br><span class="line">                setmealDto.setCategoryName(categoryName);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">return</span> setmealDto;</span><br><span class="line">        &#125;).collect(Collectors.toList());</span><br><span class="line"></span><br><span class="line">        dtoPage.setRecords(list);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> R.success(dtoPage);</span><br><span class="line">    &#125;</span><br><span class="line"><span class="number">1234567891011121314151617181920212223242526272829303132333435</span></span><br></pre></td></tr></table></figure>

<p><em>注意</em><br>在套餐管理界面，套餐分类字段显示的是categoryId对应的中文，但在数据库里查询到的是categoryId，因此需要利用categoryId查询到categoryName，并赋值给数据传输对象SetmealDto</p>
<h3 id="功能测试-9"><a href="#功能测试-9" class="headerlink" title="功能测试"></a>功能测试</h3><p><strong>启动项目，点击套餐管理，前端发送ajax请求，服务端接收前端发出的请求，并做相应的处理，向页面返回数据</strong><br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916165114324.png" alt="在这里插入图片描述"><br><strong>数据成功回显到页面</strong></p>
<h2 id="10-删除套餐-需求分析-amp-梳理交互过程"><a href="#10-删除套餐-需求分析-amp-梳理交互过程" class="headerlink" title="10-删除套餐_需求分析&amp;梳理交互过程"></a>10-删除套餐_需求分析&amp;梳理交互过程</h2><h3 id="需求分析-14"><a href="#需求分析-14" class="headerlink" title="需求分析"></a>需求分析</h3><ul>
<li>在套餐管理列表页面点击删除按钮，可以删除对应的套餐信息</li>
<li>也可以通过复选框选择多个套餐，点击批量删除按钮一次删除多个套餐</li>
<li><em>注意</em>，对于状态为售卖中的套餐不能删除，需要先停售，然后才能删除。</li>
</ul>
<h3 id="梳理交互过程-1"><a href="#梳理交互过程-1" class="headerlink" title="梳理交互过程"></a>梳理交互过程</h3><p><strong>在开发代码之前，需要梳理一下删除套餐时前端页面和服务端的交互过程:</strong></p>
<ol>
<li>删除单个套餐时，页面发送ajax请求，根据套餐id删除对应套餐<br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916165113883.png" alt="在这里插入图片描述"></li>
<li>删除多个套餐时，页面发送ajax请求，根据提交的多个套餐id删除对应套餐开发删除套餐功能<br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916165113943.png" alt="在这里插入图片描述"><br><strong>其实就是在服务端编写代码去处理前端页面发送的这2次请求即可</strong></li>
</ol>
<p><strong>注意</strong></p>
<ul>
<li>观察删除单个套餐和批量删除套餐的请求信息可以发现，两种请求的地址和请求方式都是相同的</li>
<li>不同的则是传递的id个数，所以在服务端可以提供一个方法来统一处理。</li>
</ul>
<h2 id="11-删除套餐-代码开发-amp-功能测试"><a href="#11-删除套餐-代码开发-amp-功能测试" class="headerlink" title="11-删除套餐_代码开发&amp;功能测试"></a>11-删除套餐_代码开发&amp;功能测试</h2><h3 id="代码开发（测试）"><a href="#代码开发（测试）" class="headerlink" title="代码开发（测试）"></a>代码开发（测试）</h3><p><strong>在SetmealController中添加delete方法</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">    <span class="meta">@DeleteMapping</span></span><br><span class="line">    <span class="keyword">public</span> R&lt;String&gt; <span class="title function_">delete</span><span class="params">(<span class="meta">@RequestParam</span> List&lt;Long&gt; ids)</span>&#123;</span><br><span class="line">        log.info(<span class="string">&quot;ids为：&quot;</span>,ids);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="number">123456</span></span><br></pre></td></tr></table></figure>

<p><strong>在delete方法上，添加断点</strong><br><img src="/../../assets/28c1fe9332114bcfad93c003f9e07faf.png" alt="在这里插入图片描述"></p>
<p><strong>debug方式启动项目，来到套餐管理页面，点击删除按钮</strong><br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916165114268.png" alt="在这里插入图片描述"></p>
<p><strong>跳转到服务端，查询ids可知服务端成功接收到前端传来的数据信息</strong><br><img src="/../../assets/553b34861a9f4cfe845b1d09555f4649.png" alt="在这里插入图片描述"></p>
<h3 id="代码开发（完善）"><a href="#代码开发（完善）" class="headerlink" title="代码开发（完善）"></a>代码开发（完善）</h3><p><strong>在SetmealService接口中添加removeWithDish方法</strong><br><img src="/../../assets/9ccdea282c2247609be1ad9c5b782a63.png" alt="在这里插入图片描述"></p>
<p><strong>在SetmealServicelmpl实现类中实现对应接口中添加的方法</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">	<span class="meta">@Override</span></span><br><span class="line">    <span class="meta">@Transactional</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">removeWithDish</span><span class="params">(List&lt;Long&gt; ids)</span> &#123;</span><br><span class="line">        <span class="comment">//select count(*) from setmeal where ids in(1,2,3) and status = 1</span></span><br><span class="line">        <span class="comment">//查询套餐状态，确定是否可以删除</span></span><br><span class="line">        LambdaQueryWrapper&lt;Setmeal&gt; queryWrapper = <span class="keyword">new</span> <span class="title class_">LambdaQueryWrapper</span>&lt;&gt;();</span><br><span class="line">        queryWrapper.in(Setmeal::getId,ids);</span><br><span class="line">        queryWrapper.eq(Setmeal::getStatus,<span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">        <span class="type">int</span> <span class="variable">count</span> <span class="operator">=</span> <span class="built_in">super</span>.count(queryWrapper);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (count &gt; <span class="number">0</span>)&#123;</span><br><span class="line">            <span class="comment">//如果不能删除，抛出一个业务异常</span></span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">CustomException</span>(<span class="string">&quot;套餐正在售卖中，不能删除&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//如果可以删除，先删除套餐表中的数据</span></span><br><span class="line">        <span class="built_in">super</span>.removeByIds(ids);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//删除关系表中的数据</span></span><br><span class="line">        <span class="comment">//delete from setmeal_dish where setmeal_id in(1,2,3)</span></span><br><span class="line">        LambdaQueryWrapper&lt;SetmealDish&gt; dishLambdaQueryWrapper = <span class="keyword">new</span> <span class="title class_">LambdaQueryWrapper</span>&lt;&gt;();</span><br><span class="line">        dishLambdaQueryWrapper.in(SetmealDish::getSetmealId,ids);</span><br><span class="line"></span><br><span class="line">        setmealDishService.remove(dishLambdaQueryWrapper);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"><span class="number">12345678910111213141516171819202122232425262728</span></span><br></pre></td></tr></table></figure>

<p><strong>在SetmealController中完善代码—调用removeWithDish方法，实现套餐数据删除成功</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@DeleteMapping</span></span><br><span class="line">    <span class="keyword">public</span> R&lt;String&gt; <span class="title function_">delete</span><span class="params">(<span class="meta">@RequestParam</span> List&lt;Long&gt; ids)</span>&#123;</span><br><span class="line">        log.info(<span class="string">&quot;ids为：&quot;</span>,ids);</span><br><span class="line">        setmealService.removeWithDish(ids);</span><br><span class="line">        <span class="keyword">return</span> R.success(<span class="string">&quot;套餐数据删除成功&quot;</span>);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="number">12345678</span></span><br></pre></td></tr></table></figure>

<p><strong>注意：将setmeal表中status字段值改为0—为停售状态，方便测试</strong><br><img src="/../../assets/b0fd9d301b97483daba2163f707f7e57.png" alt="在这里插入图片描述"></p>
<p><strong>重启项目，来到套餐管理界面，点击删除按钮</strong><br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916165114717.png" alt="在这里插入图片描述"></p>
<p><strong>页面显示删除成功</strong><br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916165115024.png" alt="在这里插入图片描述"></p>
<p><strong>setmeal表中该行已被删除</strong><br><img src="/../../assets/f9cd3a9280b94019b8264a94660fc0e5.png" alt="在这里插入图片描述"></p>
<h2 id="12-本章内容介绍"><a href="#12-本章内容介绍" class="headerlink" title="12-本章内容介绍"></a>12-本章内容介绍</h2><h3 id="手机验证码登录"><a href="#手机验证码登录" class="headerlink" title="手机验证码登录"></a>手机验证码登录</h3><ul>
<li>点击获取验证码</li>
<li>收到短信，并输入验证码</li>
<li>点击登录，登录成功<br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_12,color_FFFFFF,t_70,g_se,x_16.png" alt="在这里插入图片描述"></li>
</ul>
<p><strong>客户端登录成功页面</strong><br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_11,color_FFFFFF,t_70,g_se,x_16-20220916165118031.png" alt="在这里插入图片描述"></p>
<h3 id="本章内容介绍"><a href="#本章内容介绍" class="headerlink" title="本章内容介绍"></a>本章内容介绍</h3><ol>
<li>短信发送</li>
<li>手机验证码登录（基于阿里云讲解）</li>
</ol>
<h2 id="13-短信发送-短信服务介绍和阿里云短信服务介绍"><a href="#13-短信发送-短信服务介绍和阿里云短信服务介绍" class="headerlink" title="13-短信发送_短信服务介绍和阿里云短信服务介绍"></a>13-短信发送_短信服务介绍和阿里云短信服务介绍</h2><h3 id="短信服务介绍"><a href="#短信服务介绍" class="headerlink" title="短信服务介绍"></a>短信服务介绍</h3><ul>
<li>目前市面上有很多第三方提供的短信服务，这些第三方短信服务会和各个运营商（移动、联通、电信）对接</li>
<li>我们只需要注册成为会员并且按照提供的开发文档进行调用就可以发送短信<br>-* 需要说明的是*，这些短信服务一般都是收费服务</li>
</ul>
<p><strong>常用短信服务:</strong></p>
<ul>
<li>阿里云</li>
<li>华为云</li>
<li>腾讯云</li>
<li>京东</li>
<li>梦网</li>
<li>乐信</li>
</ul>
<p><strong>阿里云短信服务（Short Message Service)是广大企业客户快速触达手机用户所优选使用的通信能力。调用API或用群发助手，即可发送验证码、通知类和营销类短信;国内验证短信秒级触达，到达率最高可达99%;国际&#x2F;港澳台短信覆盖200多个国家和地区，安全稳定，广受出海企业选用。</strong></p>
<p><strong>应用场景:</strong></p>
<ul>
<li>验证码</li>
<li>推广短信</li>
<li>推广短信</li>
</ul>
<h3 id="阿里云短信服务介绍"><a href="#阿里云短信服务介绍" class="headerlink" title="阿里云短信服务介绍"></a>阿里云短信服务介绍</h3><p>打开浏览器，登录阿里云—网址：<a target="_blank" rel="noopener" href="https://cn.aliyun.com/">https://cn.aliyun.com/</a></p>
<p><strong>点击产品，在搜索框中输入短信服务，并点击搜索</strong><br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916165118094.png" alt="在这里插入图片描述"></p>
<p><strong>来到短信息服务界面</strong><br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916165118227.png" alt="在这里插入图片描述"></p>
<p><strong>选择符合自己业务需求的短信套餐包</strong><br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916165118687.png" alt="在这里插入图片描述"></p>
<h2 id="14-短信发送-阿里云短信服务"><a href="#14-短信发送-阿里云短信服务" class="headerlink" title="14-短信发送_阿里云短信服务"></a>14-短信发送_阿里云短信服务</h2><h3 id="设置短信签名"><a href="#设置短信签名" class="headerlink" title="设置短信签名"></a>设置短信签名</h3><p><strong>开通短信服务之后，进入短信服务管理页面，选择国内消息菜单，我们需要在这里添加短信签名</strong><br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916165118368.png" alt="在这里插入图片描述"></p>
<p><strong>什么是短信签名？</strong></p>
<ul>
<li>短信签名是短信发送者的署名，表示发送方的身份</li>
<li>我们要调用阿里云短信服务发送短信，签名是必不可少的部分</li>
</ul>
<p><strong>添加短信签名方式</strong><br><em>注意：个人申请签名是有一定的难度的，所以我们只需要了解一下使用短信签名的具体流程</em><br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916165120993.png" alt="在这里插入图片描述"></p>
<h3 id="设置短信模板"><a href="#设置短信模板" class="headerlink" title="设置短信模板"></a>设置短信模板</h3><p><strong>切换到【模板管理】标签页：</strong><br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916165118042.png" alt="在这里插入图片描述"><br><em>短信模板包含短信发送内容、场景、变量信息</em></p>
<p><strong>每一个被设置好的模板有一个短信模板详情，模板详情包含了模板的6条信息</strong><br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916165121114.png" alt="在这里插入图片描述"></p>
<p><strong>添加模板，并且提交后审核通过</strong><br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916165124448.png" alt="在这里插入图片描述"></p>
<h3 id="设置AccessKey"><a href="#设置AccessKey" class="headerlink" title="设置AccessKey"></a>设置AccessKey</h3><p><strong>AccessKey 是访问阿里云 API 的密钥，具有账户的完全权限，我们要想在后面通过API调用阿里云短信服务的接口发送短信，那么就必须要设置AccessKey。</strong></p>
<p><strong>光标移动到用户头像上，在弹出的窗口中点击【AccessKey管理】︰</strong><br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_13,color_FFFFFF,t_70,g_se,x_16-20220916165118632.png" alt="在这里插入图片描述"></p>
<p><strong>进入到AccessKey的管理界面之后，提示两个选项：</strong></p>
<ol>
<li>继续使用AccessKey</li>
<li>开始使用子用户AccessKey<br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916165119005.png" alt="在这里插入图片描述"></li>
</ol>
<p><strong>区别：</strong></p>
<ol>
<li>继续使用AccessKey</li>
</ol>
<ul>
<li>如果选择的是该选项，我们创建的是阿里云账号的AccessKey，是<em>具有账户的完全权限</em></li>
<li>有了这个AccessKey之后，我们就可以通过API调用阿里云服务，不仅是短信服务，其他服务也可以调用</li>
<li>相对来说，并不安全，当前的AccessKey泄露，会影响到当前账户的其他云服务。</li>
</ul>
<ol>
<li>开始使用子用户AccessKey</li>
</ol>
<ul>
<li>可以创建一个子用户,这个子用户可以分配比较低的权限,比如仅分配短信发送的权限，不具备操作其他的服务的权限</li>
<li>即使这个AccessKey泄漏了,也不会影响其他的云服务, 相对安全。</li>
</ul>
<p><strong>创建子用户AccessKey。</strong></p>
<ol>
<li>点击创建用户<br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916165119437.png" alt="在这里插入图片描述"></li>
<li>输入登录名称和显示名称（都是自定义），选择—Open API调用访问<br><em>注意：在java代码当中使用这个用户，所以我们选择—Open API调用访问</em><br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916165119529.png" alt="在这里插入图片描述"></li>
<li>成功创建子用户AccessKey</li>
</ol>
<ul>
<li>AccessKey ID：用户名</li>
<li>AccessKey Secret：密码</li>
<li><strong>需要将这对用户名和密码保存起来，后面在我们的程序当中会使用</strong><br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916165120437.png" alt="在这里插入图片描述"></li>
</ul>
<h3 id="权限管理"><a href="#权限管理" class="headerlink" title="权限管理"></a>权限管理</h3><p><strong>在新创建的子用户下点击添加权限</strong><br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916165119854.png" alt="在这里插入图片描述"></p>
<p><strong>因为我们只需要使用短信服务，所以我们在搜索框输入sms，点击需要添加的权限</strong><br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916165120432.png" alt="在这里插入图片描述"></p>
<p><strong>授权成功</strong><br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916165120811.png" alt="在这里插入图片描述"><br><em>表示当前我们只给该用户授予了两个权限，即使用户名和密码泄露，其他人也只能调用短信服务</em><br><em>授权成功之后就可以用代码的方式来调用短信服务</em></p>
<p><strong>AccessKey泄露需要进行的处理</strong></p>
<ul>
<li>AccessKey泄露出去，别人就可以使用我们的 AccessKey来发送短信，我们就需要收回我们的 AccessKey</li>
<li>我们可以禁用或者删除对应的 AccessKey</li>
<li>操作之后，相当于这个 AccessKey就作废了<br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916165126620.png" alt="在这里插入图片描述"></li>
</ul>
<h2 id="15-短信发送-代码开发-参照官方文档封装发送短信工具类"><a href="#15-短信发送-代码开发-参照官方文档封装发送短信工具类" class="headerlink" title="15-短信发送_代码开发_参照官方文档封装发送短信工具类"></a>15-短信发送_代码开发_参照官方文档封装发送短信工具类</h2><h3 id="参照官方文档"><a href="#参照官方文档" class="headerlink" title="参照官方文档"></a>参照官方文档</h3><p>使用阿里云短信服务发送短信，可以参照官方提供的文档即可。</p>
<p><strong>具体开发步骤:</strong></p>
<ol>
<li>导入maven坐标</li>
</ol>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">&lt;dependency&gt;</span><br><span class="line">    &lt;groupId&gt;com.aliyun&lt;/groupId&gt;</span><br><span class="line">    &lt;artifactId&gt;aliyun-java-sdk-core&lt;/artifactId&gt;</span><br><span class="line">    &lt;version&gt;<span class="number">4.5</span><span class="number">.16</span>&lt;/version&gt;</span><br><span class="line">&lt;/dependency&gt;</span><br><span class="line">&lt;dependency&gt;</span><br><span class="line">    &lt;groupId&gt;com.aliyun&lt;/groupId&gt;</span><br><span class="line">    &lt;artifactId&gt;aliyun-java-sdk-dysmsapi&lt;/artifactId&gt;</span><br><span class="line">    &lt;version&gt;<span class="number">2.1</span><span class="number">.0</span>&lt;/version&gt;</span><br><span class="line">&lt;/dependency&gt;</span><br><span class="line"><span class="number">12345678910</span></span><br></pre></td></tr></table></figure>

<ol>
<li>在reggie包下新建utils包，导入该工具类</li>
</ol>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.itzq.reggie.utils;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.aliyuncs.DefaultAcsClient;</span><br><span class="line"><span class="keyword">import</span> com.aliyuncs.IAcsClient;</span><br><span class="line"><span class="keyword">import</span> com.aliyuncs.dysmsapi.model.v20170525.SendSmsRequest;</span><br><span class="line"><span class="keyword">import</span> com.aliyuncs.dysmsapi.model.v20170525.SendSmsResponse;</span><br><span class="line"><span class="keyword">import</span> com.aliyuncs.exceptions.ClientException;</span><br><span class="line"><span class="keyword">import</span> com.aliyuncs.profile.DefaultProfile;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 短信发送工具类</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SMSUtils</span> &#123;</span><br><span class="line"></span><br><span class="line">	<span class="comment">/**</span></span><br><span class="line"><span class="comment">	 * 发送短信</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@param</span> signName 签名</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@param</span> templateCode 模板</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@param</span> phoneNumbers 手机号</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@param</span> param 参数</span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">sendMessage</span><span class="params">(String signName, String templateCode,String phoneNumbers,String param)</span>&#123;</span><br><span class="line">		<span class="type">DefaultProfile</span> <span class="variable">profile</span> <span class="operator">=</span> DefaultProfile.getProfile(<span class="string">&quot;cn-hangzhou&quot;</span>, <span class="string">&quot;&quot;</span>, <span class="string">&quot;&quot;</span>);</span><br><span class="line">		<span class="type">IAcsClient</span> <span class="variable">client</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">DefaultAcsClient</span>(profile);</span><br><span class="line"></span><br><span class="line">		<span class="type">SendSmsRequest</span> <span class="variable">request</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">SendSmsRequest</span>();</span><br><span class="line">		request.setSysRegionId(<span class="string">&quot;cn-hangzhou&quot;</span>);</span><br><span class="line">		request.setPhoneNumbers(phoneNumbers);</span><br><span class="line">		request.setSignName(signName);</span><br><span class="line">		request.setTemplateCode(templateCode);</span><br><span class="line">		request.setTemplateParam(<span class="string">&quot;&#123;\&quot;code\&quot;:\&quot;&quot;</span>+param+<span class="string">&quot;\&quot;&#125;&quot;</span>);</span><br><span class="line">		<span class="keyword">try</span> &#123;</span><br><span class="line">			<span class="type">SendSmsResponse</span> <span class="variable">response</span> <span class="operator">=</span> client.getAcsResponse(request);</span><br><span class="line">			System.out.println(<span class="string">&quot;短信发送成功&quot;</span>);</span><br><span class="line">		&#125;<span class="keyword">catch</span> (ClientException e) &#123;</span><br><span class="line">			e.printStackTrace();</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="number">1234567891011121314151617181920212223242526272829303132333435363738394041</span></span><br></pre></td></tr></table></figure>

<p><strong>查看短信服务产品文档的java SDK，了解短信服务java SDK的使用方法以及示例</strong><br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916165123201.png" alt="在这里插入图片描述"></p>
<h2 id="16-手机验证码登录-需求分析-数据模型"><a href="#16-手机验证码登录-需求分析-数据模型" class="headerlink" title="16-手机验证码登录_需求分析_数据模型"></a>16-手机验证码登录_需求分析_数据模型</h2><h3 id="需求分析-15"><a href="#需求分析-15" class="headerlink" title="需求分析"></a>需求分析</h3><p><strong>为了方便用户登录，移动端通常都会提供通过手机验证码登录的功能</strong></p>
<p><strong>手机验证码登录的优点：</strong></p>
<ul>
<li>方便快捷，无需注册，直接登录</li>
<li>使用短信验证码作为登录凭证，无需记忆密码</li>
<li>安全</li>
</ul>
<p><strong>登录流程:</strong></p>
<ul>
<li>输入手机号 &gt; 获取验证码 &gt; 输入验证码 &gt; 点击登录 &gt; 登录成功</li>
</ul>
<p><em>注意:通过手机验证码登录，手机号是区分不同用户的标识</em></p>
<p><strong>用户登录端界面</strong><br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_13,color_FFFFFF,t_70,g_se,x_16-20220916165123146.png" alt="在这里插入图片描述"></p>
<h3 id="数据模型-3"><a href="#数据模型-3" class="headerlink" title="数据模型"></a>数据模型</h3><p><strong>通过手机验证码登录时，涉及的表为user表，即用户表。结构如下:</strong><br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916165124565.png" alt="在这里插入图片描述"></p>
<p><strong>注意：</strong></p>
<ul>
<li>手机号是区分不同用户的标识，在用户登录的时候判断所输入的手机号是否存储在表中</li>
<li>如果不在表中，说明该用户为一个新的用户，将该用户自动保在user表中</li>
</ul>
<h2 id="17-手机验证码登录-代码开发-梳理交互过程-amp-修改LoginCheckFilter"><a href="#17-手机验证码登录-代码开发-梳理交互过程-amp-修改LoginCheckFilter" class="headerlink" title="17-手机验证码登录_代码开发_梳理交互过程&amp;修改LoginCheckFilter"></a>17-手机验证码登录_代码开发_梳理交互过程&amp;修改LoginCheckFilter</h2><h3 id="梳理交互过程-2"><a href="#梳理交互过程-2" class="headerlink" title="梳理交互过程"></a>梳理交互过程</h3><p><strong>在开发代码之前，需要梳理一下登录时前端页面和服务端的交互过程:</strong></p>
<ol>
<li>在登录页面(front&#x2F;page&#x2F;login.html)输入手机号，点击【获取验证码】按钮，页面发送ajax请求，在服务端调用短信服务API给指定手机号发送验证码短信</li>
<li>在登录页面输入验证码，点击【登录】按钮，发送ajax请求，在服务端处理登录请求</li>
</ol>
<p><em>开发手机验证码登录功能，其实就是在服务端编写代码去处理前端页面发送的这2次请求即可。</em></p>
<h3 id="代码开发-准备工作-2"><a href="#代码开发-准备工作-2" class="headerlink" title="代码开发-准备工作"></a>代码开发-准备工作</h3><p>在开发业务功能前，先将需要用到的类和接口基本结构创建好：</p>
<ul>
<li>实体类user (直接从课程资料中导入即可)</li>
<li>Mapper接口UserMapper</li>
<li>业务层接口UserService</li>
<li>业务层实现类UserServicelmpl</li>
<li>控制层UserController</li>
<li>工具类SMSutils、ValidateCodeutils(直接从课程资料中导入即可)</li>
</ul>
<p>实体类user</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.itzq.reggie.entity;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> lombok.Data;</span><br><span class="line"><span class="keyword">import</span> java.time.LocalDateTime;</span><br><span class="line"><span class="keyword">import</span> java.util.Date;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"><span class="keyword">import</span> java.io.Serializable;</span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.annotation.IdType;</span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.annotation.TableId;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 用户信息</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">User</span> <span class="keyword">implements</span> <span class="title class_">Serializable</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">long</span> <span class="variable">serialVersionUID</span> <span class="operator">=</span> <span class="number">1L</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> Long id;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//姓名</span></span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//手机号</span></span><br><span class="line">    <span class="keyword">private</span> String phone;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//性别 0 女 1 男</span></span><br><span class="line">    <span class="keyword">private</span> String sex;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//身份证号</span></span><br><span class="line">    <span class="keyword">private</span> String idNumber;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//头像</span></span><br><span class="line">    <span class="keyword">private</span> String avatar;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//状态 0:禁用，1:正常</span></span><br><span class="line">    <span class="keyword">private</span> Integer status;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="number">1234567891011121314151617181920212223242526272829303132333435363738394041424344</span></span><br></pre></td></tr></table></figure>

<p>Mapper接口UserMapper</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.itzq.reggie.mapper;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.core.mapper.BaseMapper;</span><br><span class="line"><span class="keyword">import</span> com.itzq.reggie.entity.User;</span><br><span class="line"><span class="keyword">import</span> org.apache.ibatis.annotations.Mapper;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Mapper</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">UserMapper</span> <span class="keyword">extends</span> <span class="title class_">BaseMapper</span>&lt;User&gt; &#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="number">12345678910</span></span><br></pre></td></tr></table></figure>

<p>业务层接口UserService</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.itzq.reggie.service;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.extension.service.IService;</span><br><span class="line"><span class="keyword">import</span> com.itzq.reggie.entity.User;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">UserService</span> <span class="keyword">extends</span> <span class="title class_">IService</span>&lt;User&gt; &#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="number">12345678</span></span><br></pre></td></tr></table></figure>

<p>业务层实现类UserServicelmpl</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.itzq.reggie.service.Impl;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.extension.service.impl.ServiceImpl;</span><br><span class="line"><span class="keyword">import</span> com.itzq.reggie.entity.User;</span><br><span class="line"><span class="keyword">import</span> com.itzq.reggie.mapper.UserMapper;</span><br><span class="line"><span class="keyword">import</span> com.itzq.reggie.service.UserService;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Service;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">UserServicelmpl</span> <span class="keyword">extends</span> <span class="title class_">ServiceImpl</span>&lt;UserMapper, User&gt; <span class="keyword">implements</span> <span class="title class_">UserService</span> &#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="number">123456789101112</span></span><br></pre></td></tr></table></figure>

<p>控制层UserController</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.itzq.reggie.controller;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.itzq.reggie.service.UserService;</span><br><span class="line"><span class="keyword">import</span> lombok.extern.slf4j.Slf4j;</span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Autowired;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RequestMapping;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RestController;</span><br><span class="line"></span><br><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="meta">@RequestMapping(&quot;/user&quot;)</span></span><br><span class="line"><span class="meta">@Slf4j</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">UserController</span> &#123;</span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> UserService userService;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="number">1234567891011121314151617</span></span><br></pre></td></tr></table></figure>

<p>工具类SMSutils、ValidateCodeutils(直接从课程资料中导入即可)</p>
<ol>
<li>SMSutils类</li>
</ol>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.itzq.reggie.utils;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.aliyuncs.DefaultAcsClient;</span><br><span class="line"><span class="keyword">import</span> com.aliyuncs.IAcsClient;</span><br><span class="line"><span class="keyword">import</span> com.aliyuncs.dysmsapi.model.v20170525.SendSmsRequest;</span><br><span class="line"><span class="keyword">import</span> com.aliyuncs.dysmsapi.model.v20170525.SendSmsResponse;</span><br><span class="line"><span class="keyword">import</span> com.aliyuncs.exceptions.ClientException;</span><br><span class="line"><span class="keyword">import</span> com.aliyuncs.profile.DefaultProfile;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 短信发送工具类</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SMSUtils</span> &#123;</span><br><span class="line"></span><br><span class="line">	<span class="comment">/**</span></span><br><span class="line"><span class="comment">	 * 发送短信</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@param</span> signName 签名</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@param</span> templateCode 模板</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@param</span> phoneNumbers 手机号</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@param</span> param 参数</span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">sendMessage</span><span class="params">(String signName, String templateCode,String phoneNumbers,String param)</span>&#123;</span><br><span class="line">		<span class="type">DefaultProfile</span> <span class="variable">profile</span> <span class="operator">=</span> DefaultProfile.getProfile(<span class="string">&quot;cn-hangzhou&quot;</span>, <span class="string">&quot;&quot;</span>, <span class="string">&quot;&quot;</span>);</span><br><span class="line">		<span class="type">IAcsClient</span> <span class="variable">client</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">DefaultAcsClient</span>(profile);</span><br><span class="line"></span><br><span class="line">		<span class="type">SendSmsRequest</span> <span class="variable">request</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">SendSmsRequest</span>();</span><br><span class="line">		request.setSysRegionId(<span class="string">&quot;cn-hangzhou&quot;</span>);</span><br><span class="line">		request.setPhoneNumbers(phoneNumbers);</span><br><span class="line">		request.setSignName(signName);</span><br><span class="line">		request.setTemplateCode(templateCode);</span><br><span class="line">		request.setTemplateParam(<span class="string">&quot;&#123;\&quot;code\&quot;:\&quot;&quot;</span>+param+<span class="string">&quot;\&quot;&#125;&quot;</span>);</span><br><span class="line">		<span class="keyword">try</span> &#123;</span><br><span class="line">			<span class="type">SendSmsResponse</span> <span class="variable">response</span> <span class="operator">=</span> client.getAcsResponse(request);</span><br><span class="line">			System.out.println(<span class="string">&quot;短信发送成功&quot;</span>);</span><br><span class="line">		&#125;<span class="keyword">catch</span> (ClientException e) &#123;</span><br><span class="line">			e.printStackTrace();</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="number">1234567891011121314151617181920212223242526272829303132333435363738394041</span></span><br></pre></td></tr></table></figure>

<ol>
<li>ValidateCodeutils类</li>
</ol>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.itzq.reggie.utils;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Random;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 随机生成验证码工具类</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ValidateCodeUtils</span> &#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 随机生成验证码</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> length 长度为4位或者6位</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> Integer <span class="title function_">generateValidateCode</span><span class="params">(<span class="type">int</span> length)</span>&#123;</span><br><span class="line">        <span class="type">Integer</span> <span class="variable">code</span> <span class="operator">=</span><span class="literal">null</span>;</span><br><span class="line">        <span class="keyword">if</span>(length == <span class="number">4</span>)&#123;</span><br><span class="line">            code = <span class="keyword">new</span> <span class="title class_">Random</span>().nextInt(<span class="number">9999</span>);<span class="comment">//生成随机数，最大为9999</span></span><br><span class="line">            <span class="keyword">if</span>(code &lt; <span class="number">1000</span>)&#123;</span><br><span class="line">                code = code + <span class="number">1000</span>;<span class="comment">//保证随机数为4位数字</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span>(length == <span class="number">6</span>)&#123;</span><br><span class="line">            code = <span class="keyword">new</span> <span class="title class_">Random</span>().nextInt(<span class="number">999999</span>);<span class="comment">//生成随机数，最大为999999</span></span><br><span class="line">            <span class="keyword">if</span>(code &lt; <span class="number">100000</span>)&#123;</span><br><span class="line">                code = code + <span class="number">100000</span>;<span class="comment">//保证随机数为6位数字</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">RuntimeException</span>(<span class="string">&quot;只能生成4位或6位数字验证码&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> code;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 随机生成指定长度字符串验证码</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> length 长度</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> String <span class="title function_">generateValidateCode4String</span><span class="params">(<span class="type">int</span> length)</span>&#123;</span><br><span class="line">        <span class="type">Random</span> <span class="variable">rdm</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Random</span>();</span><br><span class="line">        <span class="type">String</span> <span class="variable">hash1</span> <span class="operator">=</span> Integer.toHexString(rdm.nextInt());</span><br><span class="line">        <span class="type">String</span> <span class="variable">capstr</span> <span class="operator">=</span> hash1.substring(<span class="number">0</span>, length);</span><br><span class="line">        <span class="keyword">return</span> capstr;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="number">1234567891011121314151617181920212223242526272829303132333435363738394041424344</span></span><br></pre></td></tr></table></figure>

<h3 id="修改LoginCheckFilter"><a href="#修改LoginCheckFilter" class="headerlink" title="修改LoginCheckFilter"></a>修改LoginCheckFilter</h3><p><strong>前面我们已经完成了LoginCheckFilter过滤器的开发，此过滤器用于检查用户的登录状态。我们在进行手机验证码登录时，发送的请求需要在此过滤器处理时直接放行。</strong></p>
<p><strong>在LoginCheckFilter类中的urls数组中，添加下面两条数据</strong></p>
<ol>
<li>“&#x2F;user&#x2F;sendMsg”, &#x2F;&#x2F;移动端发送短信</li>
<li>“&#x2F;user&#x2F;login” &#x2F;&#x2F;移动端登录<br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_16,color_FFFFFF,t_70,g_se,x_16-20220916165122756.png" alt="在这里插入图片描述"></li>
</ol>
<p><strong>启动项目，在浏览器中输入访问地址：<a target="_blank" rel="noopener" href="http://localhost:8080/front/page/login.html">http://localhost:8080/front/page/login.html</a></strong><br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916165124955.png" alt="在这里插入图片描述"></p>
<p><em>注意：</em><br>使用h5开发的，自适应手机屏幕的大小，在浏览器中，需使用浏览器的手机模式打开，下面为具体步骤：</p>
<ol>
<li>按住F12，弹出对应的页面</li>
<li>点击红色方框所标注的位置，将页面切换至手机浏览模式<br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916165127736.png" alt="在这里插入图片描述"></li>
</ol>
<p><strong>成功显示用户登录页面</strong><br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_17,color_FFFFFF,t_70,g_se,x_16-20220916165128322.png" alt="在这里插入图片描述"></p>
<p><strong>在LoginCheckFilter类下添加代码，判断用户是否登录</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"> 		<span class="comment">//4-2 判断登录状态，如果已登录，则直接放行</span></span><br><span class="line">        <span class="keyword">if</span>(request.getSession().getAttribute(<span class="string">&quot;user&quot;</span>) != <span class="literal">null</span>)&#123;</span><br><span class="line">            log.info(<span class="string">&quot;用户已登录，用户id为：&#123;&#125;&quot;</span>,request.getSession().getAttribute(<span class="string">&quot;user&quot;</span>));</span><br><span class="line"></span><br><span class="line">            <span class="type">Long</span> <span class="variable">userId</span> <span class="operator">=</span> (Long)request.getSession().getAttribute(<span class="string">&quot;user&quot;</span>);</span><br><span class="line">            BaseContext.setCurrentId(userId);</span><br><span class="line"></span><br><span class="line">            filterChain.doFilter(request,response);</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line"><span class="number">12345678910</span></span><br></pre></td></tr></table></figure>

<p><strong>添加代码的位置</strong><br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916165127807.png" alt="在这里插入图片描述"></p>
<h2 id="18-手机验证码登录-代码开发-发送验证码短信"><a href="#18-手机验证码登录-代码开发-发送验证码短信" class="headerlink" title="18-手机验证码登录_代码开发_发送验证码短信"></a>18-手机验证码登录_代码开发_发送验证码短信</h2><h3 id="注意"><a href="#注意" class="headerlink" title="注意"></a>注意</h3><p><strong>在给出的前端资源资料中，login.html是被后面章节修改过的，因此我们需要重新导入front目录</strong><br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916165128963.png" alt="在这里插入图片描述"></p>
<p><strong>在给出的代码目录中，找到day05下的front目录，复制该目录，将项目中的front目录覆盖</strong><br><img src="/../../assets/0f775d4f99d64cdaba8c4c6d469502ae.png" alt="在这里插入图片描述"><br><strong>修改完成后，访问前端页面可能出现问题，因此我们需要重启项目，删除浏览器中的数据</strong><br><strong>若还是不能解决，关闭idea，重新打开idea代码编辑器</strong></p>
<h3 id="前端分析-4"><a href="#前端分析-4" class="headerlink" title="前端分析"></a>前端分析</h3><p><strong>在用户登录界面中，输入电话号码，点击获取验证码，页面会发送一个ajax请求</strong><br>请求地址：<a target="_blank" rel="noopener" href="http://localhost:8080/user/sendMsg">http://localhost:8080/user/sendMsg</a><br>请求方式：POST<br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916165128940.png" alt="在这里插入图片描述"></p>
<h3 id="代码开发-8"><a href="#代码开发-8" class="headerlink" title="代码开发"></a>代码开发</h3><p><strong>注意</strong></p>
<ul>
<li>发送短信只需要调用封装的工具类中的方法即可</li>
<li>使用手机号登录功能流程跑通，在测试中我们不用真正的发送短信，只需要将验证码信息，通过日志输出</li>
<li>登录时，我们直接从控制台就可以看到生成的验证码(实际上也就是发送到我们手机上的验证码)</li>
</ul>
<p><strong>在UserController控制层中，添加sendMsg方法</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">	<span class="meta">@PostMapping(&quot;/sendMsg&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> R&lt;String&gt; <span class="title function_">sendMsg</span><span class="params">(<span class="meta">@RequestBody</span> User user, HttpSession session)</span>&#123;</span><br><span class="line">        <span class="comment">//获取手机号</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">phone</span> <span class="operator">=</span> user.getPhone();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (StringUtils.isNotEmpty(phone))&#123;</span><br><span class="line">            <span class="comment">//生成随机的4位验证码</span></span><br><span class="line">            <span class="type">String</span> <span class="variable">code</span> <span class="operator">=</span> ValidateCodeUtils.generateValidateCode4String(<span class="number">4</span>);</span><br><span class="line">            log.info(<span class="string">&quot;code=&#123;&#125;&quot;</span>,code);</span><br><span class="line"></span><br><span class="line">            <span class="comment">//调用阿里云提供的短信服务API完成短信发送</span></span><br><span class="line">            <span class="comment">//SMSUtils.sendMessage(&quot;瑞吉外卖&quot;,&quot;&quot;,phone,code);</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">//需要将生成的验证码保存到session</span></span><br><span class="line">            session.setAttribute(phone,code);</span><br><span class="line">            <span class="keyword">return</span> R.success(<span class="string">&quot;短信发送成功&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> R.error(<span class="string">&quot;短信发送失败&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"><span class="number">12345678910111213141516171819</span></span><br></pre></td></tr></table></figure>

<h3 id="测试-9"><a href="#测试-9" class="headerlink" title="测试"></a>测试</h3><ul>
<li>重启项目，在浏览器地址栏中输入地址：<a target="_blank" rel="noopener" href="http://localhost:8080/front/page/login.html">http://localhost:8080/front/page/login.html</a></li>
<li>来到登录页面，输入手机号，点击获取验证码<br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_14,color_FFFFFF,t_70,g_se,x_16-20220916165130675.png" alt="在这里插入图片描述"></li>
<li>后端获取到生成的验证码<br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916165130620.png" alt="在这里插入图片描述"></li>
<li>在用户登录页面上，输入验证码，点击登录<br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_14,color_FFFFFF,t_70,g_se,x_16-20220916165129442.png" alt="在这里插入图片描述"></li>
<li>报404错误，后端还没有处理该请求的代码<br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916165130659.png" alt="在这里插入图片描述"></li>
</ul>
<h2 id="19-手机验证码登录-代码开发-登录效验"><a href="#19-手机验证码登录-代码开发-登录效验" class="headerlink" title="19-手机验证码登录_代码开发_登录效验"></a>19-手机验证码登录_代码开发_登录效验</h2><h3 id="前端分析-5"><a href="#前端分析-5" class="headerlink" title="前端分析"></a>前端分析</h3><p><strong>来到用户登录界面，按住F12，点击登录按钮，页面发送ajax请求，查看请求的地址以及方式</strong><br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916165130786.png" alt="在这里插入图片描述"></p>
<p><strong>页面以json数据格式传输给服务端</strong><br><img src="/../../assets/5a5a86f2c14d4e16b9b431b5b37f762c.png" alt="在这里插入图片描述"></p>
<h3 id="代码开发-9"><a href="#代码开发-9" class="headerlink" title="代码开发"></a>代码开发</h3><p><strong>在UserController控制层类中，添加login方法，测试服务端是否可以接受前端提交的数据</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">	<span class="meta">@PostMapping(&quot;/login&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> R&lt;String&gt; <span class="title function_">login</span><span class="params">(<span class="meta">@RequestBody</span> Map map, HttpSession session)</span>&#123;</span><br><span class="line"></span><br><span class="line">        log.info(map.toString());</span><br><span class="line">        <span class="keyword">return</span> R.error(<span class="string">&quot;短信发送失败&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="number">1234567</span></span><br></pre></td></tr></table></figure>

<p><strong>重启项目，来到用户登录界面，输入正确手机号，点击获取验证码，查看服务端日志打印出的验证码信息，输入验证码，点击登录，前端发送ajax请求</strong><br><img src="https://img-blog.csdnimg.cn/fefcf7406bcb4c7390600facfee86c9e.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_15,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"></p>
<p><strong>前端发送ajax请求，服务端通过日志打印出手机和验证码信息，接收数据成功</strong><br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916165131099.png" alt="在这里插入图片描述"></p>
<p><strong>注意</strong><br>在login方法中，接收数据的参数类型为Map类型，也可以重新定义一个UserDto（用户类数据传输对象）用来接收数据<br><img src="/../../assets/0769ed373f8a4f8287de1492977471c5.png" alt="在这里插入图片描述"></p>
<p><strong>完善用户登录代码</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@PostMapping(&quot;/login&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> R&lt;User&gt; <span class="title function_">login</span><span class="params">(<span class="meta">@RequestBody</span> Map map, HttpSession session)</span>&#123;</span><br><span class="line">        log.info(map.toString());</span><br><span class="line">        <span class="comment">//获取手机号</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">phone</span> <span class="operator">=</span> map.get(<span class="string">&quot;phone&quot;</span>).toString();</span><br><span class="line">        <span class="comment">//获取验证码</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">code</span> <span class="operator">=</span> map.get(<span class="string">&quot;code&quot;</span>).toString();</span><br><span class="line">        <span class="comment">//从session中获取保存的验证码</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">codeInSession</span> <span class="operator">=</span> session.getAttribute(phone).toString();</span><br><span class="line">        <span class="comment">//进行验证码的对比（页面提交的验证码和session中保存的验证码）</span></span><br><span class="line">        <span class="keyword">if</span> (code != <span class="literal">null</span> &amp;&amp; code.equals(codeInSession))&#123;</span><br><span class="line">            <span class="comment">//如果比对成功，则登录成功</span></span><br><span class="line">            LambdaQueryWrapper&lt;User&gt; queryWrapper = <span class="keyword">new</span> <span class="title class_">LambdaQueryWrapper</span>&lt;&gt;();</span><br><span class="line">            queryWrapper.eq(User::getPhone,phone);</span><br><span class="line">            <span class="type">User</span> <span class="variable">user</span> <span class="operator">=</span> userService.getOne(queryWrapper);</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> (user == <span class="literal">null</span>)&#123;</span><br><span class="line">                <span class="comment">//判断当前手机号是否为新用户，如果是新用户则自动完成注入</span></span><br><span class="line">                user = <span class="keyword">new</span> <span class="title class_">User</span>();</span><br><span class="line">                user.setPhone(phone);</span><br><span class="line">                userService.save(user);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">return</span> R.success(user);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> R.error(<span class="string">&quot;登录失败&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"><span class="number">123456789101112131415161718192021222324252627</span></span><br></pre></td></tr></table></figure>

<h2 id="20-手机验证码登录-功能测试"><a href="#20-手机验证码登录-功能测试" class="headerlink" title="20-手机验证码登录_功能测试"></a>20-手机验证码登录_功能测试</h2><h3 id="测试-10"><a href="#测试-10" class="headerlink" title="测试"></a>测试</h3><p><strong>重启项目，进入用户登录界面，输入手机号，点击获取验证码</strong><br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_15,color_FFFFFF,t_70,g_se,x_16-20220916165130867.png" alt="在这里插入图片描述"></p>
<p><strong>服务器控制台打印出验证码日志信息</strong><br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916165131712.png" alt="在这里插入图片描述"></p>
<p><strong>在用户界面输入获取到的验证码，点击登录</strong><br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_16,color_FFFFFF,t_70,g_se,x_16-20220916165130986.png" alt="在这里插入图片描述"></p>
<p><strong>页面跳转到用户登录界面</strong></p>
<ul>
<li>经过分析得出：未将userId存储到session中</li>
<li>导致前端发送请求时，进入filter过滤器，判断用户登录状态为未登录状态</li>
<li>即跳转到登录界面<br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_15,color_FFFFFF,t_70,g_se,x_16-20220916165131090.png" alt="在这里插入图片描述"></li>
</ul>
<p><strong>在login方法中，添加代码</strong><br>目的：将userId保存到session当中，前端页面发送请求到服务端，经过filter过滤器，判断用户状态为已登录状态，页面将不会跳转到用户登录界面<br><img src="https://img-blog.csdnimg.cn/650dac4ccd3b46c8ab647fe1bef9f0dc.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"></p>
<p><strong>重启项目，在用户登录页面输入手机号，和获取到的验证码，点击登录</strong><br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_15,color_FFFFFF,t_70,g_se,x_16-20220916165131328.png" alt="在这里插入图片描述"></p>
<p><strong>页面成功跳转到服务用户界面</strong><br><img src="https://img-blog.csdnimg.cn/ebf17a47ddd34823b37693637f55dfa7.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_15,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"></p>
<p><strong>user表中成功添加上测试的手机号码（未注册的手机号码）</strong><br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916165131772.png" alt="在这里插入图片描述"></p>
<h1 id="业务开发Day6"><a href="#业务开发Day6" class="headerlink" title="业务开发Day6"></a>业务开发Day6</h1><h2 id="01-本章内容介绍-5"><a href="#01-本章内容介绍-5" class="headerlink" title="01-本章内容介绍"></a>01-本章内容介绍</h2><h3 id="目录-5"><a href="#目录-5" class="headerlink" title="目录"></a>目录</h3><ol>
<li>导入用户地址簿相关功能代码</li>
<li>菜品展示</li>
<li>购物车</li>
<li>下单</li>
</ol>
<h3 id="效果展示-1"><a href="#效果展示-1" class="headerlink" title="效果展示"></a>效果展示</h3><p><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164214522.png" alt="在这里插入图片描述"></p>
<h2 id="02-导入用户地址簿相关代码"><a href="#02-导入用户地址簿相关代码" class="headerlink" title="02-导入用户地址簿相关代码"></a>02-导入用户地址簿相关代码</h2><h3 id="需求分析-16"><a href="#需求分析-16" class="headerlink" title="需求分析"></a>需求分析</h3><ul>
<li>地址簿，指的是移动端消费者用户的地址信息</li>
<li>用户登录成功后可以维护自己的地址信息</li>
<li>同一个用户可以有多个地址信息，但是只能有一个默认地址。</li>
</ul>
<p><strong>页面展示</strong></p>
<ul>
<li>新增收货地址页面</li>
<li>地址管理页面</li>
<li>编辑收货地址页面<br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164214565.png" alt="在这里插入图片描述"></li>
</ul>
<h3 id="数据模型-4"><a href="#数据模型-4" class="headerlink" title="数据模型"></a>数据模型</h3><p>用户的地址信息会存储在address_book表，即地址簿表中。具体表结构如下:<br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164213999.png" alt="在这里插入图片描述"></p>
<h3 id="导入功能代码"><a href="#导入功能代码" class="headerlink" title="导入功能代码"></a>导入功能代码</h3><p><strong>功能代码清单:</strong></p>
<ul>
<li>实体类AddressBook(直接从课程资料中导入即可)</li>
<li>Mapper接口AddressBookMapper</li>
<li>业务层接口AddressBookService</li>
<li>业务层实现类AddressBookServicelmpl</li>
<li>控制层AddressBookController(直接从课程资料中导入即可)</li>
</ul>
<p><strong>实体类AddressBook</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.itzq.reggie.entity;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.annotation.FieldFill;</span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.annotation.TableField;</span><br><span class="line"><span class="keyword">import</span> lombok.Data;</span><br><span class="line"><span class="keyword">import</span> java.io.Serializable;</span><br><span class="line"><span class="keyword">import</span> java.time.LocalDateTime;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 地址簿</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">AddressBook</span> <span class="keyword">implements</span> <span class="title class_">Serializable</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">long</span> <span class="variable">serialVersionUID</span> <span class="operator">=</span> <span class="number">1L</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> Long id;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//用户id</span></span><br><span class="line">    <span class="keyword">private</span> Long userId;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//收货人</span></span><br><span class="line">    <span class="keyword">private</span> String consignee;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//手机号</span></span><br><span class="line">    <span class="keyword">private</span> String phone;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//性别 0 女 1 男</span></span><br><span class="line">    <span class="keyword">private</span> String sex;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//省级区划编号</span></span><br><span class="line">    <span class="keyword">private</span> String provinceCode;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//省级名称</span></span><br><span class="line">    <span class="keyword">private</span> String provinceName;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//市级区划编号</span></span><br><span class="line">    <span class="keyword">private</span> String cityCode;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//市级名称</span></span><br><span class="line">    <span class="keyword">private</span> String cityName;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//区级区划编号</span></span><br><span class="line">    <span class="keyword">private</span> String districtCode;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//区级名称</span></span><br><span class="line">    <span class="keyword">private</span> String districtName;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//详细地址</span></span><br><span class="line">    <span class="keyword">private</span> String detail;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//标签</span></span><br><span class="line">    <span class="keyword">private</span> String label;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//是否默认 0否 1是</span></span><br><span class="line">    <span class="keyword">private</span> Integer isDefault;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//创建时间</span></span><br><span class="line">    <span class="meta">@TableField(fill = FieldFill.INSERT)</span></span><br><span class="line">    <span class="keyword">private</span> LocalDateTime createTime;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//更新时间</span></span><br><span class="line">    <span class="meta">@TableField(fill = FieldFill.INSERT_UPDATE)</span></span><br><span class="line">    <span class="keyword">private</span> LocalDateTime updateTime;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//创建人</span></span><br><span class="line">    <span class="meta">@TableField(fill = FieldFill.INSERT)</span></span><br><span class="line">    <span class="keyword">private</span> Long createUser;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//修改人</span></span><br><span class="line">    <span class="meta">@TableField(fill = FieldFill.INSERT_UPDATE)</span></span><br><span class="line">    <span class="keyword">private</span> Long updateUser;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//是否删除</span></span><br><span class="line">    <span class="keyword">private</span> Integer isDeleted;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="number">123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293</span></span><br></pre></td></tr></table></figure>

<p><strong>Mapper接口AddressBookMapper</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.itzq.reggie.mapper;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.core.mapper.BaseMapper;</span><br><span class="line"><span class="keyword">import</span> com.itzq.reggie.entity.AddressBook;</span><br><span class="line"><span class="keyword">import</span> org.apache.ibatis.annotations.Mapper;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Mapper</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">AddressBookMapper</span> <span class="keyword">extends</span> <span class="title class_">BaseMapper</span>&lt;AddressBook&gt; &#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="number">12345678910</span></span><br></pre></td></tr></table></figure>

<p><strong>业务层接口AddressBookService</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.itzq.reggie.service;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.extension.service.IService;</span><br><span class="line"><span class="keyword">import</span> com.itzq.reggie.entity.AddressBook;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">AddressBookService</span> <span class="keyword">extends</span> <span class="title class_">IService</span>&lt;AddressBook&gt; &#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="number">12345678</span></span><br></pre></td></tr></table></figure>

<p><strong>业务层实现类AddressBookServicelmpl</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.itzq.reggie.service.Impl;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.extension.service.impl.ServiceImpl;</span><br><span class="line"><span class="keyword">import</span> com.itzq.reggie.entity.AddressBook;</span><br><span class="line"><span class="keyword">import</span> com.itzq.reggie.mapper.AddressBookMapper;</span><br><span class="line"><span class="keyword">import</span> com.itzq.reggie.service.AddressBookService;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Service;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">AddressBookServicelmpl</span> <span class="keyword">extends</span> <span class="title class_">ServiceImpl</span>&lt;AddressBookMapper, AddressBook&gt; <span class="keyword">implements</span> <span class="title class_">AddressBookService</span> &#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="number">123456789101112</span></span><br></pre></td></tr></table></figure>

<p><strong>控制层AddressBookController</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> lombok.extern.slf4j.Slf4j;</span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Autowired;</span><br><span class="line"></span><br><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="meta">@RequestMapping(&quot;/addressBook&quot;)</span></span><br><span class="line"><span class="meta">@Slf4j</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">AddressBookController</span> &#123;</span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> AddressBookService addressBookService;</span><br><span class="line"><span class="number">123456789</span></span><br></pre></td></tr></table></figure>

<h3 id="完善地址管理页面"><a href="#完善地址管理页面" class="headerlink" title="完善地址管理页面"></a>完善地址管理页面</h3><h4 id="前端分析-6"><a href="#前端分析-6" class="headerlink" title="前端分析"></a>前端分析</h4><p>点击方框里的图标，跳转到个人中心<br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_15,color_FFFFFF,t_70,g_se,x_16-20220916164218050.png" alt="在这里插入图片描述"></p>
<p>在个人中心界面，点击地址管理<br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_16,color_FFFFFF,t_70,g_se,x_16-20220916164214787.png" alt="在这里插入图片描述"></p>
<p>点击地址管理后，前端发送ajax请求，以下是该请求的地址和方式<br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164229904.png" alt="在这里插入图片描述"></p>
<h4 id="新增代码"><a href="#新增代码" class="headerlink" title="新增代码"></a>新增代码</h4><p><strong>在AddressBookController控制层中，添加list方法</strong><br>目的：查询指定用户的全部地址</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">    <span class="meta">@GetMapping(&quot;/list&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> R&lt;List&lt;AddressBook&gt;&gt; <span class="title function_">list</span><span class="params">(AddressBook addressBook)</span>&#123;</span><br><span class="line">        addressBook.setUserId(BaseContext.getCurrentId());</span><br><span class="line">        log.info(<span class="string">&quot;addressBook=&#123;&#125;&quot;</span>,addressBook);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//条件构造器</span></span><br><span class="line">        LambdaQueryWrapper&lt;AddressBook&gt; queryWrapper = <span class="keyword">new</span> <span class="title class_">LambdaQueryWrapper</span>&lt;&gt;();</span><br><span class="line">        queryWrapper.eq(addressBook.getUserId() != <span class="literal">null</span>, AddressBook::getUserId,addressBook.getUserId());</span><br><span class="line">        queryWrapper.orderByDesc(AddressBook::getUpdateTime);</span><br><span class="line"></span><br><span class="line">        List&lt;AddressBook&gt; list = addressBookService.list(queryWrapper);</span><br><span class="line">        <span class="keyword">return</span> R.success(list);</span><br><span class="line">    &#125;</span><br><span class="line"><span class="number">12345678910111213</span></span><br></pre></td></tr></table></figure>

<h3 id="新增收货地址页面"><a href="#新增收货地址页面" class="headerlink" title="新增收货地址页面"></a>新增收货地址页面</h3><h4 id="前端分析-7"><a href="#前端分析-7" class="headerlink" title="前端分析"></a>前端分析</h4><p>来到新增收货地址界面，输入相关信息，点击保存<br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_15,color_FFFFFF,t_70,g_se,x_16-20220916164214684.png" alt="在这里插入图片描述"></p>
<p>前端发送ajax请求，以及请求的方式，服务端未响应，所以报404错误<br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164218244.png" alt="在这里插入图片描述"></p>
<h4 id="新增代码-1"><a href="#新增代码-1" class="headerlink" title="新增代码"></a>新增代码</h4><p><strong>在AddressBookController控制层中，添加save方法</strong><br>目的：将前端以json格式传输到后端的数据，保存到数据库中</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">	<span class="meta">@PostMapping</span></span><br><span class="line">    <span class="keyword">public</span> R&lt;AddressBook&gt; <span class="title function_">save</span><span class="params">(<span class="meta">@RequestBody</span> AddressBook addressBook)</span>&#123;</span><br><span class="line">        addressBook.setUserId(BaseContext.getCurrentId());</span><br><span class="line">        log.info(<span class="string">&quot;addressBook=&#123;&#125;&quot;</span>,addressBook);</span><br><span class="line"></span><br><span class="line">        addressBookService.save(addressBook);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> R.success(addressBook);</span><br><span class="line">    &#125;</span><br><span class="line"><span class="number">123456789</span></span><br></pre></td></tr></table></figure>

<h3 id="测试-1"><a href="#测试-1" class="headerlink" title="测试-1"></a>测试-1</h3><p>重启项目，来到新增收货地址页面，输入地址信息后，点击保存地址<br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_15,color_FFFFFF,t_70,g_se,x_16-20220916164214684.png" alt="在这里插入图片描述"></p>
<p>页面跳转到地址管理界面，前端发送ajax请求—显示出该用户所有地址<br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_16,color_FFFFFF,t_70,g_se,x_16-20220916164217602.png" alt="在这里插入图片描述"></p>
<h4 id="测试成功"><a href="#测试成功" class="headerlink" title="测试成功"></a>测试成功</h4><ul>
<li>查询指定用户的全部地址</li>
<li>将新增地址保存到数据库</li>
</ul>
<h3 id="设置默认地址"><a href="#设置默认地址" class="headerlink" title="设置默认地址"></a>设置默认地址</h3><h4 id="前端分析-8"><a href="#前端分析-8" class="headerlink" title="前端分析"></a>前端分析</h4><p>在地址管理界面，点击圆圈—将该地址设置为默认地址<br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_15,color_FFFFFF,t_70,g_se,x_16-20220916164218404.png" alt="在这里插入图片描述"></p>
<p>点击后，前端发送ajax请求，以下为请求地址和请求方式<br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164218455.png" alt="在这里插入图片描述"></p>
<h4 id="新增代码-2"><a href="#新增代码-2" class="headerlink" title="新增代码"></a>新增代码</h4><p><strong>在AddressBookController控制层中，添加getDefault方法</strong><br>目的：设置默认地址</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"> <span class="meta">@PutMapping(&quot;/default&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> R&lt;AddressBook&gt; <span class="title function_">getDefault</span><span class="params">(<span class="meta">@RequestBody</span> AddressBook addressBook)</span>&#123;</span><br><span class="line">        addressBook.setUserId(BaseContext.getCurrentId());</span><br><span class="line"></span><br><span class="line">        <span class="comment">//条件构造器</span></span><br><span class="line">        LambdaUpdateWrapper&lt;AddressBook&gt; updateWrapper = <span class="keyword">new</span> <span class="title class_">LambdaUpdateWrapper</span>&lt;&gt;();</span><br><span class="line">        updateWrapper.eq(addressBook.getUserId() != <span class="literal">null</span>,AddressBook::getUserId,addressBook.getUserId());</span><br><span class="line">        updateWrapper.set(AddressBook::getIsDefault,<span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//将与用户id所关联的所有地址的is_default字段更新为0</span></span><br><span class="line">        addressBookService.update(updateWrapper);</span><br><span class="line"></span><br><span class="line">        addressBook.setIsDefault(<span class="number">1</span>);</span><br><span class="line">        <span class="comment">//再将前端传递的地址id的is_default字段更新为1</span></span><br><span class="line">        addressBookService.updateById(addressBook);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> R.success(addressBook);</span><br><span class="line">    &#125;</span><br><span class="line"><span class="number">123456789101112131415161718</span></span><br></pre></td></tr></table></figure>

<h3 id="测试-2"><a href="#测试-2" class="headerlink" title="测试-2"></a>测试-2</h3><p>重启项目，来到地址管理界面，点击设置为默认地址<br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_15,color_FFFFFF,t_70,g_se,x_16-20220916164218887.png" alt="在这里插入图片描述"></p>
<h4 id="测试成功-1"><a href="#测试成功-1" class="headerlink" title="测试成功"></a>测试成功</h4><p>成功将该地址设置为默认地址<br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_16,color_FFFFFF,t_70,g_se,x_16-20220916164218518.png" alt="在这里插入图片描述"></p>
<p>该用户address_book表中，该地址is_default字段从0变为1，表示该地址为该用户的默认地址<br><img src="/../../assets/65387e5a86794b9bb8445f84eb875931.png" alt="在这里插入图片描述"></p>
<h2 id="03-菜品展示-需求分析"><a href="#03-菜品展示-需求分析" class="headerlink" title="03-菜品展示_需求分析"></a>03-菜品展示_需求分析</h2><h3 id="需求分析-17"><a href="#需求分析-17" class="headerlink" title="需求分析"></a>需求分析</h3><ul>
<li>用户登录成功后跳转到系统首页，在首页需要根据分类来展示菜品和套餐</li>
<li>如果菜品设置了口味信息，需要展示选择规格按钮,否则显示+按钮</li>
</ul>
<p><strong>页面效果展示</strong><br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164222931.png" alt="在这里插入图片描述"></p>
<h2 id="04-菜品展示-代码开发-梳理交互过程"><a href="#04-菜品展示-代码开发-梳理交互过程" class="headerlink" title="04-菜品展示_代码开发_梳理交互过程"></a>04-菜品展示_代码开发_梳理交互过程</h2><h3 id="梳理交互过程-3"><a href="#梳理交互过程-3" class="headerlink" title="梳理交互过程"></a>梳理交互过程</h3><p><strong>在开发代码之前，需要梳理一下前端页面和服务端的交互过程:</strong></p>
<ol>
<li>页面(front&#x2F;index.html)发送ajax请求，获取分类数据（菜品分类和套餐分类)</li>
<li>页面发送ajax请求，获取第一个分类下的菜品或者套餐</li>
</ol>
<p><em>开发菜品展示功能，其实就是在服务端编写代码去处理前端页面发送的这2次请求即可</em></p>
<h3 id="前端分析-9"><a href="#前端分析-9" class="headerlink" title="前端分析"></a>前端分析</h3><p><strong>注意:首页加载完成后，页面还发送了一次ajax请求用于加载购物车数据</strong></p>
<ol>
<li>前端页面初始化数据发送ajax请求—获取所有菜品和套餐分类<br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164224197.png" alt="在这里插入图片描述"></li>
</ol>
<p><strong>该请求方法在此之前已存在—查询分类信息</strong><br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164225420.png" alt="在这里插入图片描述"></p>
<ol>
<li>前端页面初始化数据发送ajax请求— 获取购物车类商品集合<br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164222630.png" alt="在这里插入图片描述"></li>
</ol>
<p><strong>注此处可以将这次请求的地址暂时修改一下，从静态json文件中获取数据，等后续开发购物车功能时再修改回来，如下:</strong></p>
<p><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164221314.png" alt="在这里插入图片描述"></p>
<p><strong>在front包下添加json文件</strong></p>
<ul>
<li>json文件名：cartData.json</li>
<li>json文件代码：</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">&#123;<span class="string">&quot;code&quot;</span>:<span class="number">1</span>,<span class="string">&quot;msg&quot;</span>:<span class="literal">null</span>,<span class="string">&quot;data&quot;</span>:[],<span class="string">&quot;map&quot;</span>:&#123;&#125;&#125;</span><br><span class="line"><span class="number">1</span></span><br></pre></td></tr></table></figure>

<p><strong>为什么只有以上两个ajax请求同时接收到页面返回的数据后才能正常显示？</strong></p>
<p>因为<em>Promse.all</em>在处理多个异步请求时，需要等待绑定的每个ajax请求返回数据以后才能正常显示<br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164225152.png" alt="在这里插入图片描述"></p>
<p><strong>页面在初始化时，发送ajax请求，获取第一个分类下的菜品或套餐</strong></p>
<p>下面是请求地址和请求方式—（由请求地址可知，该请求为获取第一个分类下的菜品信息）<br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164224120.png" alt="在这里插入图片描述"></p>
<p>该请求也是在此之前已存在—通过条件查询获取该种类下的所有菜品信息，并且查询的菜品必须为起售状态（status&#x3D;1）<br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164225042.png" alt="在这里插入图片描述"></p>
<h3 id="测试-11"><a href="#测试-11" class="headerlink" title="测试"></a>测试</h3><ul>
<li>因修改过前端代码，所以需要清空浏览器的缓存数据（Ctrl+Shift+Delete），并重启项目</li>
<li>若还是不能正常访问，重启idea代码编辑器</li>
</ul>
<p><strong>显示成功</strong><br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_15,color_FFFFFF,t_70,g_se,x_16-20220916164229011.png" alt="在这里插入图片描述"></p>
<p><strong>注意：</strong></p>
<ul>
<li>前端页面的需求：如果菜品设置了口味信息，需要展示选择规格按钮,否则显示+按钮</li>
<li>但返回的Dish类型中未包含菜品口味信息</li>
<li>所以需要修改部分代码让返回值既包含菜品的基本信息，也包含了口味的信息</li>
</ul>
<h2 id="05-菜品展示-代码开发-修改DishController的list方法并测试"><a href="#05-菜品展示-代码开发-修改DishController的list方法并测试" class="headerlink" title="05-菜品展示_代码开发_修改DishController的list方法并测试"></a>05-菜品展示_代码开发_修改DishController的list方法并测试</h2><h3 id="修改DishController的list方法"><a href="#修改DishController的list方法" class="headerlink" title="修改DishController的list方法"></a>修改DishController的list方法</h3><ul>
<li>添加的SQL语句为：select * from dish_flavors where dish_id &#x3D; ?—转化为代码形式</li>
<li>查询出数据后，将查询的数据放入dishDto（dish的数据转换对象）对象中</li>
<li>返回list集合，list中对象类型为：DishDto</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@GetMapping(&quot;/list&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> R&lt;List&lt;DishDto&gt;&gt; <span class="title function_">list</span><span class="params">(Dish dish)</span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//构造查询条件</span></span><br><span class="line">        LambdaQueryWrapper&lt;Dish&gt; queryWrapper = <span class="keyword">new</span> <span class="title class_">LambdaQueryWrapper</span>&lt;&gt;();</span><br><span class="line">        queryWrapper.eq(dish.getCategoryId() != <span class="literal">null</span>, Dish::getCategoryId, dish.getCategoryId());</span><br><span class="line">        <span class="comment">//添加条件，查询状态为1（1为起售，0为停售）的菜品</span></span><br><span class="line">        queryWrapper.eq(Dish::getStatus,<span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">        List&lt;Dish&gt; list = dishService.list(queryWrapper);</span><br><span class="line"></span><br><span class="line">        List&lt;DishDto&gt; dishDtoList = list.stream().map((item) -&gt; &#123;</span><br><span class="line">            <span class="type">DishDto</span> <span class="variable">dishDto</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">DishDto</span>();</span><br><span class="line">            <span class="comment">//对象拷贝（每一个list数据）</span></span><br><span class="line">            BeanUtils.copyProperties(item,dishDto);</span><br><span class="line">            <span class="type">Long</span> <span class="variable">categoryId</span> <span class="operator">=</span> item.getCategoryId();  <span class="comment">//分类id</span></span><br><span class="line">            <span class="comment">//通过categoryId查询到category内容</span></span><br><span class="line">            <span class="type">Category</span> <span class="variable">category</span> <span class="operator">=</span> categoryService.getById(categoryId);</span><br><span class="line">            <span class="comment">//判空</span></span><br><span class="line">            <span class="keyword">if</span>(category != <span class="literal">null</span>)&#123;</span><br><span class="line">                <span class="type">String</span> <span class="variable">categoryName</span> <span class="operator">=</span> category.getName();</span><br><span class="line">                dishDto.setCategoryName(categoryName);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="comment">//获取当前菜品id</span></span><br><span class="line">            <span class="type">Long</span> <span class="variable">dishId</span> <span class="operator">=</span> item.getId();</span><br><span class="line"></span><br><span class="line">            <span class="comment">//构造条件构造器</span></span><br><span class="line">            LambdaQueryWrapper&lt;DishFlavor&gt; dishFlavorLambdaQueryWrapper= <span class="keyword">new</span> <span class="title class_">LambdaQueryWrapper</span>&lt;&gt;();</span><br><span class="line">            <span class="comment">//添加查询条件</span></span><br><span class="line">            dishFlavorLambdaQueryWrapper.eq(dishId != <span class="literal">null</span>,DishFlavor::getDishId,dishId);</span><br><span class="line">            <span class="comment">//select * from dish_flavors where dish_id = ?</span></span><br><span class="line">            List&lt;DishFlavor&gt; dishFlavors = dishFlavorService.list(dishFlavorLambdaQueryWrapper);</span><br><span class="line"></span><br><span class="line">            dishDto.setFlavors(dishFlavors);</span><br><span class="line"></span><br><span class="line">            <span class="keyword">return</span> dishDto;</span><br><span class="line">        &#125;).collect(Collectors.toList());</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> R.success(dishDtoList);</span><br><span class="line">    &#125;</span><br><span class="line"><span class="number">1234567891011121314151617181920212223242526272829303132333435363738394041</span></span><br></pre></td></tr></table></figure>

<h3 id="测试-12"><a href="#测试-12" class="headerlink" title="测试"></a>测试</h3><p><strong>启动项目，点击登录，来到客户端首页，若该菜品有相应的口味选择，前端页面展示选择规格按钮；反之，前端页面展示+<br>按钮</strong><br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_15,color_FFFFFF,t_70,g_se,x_16-20220916164229698.png" alt="在这里插入图片描述"></p>
<h2 id="06-菜品展示-代码开发-创建SetmealController的list方法并测试"><a href="#06-菜品展示-代码开发-创建SetmealController的list方法并测试" class="headerlink" title="06-菜品展示_代码开发_创建SetmealController的list方法并测试"></a>06-菜品展示_代码开发_创建SetmealController的list方法并测试</h2><h3 id="前端分析-10"><a href="#前端分析-10" class="headerlink" title="前端分析"></a>前端分析</h3><p><strong>点击套餐分类时，报404异常，因为还未在服务端做相应的映射地址</strong></p>
<ul>
<li>点击套餐分类时的请求地址以及请求方式</li>
<li>通过url方式传参，参数类型为key-value键值对形式<br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164226573.png" alt="在这里插入图片描述"></li>
</ul>
<h3 id="创建SetmealController的list方法"><a href="#创建SetmealController的list方法" class="headerlink" title="创建SetmealController的list方法"></a>创建SetmealController的list方法</h3><p><strong>在SetmealController控制层中，添加list方法</strong><br>目的：通过套餐种类Id和套餐对应的状态查询出符合条件的套餐</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"> <span class="meta">@GetMapping(&quot;/list&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> R&lt;List&lt;Setmeal&gt;&gt; <span class="title function_">list</span><span class="params">(Setmeal setmeal)</span>&#123;</span><br><span class="line">        <span class="comment">//创建条件构造器</span></span><br><span class="line">        LambdaQueryWrapper&lt;Setmeal&gt; queryWrapper = <span class="keyword">new</span> <span class="title class_">LambdaQueryWrapper</span>&lt;&gt;();</span><br><span class="line">        <span class="comment">//添加条件</span></span><br><span class="line">        queryWrapper.eq(setmeal.getCategoryId() != <span class="literal">null</span>,Setmeal::getCategoryId,setmeal.getCategoryId());</span><br><span class="line">        queryWrapper.eq(setmeal.getStatus() != <span class="literal">null</span>,Setmeal::getStatus,setmeal.getStatus());</span><br><span class="line"></span><br><span class="line">        <span class="comment">//排序</span></span><br><span class="line">        queryWrapper.orderByDesc(Setmeal::getUpdateTime);</span><br><span class="line"></span><br><span class="line">        List&lt;Setmeal&gt; list = setmealService.list(queryWrapper);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> R.success(list);</span><br><span class="line">    &#125;</span><br><span class="line"><span class="number">123456789101112131415</span></span><br></pre></td></tr></table></figure>

<h3 id="测试-13"><a href="#测试-13" class="headerlink" title="测试"></a>测试</h3><p>前端页面成功显示出儿童套餐种类包含的套餐<br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_16,color_FFFFFF,t_70,g_se,x_16-20220916164229477.png" alt="在这里插入图片描述"></p>
<h2 id="07-购物车-需求分析-amp-数据模型-amp-梳理交互过程-amp-准备工作"><a href="#07-购物车-需求分析-amp-数据模型-amp-梳理交互过程-amp-准备工作" class="headerlink" title="07-购物车_需求分析&amp;数据模型&amp;梳理交互过程&amp;准备工作"></a>07-购物车_需求分析&amp;数据模型&amp;梳理交互过程&amp;准备工作</h2><h3 id="需求分析-18"><a href="#需求分析-18" class="headerlink" title="需求分析"></a>需求分析</h3><ul>
<li>移动端用户可以将菜品或者套餐添加到购物车</li>
<li>对于菜品来说，如果设置了口味信息，则需要选择规格后才能加入购物车</li>
<li>对于套餐来说，可以直接点击将当前套餐加入购物车</li>
<li>在购物车中可以修改菜品和套餐的数量，也可以清空购物车。</li>
</ul>
<p><strong>前端页面展示</strong><br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164232144.png" alt="在这里插入图片描述"></p>
<h3 id="数据模型-5"><a href="#数据模型-5" class="headerlink" title="数据模型"></a>数据模型</h3><p><strong>购物车对应的数据表为shopping_cart表，具体表结构如下:</strong><br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164228967.png" alt="在这里插入图片描述"></p>
<h3 id="梳理交互过程-4"><a href="#梳理交互过程-4" class="headerlink" title="梳理交互过程"></a>梳理交互过程</h3><p><strong>在开发代码之前，需要梳理一下购物车操作时前端页面和服务端的交互过程:</strong></p>
<ol>
<li>点击加入<em>购物车</em>按钮或者*+*按钮，页面发送ajax请求，请求服务端，将菜品或者套餐添加到购物车</li>
<li>点击购物车图标，页面发送ajax请求，请求服务端查询购物车中的菜品和套餐</li>
<li>点击清空购物车按钮，页面发送ajax请求，请求服务端来执行清空购物车操作</li>
</ol>
<p><em>开发购物车功能，其实就是在服务端编写代码去处理前端页面发送的这3次请求即可</em></p>
<h3 id="准备工作"><a href="#准备工作" class="headerlink" title="准备工作"></a>准备工作</h3><p><strong>在开发业务功能前，先将需要用到的类和接口基本结构创建好</strong></p>
<ul>
<li>实体类ShoppingCart(直接从课程资料中导入即可)</li>
<li>Mapper接口ShoppingCartMapper</li>
<li>业务层接口ShoppingCartService</li>
<li>业务层实现类ShoppingCartServicelmpl</li>
<li>控制层ShoppingCartController</li>
</ul>
<p><strong>实体类ShoppingCart</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.itzq.reggie.entity;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> lombok.Data;</span><br><span class="line"><span class="keyword">import</span> java.io.Serializable;</span><br><span class="line"><span class="keyword">import</span> java.math.BigDecimal;</span><br><span class="line"><span class="keyword">import</span> java.time.LocalDateTime;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 购物车</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ShoppingCart</span> <span class="keyword">implements</span> <span class="title class_">Serializable</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">long</span> <span class="variable">serialVersionUID</span> <span class="operator">=</span> <span class="number">1L</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> Long id;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//名称</span></span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//用户id</span></span><br><span class="line">    <span class="keyword">private</span> Long userId;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//菜品id</span></span><br><span class="line">    <span class="keyword">private</span> Long dishId;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//套餐id</span></span><br><span class="line">    <span class="keyword">private</span> Long setmealId;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//口味</span></span><br><span class="line">    <span class="keyword">private</span> String dishFlavor;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//数量</span></span><br><span class="line">    <span class="keyword">private</span> Integer number;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//金额</span></span><br><span class="line">    <span class="keyword">private</span> BigDecimal amount;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//图片</span></span><br><span class="line">    <span class="keyword">private</span> String image;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> LocalDateTime createTime;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="number">1234567891011121314151617181920212223242526272829303132333435363738394041424344</span></span><br></pre></td></tr></table></figure>

<p><strong>Mapper接口ShoppingCartMapper</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.itzq.reggie.mapper;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.core.mapper.BaseMapper;</span><br><span class="line"><span class="keyword">import</span> com.itzq.reggie.entity.ShoppingCart;</span><br><span class="line"><span class="keyword">import</span> org.apache.ibatis.annotations.Mapper;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Mapper</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">ShoppingCartMapper</span> <span class="keyword">extends</span> <span class="title class_">BaseMapper</span>&lt;ShoppingCart&gt; &#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="number">12345678910</span></span><br></pre></td></tr></table></figure>

<p><strong>业务层接口ShoppingCartService</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.itzq.reggie.service;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.extension.service.IService;</span><br><span class="line"><span class="keyword">import</span> com.itzq.reggie.entity.ShoppingCart;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">ShoppingCartService</span> <span class="keyword">extends</span> <span class="title class_">IService</span>&lt;ShoppingCart&gt; &#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="number">12345678</span></span><br></pre></td></tr></table></figure>

<p><strong>业务层实现类ShoppingCartServicelmpl</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.itzq.reggie.service.Impl;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.extension.service.impl.ServiceImpl;</span><br><span class="line"><span class="keyword">import</span> com.itzq.reggie.entity.ShoppingCart;</span><br><span class="line"><span class="keyword">import</span> com.itzq.reggie.mapper.ShoppingCartMapper;</span><br><span class="line"><span class="keyword">import</span> com.itzq.reggie.service.ShoppingCartService;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Service;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ShoppingCartServicelmpl</span> <span class="keyword">extends</span> <span class="title class_">ServiceImpl</span>&lt;ShoppingCartMapper, ShoppingCart&gt; <span class="keyword">implements</span> <span class="title class_">ShoppingCartService</span> &#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="number">123456789101112</span></span><br></pre></td></tr></table></figure>

<p><strong>控制层ShoppingCartController</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.itzq.reggie.controller;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.itzq.reggie.service.ShoppingCartService;</span><br><span class="line"><span class="keyword">import</span> lombok.extern.slf4j.Slf4j;</span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Autowired;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RequestMapping;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RestController;</span><br><span class="line"></span><br><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="meta">@RequestMapping(&quot;/shoppingCart&quot;)</span></span><br><span class="line"><span class="meta">@Slf4j</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ShoppingCartController</span> &#123;</span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> ShoppingCartService shoppingCartService;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="number">12345678910111213141516</span></span><br></pre></td></tr></table></figure>

<h2 id="08-购物车-代码开发-添加购物车"><a href="#08-购物车-代码开发-添加购物车" class="headerlink" title="08-购物车_代码开发_添加购物车"></a>08-购物车_代码开发_添加购物车</h2><h3 id="前端分析-11"><a href="#前端分析-11" class="headerlink" title="前端分析"></a>前端分析</h3><p><strong>启动项目，用户登录外卖系统，选择喜欢的菜品或套餐，若用户选择菜品并且该菜品有相应的口味则需要选择口味，点击加入购物车</strong></p>
<ul>
<li>页面效果展示</li>
<li>前端页面发送的请求地址以及请求方式<br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164233571.png" alt="在这里插入图片描述"></li>
<li>前端页面以json格式将数据提交给服务端<br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164231677.png" alt="在这里插入图片描述"></li>
</ul>
<h3 id="代码-4"><a href="#代码-4" class="headerlink" title="代码"></a>代码</h3><h4 id="测试服务端是否能够接收前端页面提交的数据"><a href="#测试服务端是否能够接收前端页面提交的数据" class="headerlink" title="测试服务端是否能够接收前端页面提交的数据"></a>测试服务端是否能够接收前端页面提交的数据</h4><p><strong>在ShoppingCartController控制层，新增add方法（测试服务端是否可以成功接收前端页面提交的数据）</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="meta">@RequestMapping(&quot;/shoppingCart&quot;)</span></span><br><span class="line"><span class="meta">@Slf4j</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ShoppingCartController</span> &#123;</span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> ShoppingCartService shoppingCartService;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@PostMapping(&quot;/add&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> R&lt;ShoppingCart&gt; <span class="title function_">add</span><span class="params">(<span class="meta">@RequestBody</span> ShoppingCart shoppingCart)</span>&#123;</span><br><span class="line">        log.info(<span class="string">&quot;shoppingCart=&#123;&#125;&quot;</span>,shoppingCart);</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="number">1234567891011121314</span></span><br></pre></td></tr></table></figure>

<p><strong>在指定位置添加断点，便于查看是否成功接收数据</strong><br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164230004.png" alt="在这里插入图片描述"></p>
<p><strong>debug方式启动项目，添加菜品或套餐到购物车</strong><br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_13,color_FFFFFF,t_70,g_se,x_16-20220916164231616.png" alt="在这里插入图片描述"></p>
<p><strong>跳转到服务端，服务端成功接收到前端提交的数据</strong><br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164231936.png" alt="在这里插入图片描述"></p>
<h4 id="完善代码"><a href="#完善代码" class="headerlink" title="完善代码"></a>完善代码</h4><p><strong>在ShoppingCartController控制层中的add方法添加代码</strong><br>目的：将用户添加到购物车的菜品或套餐信息保存到数据库中，若添加相同菜品或相同套餐，则只需要在shopping_cart表更新该菜品或者套餐的数量（number字段）；反之，则将菜品或套餐直接保存数据库中</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.itzq.reggie.controller;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.core.conditions.query.LambdaQueryWrapper;</span><br><span class="line"><span class="keyword">import</span> com.itzq.reggie.common.BaseContext;</span><br><span class="line"><span class="keyword">import</span> com.itzq.reggie.common.R;</span><br><span class="line"><span class="keyword">import</span> com.itzq.reggie.entity.ShoppingCart;</span><br><span class="line"><span class="keyword">import</span> com.itzq.reggie.service.ShoppingCartService;</span><br><span class="line"><span class="keyword">import</span> lombok.extern.slf4j.Slf4j;</span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Autowired;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.PostMapping;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RequestBody;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RequestMapping;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RestController;</span><br><span class="line"></span><br><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="meta">@RequestMapping(&quot;/shoppingCart&quot;)</span></span><br><span class="line"><span class="meta">@Slf4j</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ShoppingCartController</span> &#123;</span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> ShoppingCartService shoppingCartService;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@PostMapping(&quot;/add&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> R&lt;ShoppingCart&gt; <span class="title function_">add</span><span class="params">(<span class="meta">@RequestBody</span> ShoppingCart shoppingCart)</span>&#123;</span><br><span class="line">        log.info(<span class="string">&quot;shoppingCart=&#123;&#125;&quot;</span>,shoppingCart);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//设置用户id指定当前是哪个用户的购物车数据</span></span><br><span class="line">        <span class="type">Long</span> <span class="variable">currentId</span> <span class="operator">=</span> BaseContext.getCurrentId();</span><br><span class="line">        shoppingCart.setUserId(currentId);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//获取当前菜品id</span></span><br><span class="line">        <span class="type">Long</span> <span class="variable">dishId</span> <span class="operator">=</span> shoppingCart.getDishId();</span><br><span class="line">        <span class="comment">//条件构造器</span></span><br><span class="line">        LambdaQueryWrapper&lt;ShoppingCart&gt; queryWrapper = <span class="keyword">new</span> <span class="title class_">LambdaQueryWrapper</span>&lt;&gt;();</span><br><span class="line"></span><br><span class="line">        <span class="comment">//判断添加的是菜品还是套餐</span></span><br><span class="line">        <span class="keyword">if</span> (dishId != <span class="literal">null</span>)&#123;</span><br><span class="line">            queryWrapper.eq(ShoppingCart::getDishId,dishId);</span><br><span class="line">        &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">            queryWrapper.eq(ShoppingCart::getSetmealId,shoppingCart.getSetmealId());</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//查询当前菜品或者套餐是否在购物车中</span></span><br><span class="line">        <span class="type">ShoppingCart</span> <span class="variable">cartServiceOne</span> <span class="operator">=</span> shoppingCartService.getOne(queryWrapper);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (cartServiceOne != <span class="literal">null</span>)&#123;</span><br><span class="line"></span><br><span class="line">            <span class="comment">//如果已存在就在当前的数量上加1</span></span><br><span class="line">            <span class="type">Integer</span> <span class="variable">number</span> <span class="operator">=</span> cartServiceOne.getNumber();</span><br><span class="line">            cartServiceOne.setNumber(number + <span class="number">1</span>);</span><br><span class="line">            shoppingCartService.updateById(cartServiceOne);</span><br><span class="line">        &#125;<span class="keyword">else</span> &#123;</span><br><span class="line"></span><br><span class="line">            <span class="comment">//如果不存在，则添加到购物车，数量默认为1</span></span><br><span class="line">            shoppingCartService.save(shoppingCart);</span><br><span class="line">            cartServiceOne = shoppingCart;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> R.success(cartServiceOne);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="number">123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263</span></span><br></pre></td></tr></table></figure>

<h3 id="测试-14"><a href="#测试-14" class="headerlink" title="测试"></a>测试</h3><p><strong>重启项目，选择菜品或套餐，加入到购物车中</strong><br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_13,color_FFFFFF,t_70,g_se,x_16-20220916164233700.png" alt="在这里插入图片描述"></p>
<p><strong>shopping_cart表中添加上用户选择的菜品信息</strong><br><img src="/../../assets/8dc9d1db46f24a78aa49d157e2041562.png" alt="在这里插入图片描述"></p>
<p><strong>点击加号或减号可以修改该菜品的数量</strong><br><em>目前还未开发减号相关的代码，所以只有加号可以正常操作</em><br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_14,color_FFFFFF,t_70,g_se,x_16-20220916164233804.png" alt="在这里插入图片描述"></p>
<p><strong>shopping_cart表中的number字段值得到更新</strong><br><img src="/../../assets/62d244023c6e489c9a6db416ca6a4528.png" alt="在这里插入图片描述"></p>
<p><em>注意：amount字段的值为该菜品价格，而与数量无关</em></p>
<h2 id="09-购物车-代码开发-查看购物车-amp-清空购物车"><a href="#09-购物车-代码开发-查看购物车-amp-清空购物车" class="headerlink" title="09-购物车_代码开发_查看购物车&amp;清空购物车"></a>09-购物车_代码开发_查看购物车&amp;清空购物车</h2><h3 id="查看购物车"><a href="#查看购物车" class="headerlink" title="查看购物车"></a>查看购物车</h3><h4 id="前端分析-12"><a href="#前端分析-12" class="headerlink" title="前端分析"></a>前端分析</h4><p><strong>查看购物车，前端页面发送ajax请求，以下是请求的方式和请求的地址</strong><br><img src="/../../assets/349d2348410f469cb69aae8c01a99a13.png" alt="在这里插入图片描述"></p>
<h4 id="代码开发-10"><a href="#代码开发-10" class="headerlink" title="代码开发"></a>代码开发</h4><p><strong>在ShoppingCartController类中，添加list方法</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">	<span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 查询用户购物车数据</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@GetMapping(&quot;list&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> R&lt;List&lt;ShoppingCart&gt;&gt; <span class="title function_">list</span><span class="params">()</span>&#123;</span><br><span class="line">        LambdaQueryWrapper&lt;ShoppingCart&gt; queryWrapper = <span class="keyword">new</span> <span class="title class_">LambdaQueryWrapper</span>&lt;&gt;();</span><br><span class="line">        queryWrapper.eq(ShoppingCart::getUserId,BaseContext.getCurrentId());</span><br><span class="line">        queryWrapper.orderByDesc(ShoppingCart::getCreateTime);</span><br><span class="line"></span><br><span class="line">        List&lt;ShoppingCart&gt; list = shoppingCartService.list(queryWrapper);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> R.success(list);</span><br><span class="line">    &#125;</span><br><span class="line"><span class="number">1234567891011121314</span></span><br></pre></td></tr></table></figure>

<h4 id="测试-15"><a href="#测试-15" class="headerlink" title="测试"></a>测试</h4><p><strong>重启项目，选择所需菜品或套餐，若需选择口味，则在选择口味后点击加入购物车</strong><br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_13,color_FFFFFF,t_70,g_se,x_16-20220916164233810.png" alt="在这里插入图片描述"></p>
<p><strong>点击加入购物车后，页面发送三个ajax请求到服务端</strong></p>
<ul>
<li>add— 》 将所选菜品或套餐添加到数据库表中</li>
<li>list— 》 查询用户的购物车信息（需要测试的方法）</li>
<li>download— 》 图片下载<br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164234111.png" alt="在这里插入图片描述"></li>
</ul>
<p><strong>查询用户购物车信息成功，并在页面展示</strong><br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_13,color_FFFFFF,t_70,g_se,x_16-20220916164234360.png" alt="在这里插入图片描述"></p>
<h3 id="清空购物车"><a href="#清空购物车" class="headerlink" title="清空购物车"></a>清空购物车</h3><h4 id="前端分析-13"><a href="#前端分析-13" class="headerlink" title="前端分析"></a>前端分析</h4><p><strong>点击清空用户购物车，页面发送ajax请求，以下是请求的方式和请求的地址</strong><br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164236889.png" alt="在这里插入图片描述"></p>
<h4 id="代码开发-11"><a href="#代码开发-11" class="headerlink" title="代码开发"></a>代码开发</h4><p><strong>在ShoppingCartController类中，添加clean方法</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">	<span class="meta">@DeleteMapping(&quot;/clean&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> R&lt;String&gt; <span class="title function_">clean</span><span class="params">()</span>&#123;</span><br><span class="line">        LambdaQueryWrapper&lt;ShoppingCart&gt; queryWrapper = <span class="keyword">new</span> <span class="title class_">LambdaQueryWrapper</span>&lt;&gt;();</span><br><span class="line">        queryWrapper.eq(ShoppingCart::getUserId,BaseContext.getCurrentId());</span><br><span class="line"></span><br><span class="line">        <span class="comment">//SQL:delete from shopping_cart where user_id = ?</span></span><br><span class="line">        shoppingCartService.remove(queryWrapper);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> R.success(<span class="string">&quot;成功清空购物车&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"><span class="number">12345678910</span></span><br></pre></td></tr></table></figure>

<h4 id="测试-16"><a href="#测试-16" class="headerlink" title="测试"></a>测试</h4><p><strong>重启项目，来到购物车界面，点击清空按钮</strong><br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_14,color_FFFFFF,t_70,g_se,x_16-20220916164236840.png" alt="在这里插入图片描述"></p>
<p><strong>执行成功</strong><br><img src="/../../assets/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQmxhQ2xvdWQ=,size_20,color_FFFFFF,t_70,g_se,x_16-20220916164236790.png" alt="在这里插入图片描述"></p>
<h2 id="10-用户下单-需求分析-amp-数据模型"><a href="#10-用户下单-需求分析-amp-数据模型" class="headerlink" title="10-用户下单_需求分析&amp;数据模型"></a>10-用户下单_需求分析&amp;数据模型</h2><h3 id="需求分析-19"><a href="#需求分析-19" class="headerlink" title="需求分析"></a>需求分析</h3><p><strong>移动端用户将菜品或者套餐加入购物车后，可以点击购物车中的去结算按钮，页面跳转到订单确认页面，点击去支付按钮，完成下单操作</strong></p>
<p><strong>前端页面效果展示</strong><br><img src="/../../assets/00eb8f5c596540768b225ef99f7860e5.png" alt="在这里插入图片描述"></p>
<h3 id="数据模型-6"><a href="#数据模型-6" class="headerlink" title="数据模型"></a>数据模型</h3><p><strong>用户下单业务对应的数据表为orders表和order_detail表</strong></p>
<ul>
<li>orders:订单表，具体表结构如下：<br><img src="/../../assets/f50de08b6f4148ea99dc2d0dcb2ff2d7.png" alt="在这里插入图片描述"></li>
<li>order_detail:订单明细表，具体表结构如下：<br><img src="/../../assets/3f0f7b113ec645f7a962d5721676679a.png" alt="在这里插入图片描述"></li>
</ul>
<h2 id="11-用户下单-梳理交互过程-amp-准备工作"><a href="#11-用户下单-梳理交互过程-amp-准备工作" class="headerlink" title="11-用户下单_梳理交互过程&amp;准备工作"></a>11-用户下单_梳理交互过程&amp;准备工作</h2><h3 id="梳理交互过程-5"><a href="#梳理交互过程-5" class="headerlink" title="梳理交互过程"></a>梳理交互过程</h3><p><strong>在开发代码之前，需要梳理一下用户下单操作时前端页面和服务端的交互过程:</strong></p>
<ol>
<li>在购物车中点击去结算按钮，页面跳转到订单确认页面</li>
<li>在订单确认页面，发送ajax请求，请求服务端获取当前登录用户的默认地址</li>
<li>在订单确认页面，发送ajax请求，请求服务端获取当前登录用户的购物车数据</li>
<li>在订单确认页面点击去支付按钮，发送ajax请求，请求服务端完成下单操作</li>
</ol>
<p><em>开发用户下单功能，其实就是在服务端编写代码去处理前端页面发送的请求即可</em></p>
<h3 id="准备工作-1"><a href="#准备工作-1" class="headerlink" title="准备工作"></a>准备工作</h3><p><strong>在开发业务功能前，先将需要用到的类和接口基本结构创建好:</strong></p>
<ol>
<li>实体类Orders、OrderDetail(直接从课程资料中导入即可)</li>
<li>Mapper接口OrderMapper、OrderDetailMapper</li>
<li>业务层接口OrderService、OrderDetailService</li>
<li>业务层实现类OrderServicelmpl、OrderDetailServicelmpl</li>
<li>控制层OrderController、OrderDetailController</li>
</ol>
<p><strong>实体类</strong></p>
<p>Orders</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.itzq.reggie.entity;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> lombok.Data;</span><br><span class="line"><span class="keyword">import</span> java.io.Serializable;</span><br><span class="line"><span class="keyword">import</span> java.math.BigDecimal;</span><br><span class="line"><span class="keyword">import</span> java.time.LocalDateTime;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 订单</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Orders</span> <span class="keyword">implements</span> <span class="title class_">Serializable</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">long</span> <span class="variable">serialVersionUID</span> <span class="operator">=</span> <span class="number">1L</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> Long id;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//订单号</span></span><br><span class="line">    <span class="keyword">private</span> String number;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//订单状态 1待付款，2待派送，3已派送，4已完成，5已取消</span></span><br><span class="line">    <span class="keyword">private</span> Integer status;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//下单用户id</span></span><br><span class="line">    <span class="keyword">private</span> Long userId;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//地址id</span></span><br><span class="line">    <span class="keyword">private</span> Long addressBookId;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//下单时间</span></span><br><span class="line">    <span class="keyword">private</span> LocalDateTime orderTime;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//结账时间</span></span><br><span class="line">    <span class="keyword">private</span> LocalDateTime checkoutTime;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//支付方式 1微信，2支付宝</span></span><br><span class="line">    <span class="keyword">private</span> Integer payMethod;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//实收金额</span></span><br><span class="line">    <span class="keyword">private</span> BigDecimal amount;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//备注</span></span><br><span class="line">    <span class="keyword">private</span> String remark;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//用户名</span></span><br><span class="line">    <span class="keyword">private</span> String userName;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//手机号</span></span><br><span class="line">    <span class="keyword">private</span> String phone;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//地址</span></span><br><span class="line">    <span class="keyword">private</span> String address;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//收货人</span></span><br><span class="line">    <span class="keyword">private</span> String consignee;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="number">1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162</span></span><br></pre></td></tr></table></figure>

<p>OrderDetail</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.itzq.reggie.entity;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.annotation.IdType;</span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.annotation.TableId;</span><br><span class="line"><span class="keyword">import</span> lombok.Data;</span><br><span class="line"><span class="keyword">import</span> java.io.Serializable;</span><br><span class="line"><span class="keyword">import</span> java.math.BigDecimal;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 订单明细</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">OrderDetail</span> <span class="keyword">implements</span> <span class="title class_">Serializable</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">long</span> <span class="variable">serialVersionUID</span> <span class="operator">=</span> <span class="number">1L</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> Long id;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//名称</span></span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//订单id</span></span><br><span class="line">    <span class="keyword">private</span> Long orderId;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//菜品id</span></span><br><span class="line">    <span class="keyword">private</span> Long dishId;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//套餐id</span></span><br><span class="line">    <span class="keyword">private</span> Long setmealId;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//口味</span></span><br><span class="line">    <span class="keyword">private</span> String dishFlavor;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//数量</span></span><br><span class="line">    <span class="keyword">private</span> Integer number;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//金额</span></span><br><span class="line">    <span class="keyword">private</span> BigDecimal amount;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//图片</span></span><br><span class="line">    <span class="keyword">private</span> String image;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="number">1234567891011121314151617181920212223242526272829303132333435363738394041424344454647</span></span><br></pre></td></tr></table></figure>

<p><strong>Mapper接口</strong></p>
<p>OrderMapper</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.itzq.reggie.mapper;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.core.mapper.BaseMapper;</span><br><span class="line"><span class="keyword">import</span> com.itzq.reggie.entity.Orders;</span><br><span class="line"><span class="keyword">import</span> org.apache.ibatis.annotations.Mapper;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Mapper</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">OrderMapper</span> <span class="keyword">extends</span> <span class="title class_">BaseMapper</span>&lt;Orders&gt; &#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="number">12345678910</span></span><br></pre></td></tr></table></figure>

<p>OrderDetailMapper</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.itzq.reggie.mapper;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.core.mapper.BaseMapper;</span><br><span class="line"><span class="keyword">import</span> com.itzq.reggie.entity.OrderDetail;</span><br><span class="line"><span class="keyword">import</span> org.apache.ibatis.annotations.Mapper;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Mapper</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">OrderDetailMapper</span> <span class="keyword">extends</span> <span class="title class_">BaseMapper</span>&lt;OrderDetail&gt; &#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="number">1234567891011</span></span><br></pre></td></tr></table></figure>

<p><strong>业务层接口</strong></p>
<p>OrderService</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.itzq.reggie.service;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.extension.service.IService;</span><br><span class="line"><span class="keyword">import</span> com.itzq.reggie.entity.Orders;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">OrderService</span> <span class="keyword">extends</span> <span class="title class_">IService</span>&lt;Orders&gt; &#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="number">12345678</span></span><br></pre></td></tr></table></figure>

<p>OrderDetailService</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.itzq.reggie.service;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.extension.service.IService;</span><br><span class="line"><span class="keyword">import</span> com.itzq.reggie.entity.OrderDetail;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">OrderDetailService</span> <span class="keyword">extends</span> <span class="title class_">IService</span>&lt;OrderDetail&gt; &#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="number">12345678</span></span><br></pre></td></tr></table></figure>

<p><strong>业务层实现类</strong></p>
<p>OrderServicelmpl</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.itzq.reggie.service.Impl;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.extension.service.impl.ServiceImpl;</span><br><span class="line"><span class="keyword">import</span> com.itzq.reggie.entity.Orders;</span><br><span class="line"><span class="keyword">import</span> com.itzq.reggie.mapper.OrderMapper;</span><br><span class="line"><span class="keyword">import</span> com.itzq.reggie.service.OrderService;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Service;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">OrderServicelmpl</span> <span class="keyword">extends</span> <span class="title class_">ServiceImpl</span>&lt;OrderMapper, Orders&gt; <span class="keyword">implements</span> <span class="title class_">OrderService</span> &#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="number">123456789101112</span></span><br></pre></td></tr></table></figure>

<p>OrderDetailServicelmpl</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.itzq.reggie.service.Impl;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.extension.service.impl.ServiceImpl;</span><br><span class="line"><span class="keyword">import</span> com.itzq.reggie.entity.OrderDetail;</span><br><span class="line"><span class="keyword">import</span> com.itzq.reggie.mapper.OrderDetailMapper;</span><br><span class="line"><span class="keyword">import</span> com.itzq.reggie.service.OrderDetailService;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Service;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">OrderDetailServicelmpl</span> <span class="keyword">extends</span> <span class="title class_">ServiceImpl</span>&lt;OrderDetailMapper, OrderDetail&gt; <span class="keyword">implements</span> <span class="title class_">OrderDetailService</span> &#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="number">123456789101112</span></span><br></pre></td></tr></table></figure>

<p><strong>控制层</strong></p>
<p>OrderController</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.itzq.reggie.controller;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.itzq.reggie.service.OrderService;</span><br><span class="line"><span class="keyword">import</span> lombok.extern.slf4j.Slf4j;</span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Autowired;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RequestMapping;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RestController;</span><br><span class="line"></span><br><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="meta">@RequestMapping(&quot;/order&quot;)</span></span><br><span class="line"><span class="meta">@Slf4j</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">OrderController</span> &#123;</span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> OrderService orderService;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="number">1234567891011121314151617</span></span><br></pre></td></tr></table></figure>

<p>OrderDetailController</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.itzq.reggie.controller;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.itzq.reggie.service.OrderDetailService;</span><br><span class="line"><span class="keyword">import</span> lombok.extern.slf4j.Slf4j;</span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Autowired;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RequestMapping;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RestController;</span><br><span class="line"></span><br><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="meta">@RequestMapping(&quot;/orderDetail&quot;)</span></span><br><span class="line"><span class="meta">@Slf4j</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">OrderDetailController</span> &#123;</span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> OrderDetailService orderDetailService;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="number">1234567891011121314151617</span></span><br></pre></td></tr></table></figure>

<h2 id="12-用户下单-代码开发1"><a href="#12-用户下单-代码开发1" class="headerlink" title="12-用户下单_代码开发1"></a>12-用户下单_代码开发1</h2><h3 id="前端分析-14"><a href="#前端分析-14" class="headerlink" title="前端分析"></a>前端分析</h3><p><strong>启动项目，来到外卖初始界面，点击去结算按钮</strong><br><img src="/../../assets/16883d70b587482cbecfcbbf1815287e.png" alt="在这里插入图片描述"></p>
<p><strong>页面跳转到确认订单界面，前端界面发送ajax请求，用于获取该用户的默认地址，发现请求失败，服务端没有对应的映射</strong><br><img src="/../../assets/0fd1211e841745869f58e10c78b6e9a0.png" alt="在这里插入图片描述"></p>
<p><strong>在AddressBookController控制层，添加getDefault，请求方式为get请求</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"> <span class="meta">@GetMapping(&quot;/default&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> R&lt;AddressBook&gt; <span class="title function_">getDefault</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="comment">//当前用户id</span></span><br><span class="line">        <span class="type">Long</span> <span class="variable">currentId</span> <span class="operator">=</span> BaseContext.getCurrentId();</span><br><span class="line"></span><br><span class="line">        <span class="comment">//创建条件构造器</span></span><br><span class="line">        LambdaQueryWrapper&lt;AddressBook&gt; queryWrapper = <span class="keyword">new</span> <span class="title class_">LambdaQueryWrapper</span>&lt;&gt;();</span><br><span class="line">        queryWrapper.eq(AddressBook::getUserId,currentId);</span><br><span class="line">        queryWrapper.eq(AddressBook::getIsDefault,<span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">        <span class="type">AddressBook</span> <span class="variable">addressBook</span> <span class="operator">=</span> addressBookService.getOne(queryWrapper);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> R.success(addressBook);</span><br><span class="line">    &#125;</span><br><span class="line"><span class="number">1234567891011121314</span></span><br></pre></td></tr></table></figure>

<p><strong>重启项目，点击去结算按钮，跳转到确认订单页面，成功接收到该用户的默认地址</strong><br><img src="/../../assets/48bf465de55846ba9e1c5f7f045d2b1a.png" alt="在这里插入图片描述"></p>
<p><strong>处理好确认订单页面后，点击去支付，系统报404错误—服务端还未添加相应的映射</strong></p>
<p>以下展示了前端页面发送ajax请求的方式以及请求的地址<br><img src="/../../assets/d5497d30dfac4d9b808ca60a0c795eb7.png" alt="在这里插入图片描述"></p>
<p><strong>提交给服务端的数据格式为json数据</strong><br><img src="/../../assets/ccb81254f1134b90bf0fcb6c46583318.png" alt="在这里插入图片描述"></p>
<h3 id="代码开发1"><a href="#代码开发1" class="headerlink" title="代码开发1"></a>代码开发1</h3><p><strong>在业务层接口OrderService中添加submit方法</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.itzq.reggie.service;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.extension.service.IService;</span><br><span class="line"><span class="keyword">import</span> com.itzq.reggie.entity.Orders;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">OrderService</span> <span class="keyword">extends</span> <span class="title class_">IService</span>&lt;Orders&gt; &#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 用户下单</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> orders</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">submit</span><span class="params">(Orders orders)</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="number">12345678910111213</span></span><br></pre></td></tr></table></figure>

<p><strong>在业务层实现类OrderServicelmpl中，实现业务层接口OrderService添加的submit方法</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.itzq.reggie.service.Impl;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.extension.service.impl.ServiceImpl;</span><br><span class="line"><span class="keyword">import</span> com.itzq.reggie.entity.Orders;</span><br><span class="line"><span class="keyword">import</span> com.itzq.reggie.mapper.OrderMapper;</span><br><span class="line"><span class="keyword">import</span> com.itzq.reggie.service.OrderService;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Service;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">OrderServicelmpl</span> <span class="keyword">extends</span> <span class="title class_">ServiceImpl</span>&lt;OrderMapper, Orders&gt; <span class="keyword">implements</span> <span class="title class_">OrderService</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 用户下单</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> orders</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">submit</span><span class="params">(Orders orders)</span> &#123;</span><br><span class="line">        <span class="comment">//获取当前用户id</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//查询当前用户的购物车数据</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//向订单表插入数据，一条数据</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//向订单明细表插入数据，多条数据</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//清空购物车数据</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="number">1234567891011121314151617181920212223242526272829</span></span><br></pre></td></tr></table></figure>

<p><strong>在OrderController类中，添加submit方法—通过调用orderService接口实现对数据库的操作</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.itzq.reggie.controller;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.itzq.reggie.common.R;</span><br><span class="line"><span class="keyword">import</span> com.itzq.reggie.entity.Orders;</span><br><span class="line"><span class="keyword">import</span> com.itzq.reggie.service.OrderService;</span><br><span class="line"><span class="keyword">import</span> lombok.extern.slf4j.Slf4j;</span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Autowired;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.PostMapping;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RequestBody;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RequestMapping;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RestController;</span><br><span class="line"></span><br><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="meta">@RequestMapping(&quot;/order&quot;)</span></span><br><span class="line"><span class="meta">@Slf4j</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">OrderController</span> &#123;</span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> OrderService orderService;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@PostMapping(&quot;/submit&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> R&lt;String&gt; <span class="title function_">submit</span><span class="params">(<span class="meta">@RequestBody</span> Orders orders)</span>&#123;</span><br><span class="line">        log.info(<span class="string">&quot;orders=&#123;&#125;&quot;</span>,orders);</span><br><span class="line"></span><br><span class="line">        orderService.submit(orders);</span><br><span class="line">        <span class="keyword">return</span> R.success(<span class="string">&quot;用户下单成功&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="number">12345678910111213141516171819202122232425262728</span></span><br></pre></td></tr></table></figure>

<h2 id="13-用户下单-代码开发2"><a href="#13-用户下单-代码开发2" class="headerlink" title="13-用户下单_代码开发2"></a>13-用户下单_代码开发2</h2><h3 id="代码开发2"><a href="#代码开发2" class="headerlink" title="代码开发2"></a>代码开发2</h3><p><strong>在业务层实现类OrderServicelmpl的submit方法中，添加逻辑代码</strong></p>
<ul>
<li>获取当前用户id</li>
<li>查询当前用户的购物车数据</li>
<li>查询用户数据</li>
<li>查询地址信息</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">	<span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 用户下单</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> orders</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="meta">@Transactional</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">submit</span><span class="params">(Orders orders)</span> &#123;</span><br><span class="line">        <span class="comment">//获取当前用户id</span></span><br><span class="line">        <span class="type">Long</span> <span class="variable">currentId</span> <span class="operator">=</span> BaseContext.getCurrentId();</span><br><span class="line"></span><br><span class="line">        <span class="comment">//查询当前用户的购物车数据</span></span><br><span class="line">        LambdaQueryWrapper&lt;ShoppingCart&gt; queryWrapper = <span class="keyword">new</span> <span class="title class_">LambdaQueryWrapper</span>&lt;&gt;();</span><br><span class="line">        queryWrapper.eq(ShoppingCart::getUserId,currentId);</span><br><span class="line">        List&lt;ShoppingCart&gt; shoppingCarts = shoppingCartService.list();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (shoppingCarts == <span class="literal">null</span> || shoppingCarts.size() == <span class="number">0</span>)&#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">CustomException</span>(<span class="string">&quot;购物车为空，不能下单&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//查询用户数据</span></span><br><span class="line">        <span class="type">User</span> <span class="variable">user</span> <span class="operator">=</span> userService.getById(currentId);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//查询地址数据</span></span><br><span class="line">        <span class="type">Long</span> <span class="variable">addressBookId</span> <span class="operator">=</span> orders.getAddressBookId();</span><br><span class="line">        <span class="type">AddressBook</span> <span class="variable">addressBook</span> <span class="operator">=</span> addressBookService.getById(addressBookId);</span><br><span class="line">        <span class="keyword">if</span> (addressBook == <span class="literal">null</span>)&#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">CustomException</span>(<span class="string">&quot;地址信息有误，不能下单&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//向订单表插入数据，一条数据</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//向订单明细表插入数据，多条数据</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//清空购物车数据</span></span><br><span class="line">    &#125;</span><br><span class="line"><span class="number">1234567891011121314151617181920212223242526272829303132333435</span></span><br></pre></td></tr></table></figure>

<h2 id="14-用户下单-代码开发3"><a href="#14-用户下单-代码开发3" class="headerlink" title="14-用户下单_代码开发3"></a>14-用户下单_代码开发3</h2><h3 id="代码开发3"><a href="#代码开发3" class="headerlink" title="代码开发3"></a>代码开发3</h3><p><strong>提供完整的submit方法代码</strong></p>
<ul>
<li>设置订单id</li>
<li>向订单表设置属性</li>
<li>向订单表插入数据，一条数据</li>
<li>通过stream流，遍历购物车数据来获取的订单明细</li>
<li>向订单明细表插入数据，多条数据</li>
<li>清空购物车—通过用户id作为约束条件</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.itzq.reggie.service.Impl;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.core.conditions.query.LambdaQueryWrapper;</span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.core.toolkit.IdWorker;</span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.extension.service.impl.ServiceImpl;</span><br><span class="line"><span class="keyword">import</span> com.itzq.reggie.common.BaseContext;</span><br><span class="line"><span class="keyword">import</span> com.itzq.reggie.common.CustomException;</span><br><span class="line"><span class="keyword">import</span> com.itzq.reggie.entity.*;</span><br><span class="line"><span class="keyword">import</span> com.itzq.reggie.mapper.OrderMapper;</span><br><span class="line"><span class="keyword">import</span> com.itzq.reggie.service.*;</span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Autowired;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Service;</span><br><span class="line"><span class="keyword">import</span> org.springframework.transaction.annotation.Transactional;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.math.BigDecimal;</span><br><span class="line"><span class="keyword">import</span> java.time.LocalDateTime;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.atomic.AtomicInteger;</span><br><span class="line"><span class="keyword">import</span> java.util.stream.Collectors;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">OrderServicelmpl</span> <span class="keyword">extends</span> <span class="title class_">ServiceImpl</span>&lt;OrderMapper, Orders&gt; <span class="keyword">implements</span> <span class="title class_">OrderService</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> ShoppingCartService shoppingCartService;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> UserService userService;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> AddressBookService addressBookService;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> OrderDetailService orderDetailService;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 用户下单</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> orders</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="meta">@Transactional</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">submit</span><span class="params">(Orders orders)</span> &#123;</span><br><span class="line">        <span class="comment">//获取当前用户id</span></span><br><span class="line">        <span class="type">Long</span> <span class="variable">currentId</span> <span class="operator">=</span> BaseContext.getCurrentId();</span><br><span class="line"></span><br><span class="line">        <span class="comment">//查询当前用户的购物车数据</span></span><br><span class="line">        LambdaQueryWrapper&lt;ShoppingCart&gt; queryWrapper = <span class="keyword">new</span> <span class="title class_">LambdaQueryWrapper</span>&lt;&gt;();</span><br><span class="line">        queryWrapper.eq(ShoppingCart::getUserId,currentId);</span><br><span class="line">        List&lt;ShoppingCart&gt; shoppingCarts = shoppingCartService.list();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (shoppingCarts == <span class="literal">null</span> || shoppingCarts.size() == <span class="number">0</span>)&#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">CustomException</span>(<span class="string">&quot;购物车为空，不能下单&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//查询用户数据</span></span><br><span class="line">        <span class="type">User</span> <span class="variable">user</span> <span class="operator">=</span> userService.getById(currentId);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//查询地址数据</span></span><br><span class="line">        <span class="type">Long</span> <span class="variable">addressBookId</span> <span class="operator">=</span> orders.getAddressBookId();</span><br><span class="line">        <span class="type">AddressBook</span> <span class="variable">addressBook</span> <span class="operator">=</span> addressBookService.getById(addressBookId);</span><br><span class="line">        <span class="keyword">if</span> (addressBook == <span class="literal">null</span>)&#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">CustomException</span>(<span class="string">&quot;地址信息有误，不能下单&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//设置订单id</span></span><br><span class="line">        <span class="type">long</span> <span class="variable">orderId</span> <span class="operator">=</span> IdWorker.getId();</span><br><span class="line"></span><br><span class="line">        <span class="type">AtomicInteger</span> <span class="variable">amount</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">AtomicInteger</span>(<span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">        List&lt;OrderDetail&gt; orderDetailList= shoppingCarts.stream().map((item) -&gt; &#123;</span><br><span class="line">            <span class="type">OrderDetail</span> <span class="variable">orderDetail</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">OrderDetail</span>();</span><br><span class="line">            orderDetail.setOrderId(orderId);</span><br><span class="line">            orderDetail.setName(item.getName());</span><br><span class="line">            orderDetail.setImage(item.getImage());</span><br><span class="line">            orderDetail.setDishId(item.getDishId());</span><br><span class="line">            orderDetail.setSetmealId(item.getSetmealId());</span><br><span class="line">            orderDetail.setDishFlavor(item.getDishFlavor());</span><br><span class="line">            orderDetail.setNumber(item.getNumber());</span><br><span class="line">            orderDetail.setAmount(item.getAmount());</span><br><span class="line">            amount.addAndGet(item.getAmount().multiply(<span class="keyword">new</span> <span class="title class_">BigDecimal</span>(item.getNumber())).intValue());</span><br><span class="line"></span><br><span class="line">            <span class="keyword">return</span> orderDetail;</span><br><span class="line">        &#125;).collect(Collectors.toList());</span><br><span class="line"></span><br><span class="line">        <span class="comment">//向订单表设置属性</span></span><br><span class="line">        orders.setId(orderId);</span><br><span class="line">        orders.setNumber(String.valueOf(orderId));</span><br><span class="line">        orders.setStatus(<span class="number">2</span>);</span><br><span class="line">        orders.setUserId(currentId);</span><br><span class="line">        orders.setAddressBookId(addressBookId);</span><br><span class="line">        orders.setOrderTime(LocalDateTime.now());</span><br><span class="line">        orders.setCheckoutTime(LocalDateTime.now());</span><br><span class="line">        orders.setAmount(<span class="keyword">new</span> <span class="title class_">BigDecimal</span>(amount.get()));</span><br><span class="line">        orders.setPhone(addressBook.getPhone());</span><br><span class="line">        orders.setUserName(user.getName());</span><br><span class="line">        orders.setConsignee(addressBook.getConsignee());</span><br><span class="line">        orders.setAddress(</span><br><span class="line">                (addressBook.getProvinceName() == <span class="literal">null</span> ? <span class="string">&quot;&quot;</span>:addressBook.getProvinceName())+</span><br><span class="line">                (addressBook.getCityName() == <span class="literal">null</span> ? <span class="string">&quot;&quot;</span>:addressBook.getCityName())+</span><br><span class="line">                (addressBook.getDistrictName() == <span class="literal">null</span> ? <span class="string">&quot;&quot;</span>:addressBook.getDistrictName())+</span><br><span class="line">                (addressBook.getDetail() == <span class="literal">null</span> ? <span class="string">&quot;&quot;</span>:addressBook.getDetail())</span><br><span class="line">        );</span><br><span class="line">        <span class="comment">//向订单表插入数据，一条数据</span></span><br><span class="line">       <span class="built_in">super</span>.save(orders);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//向订单明细表插入数据，多条数据</span></span><br><span class="line">        orderDetailService.saveBatch(orderDetailList);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//清空购物车数据</span></span><br><span class="line">        shoppingCartService.remove(queryWrapper);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="number">123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114</span></span><br></pre></td></tr></table></figure>

<h2 id="15-用户下单-功能测试"><a href="#15-用户下单-功能测试" class="headerlink" title="15-用户下单_功能测试"></a>15-用户下单_功能测试</h2><h3 id="功能测试-10"><a href="#功能测试-10" class="headerlink" title="功能测试"></a>功能测试</h3><p><strong>重启项目，登录用户，来到确定订单页面，点击去支付</strong><br><img src="/../../assets/d7d0088c462143a1bcd2ac4c67376648.png" alt="在这里插入图片描述"></p>
<p><strong>支付成功</strong><br><img src="/../../assets/2df9c9360071482cbcf92ea8b2244853.png" alt="在这里插入图片描述"></p>
<p><strong>数据库中orders表的变化：</strong><br><img src="/../../assets/1fada2bdd50742bc80c199f0046cce6e.png" alt="在这里插入图片描述"></p>
<p><strong>数据库中order_detail表的变化：</strong><br><img src="/../../assets/08951d06b10c418bb1c8fce70903d12d.png" alt="在这里插入图片描述"></p>
<p><strong>操作成功</strong></p>

    </div>

    
    
    

    <footer class="post-footer">

        

          <div class="post-nav">
            <div class="post-nav-item">
                <a href="/posts/a12c/" rel="prev" title="【项目】传智健康">
                  <i class="fa fa-angle-left"></i> 【项目】传智健康
                </a>
            </div>
            <div class="post-nav-item">
                <a href="/posts/78c8/" rel="next" title="【软件】PostMan">
                  【软件】PostMan <i class="fa fa-angle-right"></i>
                </a>
            </div>
          </div>
    </footer>
  </article>
</div>





  <a target="_blank" rel="noopener" href="https://zxalive.com" class="special-link">新站点zxalive.com</a>


</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">

  <div class="copyright">
    &copy; 
    <span itemprop="copyrightYear">2024</span>
    <span class="with-love">
      <i class="fa fa-heart"></i>
    </span>
    <span class="author" itemprop="copyrightHolder">zhangxin</span>
  </div>
<div class="wordcount">
  <span class="post-meta-item">
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-line"></i>
    </span>
    <span title="站点总字数">1.8m</span>
  </span>
  <span class="post-meta-item">
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
    <span title="站点阅读时长">26:53</span>
  </span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/" rel="noopener" target="_blank">NexT.Gemini</a> 强力驱动
  </div>

    </div>
  </footer>

  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>
  <div class="sidebar-dimmer"></div>
  <div class="back-to-top" role="button" aria-label="返回顶部">
    <i class="fa fa-arrow-up fa-lg"></i>
    <span>0%</span>
  </div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/sidebar.js"></script><script src="/js/next-boot.js"></script>

  






  





</body>
</html>
